/*!CK:3338979551!*//*1459218898,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["wCkho"]); }

__d('AdsPagerDispatcher',['AdsPagerConstants','Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsPagerConstants').PayloadSources;function i(k){return function(l){this.dispatch({payloadSource:k,action:l});};}var j=Object.assign(new (c('Dispatcher_DEPRECATED'))(),{handleUpdateFromViewAction:i(h.VIEW_ACTION),handleUpdateFromServerAction:i(h.SERVER_ACTION)});f.exports=j;},null);
__d('AdsRefreshHandler',['csx','AdsMouseStateStore','AdsPagerConstants','AdsPagerDispatcher','Animation','Arbiter','DOM','Event','SubscriptionsHandler','Toggler','UIPagelet','debounceAcrossTransitions','getOrCreateDOMID'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('AdsMouseStateStore').STATES,j=600;function k(l,m,n){'use strict';if(!n.data||!n.pid)return;this.$AdsRefreshHandler1=l;this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler3=m;this.$AdsRefreshHandler4=n;this.$AdsRefreshHandler5=0;this.$AdsRefreshHandler6=false;this.$AdsRefreshHandler7=true;this.$AdsRefreshHandler8=null;this.$AdsRefreshHandler9=c('debounceAcrossTransitions')(this.reloadAdsIfNeeded.bind(this),this.$AdsRefreshHandler3.delay);this.$AdsRefreshHandler10=new (c('SubscriptionsHandler'))();this.$AdsRefreshHandler10.addSubscriptions(c('Event').listen(this.$AdsRefreshHandler1,'mouseenter',this.setMouseOver.bind(this,true)),c('Event').listen(this.$AdsRefreshHandler1,'mouseleave',this.setMouseOver.bind(this,false)),c('AdsMouseStateStore').subscribe('change',this.onMouseStateStoreChange.bind(this)),c('Arbiter').subscribe('AdsPreferencesDialog/opened',this.stopRefreshingRHC.bind(this)),c('Arbiter').subscribe('AdsPreferencesDialog/closed',this.startRefreshingRHC.bind(this)),c('Arbiter').subscribe('VideoChannelView/opened',this.stopRefreshingRHC.bind(this)),c('Arbiter').subscribe('VideoChannelView/closed',this.startRefreshingRHC.bind(this)));this.$AdsRefreshHandler11();c('AdsPagerDispatcher').register(this.handlePageDispatch.bind(this));}k.prototype.$AdsRefreshHandler11=function(){'use strict';if(this.$AdsRefreshHandler12)this.$AdsRefreshHandler12.release();this.$AdsRefreshHandler12=new (c('SubscriptionsHandler'))();var l=c('DOM').scry(this.$AdsRefreshHandler1,'.uiToggle');for(var m=0;m<l.length;m++)this.$AdsRefreshHandler12.addSubscriptions(c('Toggler').listen('show',l[m],this.stopRefreshingRHC.bind(this)),c('Toggler').listen('hide',l[m],this.startRefreshingRHC.bind(this)));};k.prototype.handlePageDispatch=function(l){'use strict';var m=l.action||{};if(m.actionType===c('AdsPagerConstants').ActionTypes.REQUEST_PAGE)this.reloadAds();};k.prototype.setMouseOver=function(l){'use strict';this.$AdsRefreshHandler13=l;if(l&&this.$AdsRefreshHandler8!=null){this.$AdsRefreshHandler8.cancel();this.$AdsRefreshHandler8=null;}};k.prototype.subscribeDefaultEventsForRefresh=function(){'use strict';this.$AdsRefreshHandler10.addSubscriptions(c('Event').listen(window,'scroll',this.$AdsRefreshHandler9),c('Event').listen(window,'resize',this.$AdsRefreshHandler9));return this;};k.prototype.reloadWithDebounce=function(){'use strict';this.$AdsRefreshHandler9();};k.prototype.reloadWithoutDebounce=function(){'use strict';this.reloadAdsIfNeeded();};k.prototype.stopRefreshingRHC=function(l,m){'use strict';this.$AdsRefreshHandler7=false;};k.prototype.startRefreshingRHC=function(l,m){'use strict';this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler7=true;};k.prototype.forceLoadIfEnoughTimePassed=function(l){'use strict';if(Date.now()-this.$AdsRefreshHandler2>l)this.reloadAds();};k.prototype.containsPremium=function(){'use strict';var l=c('DOM').scry(this.$AdsRefreshHandler1,"div._4u8");return !!l.filter(function(m){return JSON.parse(m.getAttribute('data-ad')).segment==='premium';}).length;};k.prototype.reloadAdsIfNeeded=function(){'use strict';if(!this.$AdsRefreshHandler1)return;c('Arbiter').inform('AdsRefreshHandler/CheckingReload');if(this.$AdsRefreshHandler3.stateRefresh){this.reloadAdsIfNeededStateBased();return;}if(this.containsPremium()||this.$AdsRefreshHandler13||!this.$AdsRefreshHandler3.interval)return;if(Date.now()-this.$AdsRefreshHandler2>=this.$AdsRefreshHandler3.interval)this.reloadAds();};k.prototype.reloadAdsIfNeededStateBased=function(){'use strict';if(Date.now()-this.$AdsRefreshHandler2<this.$AdsRefreshHandler3.interval)return;if(this.containsPremium())return;if(!this.$AdsRefreshHandler3.interval)return;this.$AdsRefreshHandler6=true;c('Arbiter').inform('AdsRefreshHandler/RefreshScheduled');this.checkScheduledRefresh();};k.prototype.getRefreshScheduled=function(){'use strict';return this.$AdsRefreshHandler6;};k.prototype.onMouseStateStoreChange=function(){'use strict';this.checkScheduledRefresh();};k.prototype.checkScheduledRefresh=function(){'use strict';if(!this.$AdsRefreshHandler6)return;if(this.$AdsRefreshHandler13)return;var l=c('AdsMouseStateStore').getState(),m=false;switch(l){case i.HOVER:case i.NO_INTENT:m=true;break;default:break;}if(!m)return;this.$AdsRefreshHandler6=false;this.reloadAds();};k.prototype.reloadAds=function(){'use strict';if(!this.$AdsRefreshHandler1)return;this.$AdsRefreshHandler2=Date.now();if(!this.$AdsRefreshHandler7)return;var l=this.$AdsRefreshHandler4&&this.$AdsRefreshHandler4.data,m=babelHelpers['extends']({},l,{refresh_num:++this.$AdsRefreshHandler5});this.$AdsRefreshHandler8=c('UIPagelet').loadFromEndpoint('WebEgoPane',this.$AdsRefreshHandler1,{dom_id:c('getOrCreateDOMID')(this.$AdsRefreshHandler1),pid:this.$AdsRefreshHandler4.pid,data:m},{bundle:false,handler:this.onLoadHandler.bind(this)});c('Arbiter').inform('AdsRefreshHandler/AdsLoading');};k.prototype.onLoadHandler=function(){'use strict';c('Arbiter').inform('AdsRefreshHandler/AdsLoaded');this.$AdsRefreshHandler8=null;this.$AdsRefreshHandler11();if(!this.$AdsRefreshHandler3.fade)return;new (c('Animation'))(this.$AdsRefreshHandler1).from('opacity',0).to('opacity',1).duration(j).go();};k.prototype.cleanup=function(){'use strict';this.$AdsRefreshHandler1=null;this.$AdsRefreshHandler10.release();this.$AdsRefreshHandler9.reset();};f.exports=k;},null);
__d('KeyboardShortcuts',['KeyEventController','Layer','ModalLayer'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l){'use strict';this.key=j;this.handler=k;this.filter=l;this.register();}h.prototype.register=function(){'use strict';this.token=c('KeyEventController').registerKey(this.key,this.handler,this.filter);};h.prototype.remove=function(){'use strict';this.token.remove();};var i={_tokens:[[]],register:function(j,k,l){l=l||{};var m=l.allowDefault?k:function(event,q){k.apply(this,arguments);event.prevent();},n=l.baseFilters||[c('KeyEventController').defaultFilter],o=function(event,q){for(var r=0,s=n.length;r<s;r++)if(!n[r](event,q))return false;return !l.filter||l.filter(event,q);},p=new h(j,m,o);if(!this._tokens.length)this._tokens.push([]);this._tokens[this._tokens.length-1].push(p);return p;},init:function(){c('Layer').subscribe('show',function(j,k){if(k.hasBehavior(c('ModalLayer')))this.pushLayer();}.bind(this));c('Layer').subscribe('hide',function(j,k){if(k.hasBehavior(c('ModalLayer')))this.popLayer();}.bind(this));},pushLayer:function(){var j=this._tokens[this._tokens.length-1];j&&j.forEach(function(k){k.remove();});this._tokens.push([]);},popLayer:function(){var j=this._tokens.length-1;if(j<0)return;var k=this._tokens[j];k.forEach(function(m){m.remove();});this._tokens.pop();var l=this._tokens[j-1];l&&l.forEach(function(m){m.register();});}};i.init();f.exports=i;},null);
__d('FeedBaseKeyboardController',['csx','AccessibilityLogger','Arbiter','AsyncDialog','AsyncRequest','Banzai','BanzaiODS','BanzaiNectar','CSS','DOM','DOMScroll','Event','Focus','KeyboardShortcuts','LikeConfirmer','NavigationMessage','Parent','ReactComposerEvents','ReactComposerIDGenerator','Run','Scroll','SubscriptionsHandler','UITinyViewportAction','Vector','ViewportBounds','emptyFunction','ge','getActiveElement','isAsyncScrollQuery','isElementNode','throttle'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=0;function j(){var l=c('ge')('pagelet_bluebar');i=!c('UITinyViewportAction').isTiny()&&l?l.offsetTop+l.offsetHeight:0;}function k(l){'use strict';this.root=l;this.init();}k.prototype.getStories=function(){'use strict';};k.prototype.getParentStory=function(l){'use strict';};k.prototype.isStory=function(l){'use strict';};k.prototype.isHoldoutStory=function(l){'use strict';};k.prototype.getHeadline=function(l){'use strict';};k.prototype.getPreviousStory=function(l){'use strict';};k.prototype.getNextStory=function(l){'use strict';};k.prototype.setSelected=function(l,m){'use strict';};k.prototype.clickLike=function(){'use strict';};k.prototype.clickComment=function(){'use strict';};k.prototype.clickShare=function(){'use strict';};k.prototype.clickSeeMore=function(){'use strict';};k.prototype.clickLeft=function(){'use strict';};k.prototype.clickRight=function(){'use strict';};k.prototype.openAttachment=function(){'use strict';};k.prototype.focusComposer=function(){'use strict';var l=c('ge')('pagelet_composer');if(!l)l=c('ge')('pagelet_group_composer');if(l){var m=c('DOM').scry(l,'textarea')[0];if(m){c('Focus').set(m);c('DOMScroll').scrollToTop(true);}else{var n=c('DOM').scry(l,"div._36bx")[0],o=n&&n.id;if(c('ReactComposerIDGenerator').isComposerID(o)){c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+n.id);c('DOMScroll').scrollToTop(true);}}}};k.prototype.getScrollOffset=function(){'use strict';return 10+(this.scrollOffset||0);};k.prototype.getAnimationLength=function(l){'use strict';return Math.min(Math.abs(c('Vector').getElementPosition(l).y-c('ViewportBounds').getTop()-c('Scroll').getTop(document.body)),400);};k.prototype.findTop=function(){'use strict';var l=this.getStories();for(var m=0;m<l.length;m++)if(c('Vector').getElementPosition(l[m]).y>c('Vector').getScrollPosition().y)return l[m];};k.prototype.onLeave=function(){'use strict';this.subscriptions&&this.subscriptions.release();};k.prototype.getHelpDialogRequest=function(){'use strict';if(!this.dialogRequest){this.dialogRequest=new (c('AsyncRequest'))('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};k.prototype.init=function(){'use strict';c('Run').onLeave(this.onLeave.bind(this));this.subscriptions=new (c('SubscriptionsHandler'))();this.subscriptions.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.onLeave.bind(this)),c('KeyboardShortcuts').register('j',this.vert.bind(this,1)),c('KeyboardShortcuts').register('k',this.vert.bind(this,-1)),c('KeyboardShortcuts').register('l',function(){var l=this.getParentStory(c('getActiveElement')());c('LikeConfirmer').like(function(){this.setSelected(l,false);this.clickLike();}.bind(this),c('getActiveElement')());}.bind(this),{filter:this.hasActiveStory.bind(this)}),c('KeyboardShortcuts').register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),c('KeyboardShortcuts').register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),c('KeyboardShortcuts').register('p',this.focusComposer.bind(this)),c('KeyboardShortcuts').register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),c('KeyboardShortcuts').register('SLASH',function(){var l=this.getHelpDialogRequest();if(l){l.setRelativeTo(c('getActiveElement')());c('AsyncDialog').send(l);}}.bind(this),{filter:function(event,l){return event.getModifiers().shift;}}),c('KeyboardShortcuts').register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),c('KeyboardShortcuts').register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),c('KeyboardShortcuts').register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),c('Event').listen(this.root,'focusin',function(event){var l=event.getTarget();if(!this.isStory(l)){var m=c('DOM').isNodeOfType(l,['object','embed','iframe']),n=this.getParentStory(l),o=this.selected;if(n&&!m&&o){this.setSelected(n,true);this.selected=n;}}}.bind(this)));};k.prototype.hasActiveStory=function(event,l){'use strict';var m=c('getActiveElement')();return !(m&&c('CSS').shown(m))||!!this.getParentStory(m);};k.prototype.hasExpandableStoryInFocus=function(event,l){'use strict';var m=c('getActiveElement')();return !!(m.getElementsByClassName('text_exposed_root').length&&!m.getElementsByClassName('text_exposed_root text_exposed').length);};k.prototype.clickElement=function(l){'use strict';if(!l)return;var m=void 0;for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];for(var q=0,r=o.length;q<r;q++){m=c('DOM').scry(l,o[q])[0];if(m&&c('CSS').shown(m)){m.click();return;}}};k.prototype.click=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];this.clickElement.apply(this,[this.selected].concat(m));};k.prototype.$FeedBaseKeyboardController1=function(){'use strict';if(!this.$FeedBaseKeyboardController2){this.scrollOffset=0;var l=c('ge')('pagelet_feed_switcher_root');if(l)this.scrollOffset+=l.getBoundingClientRect().height;this.subscriptions.addSubscriptions(c('Event').listen(document,'scroll',function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}.bind(this)));this.$FeedBaseKeyboardController2=true;}};k.prototype.$FeedBaseKeyboardController3=function(){'use strict';if(!this.$FeedBaseKeyboardController4){j();this.subscriptions.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(j)));this.$FeedBaseKeyboardController4=true;}};k.prototype.vert=function(l){'use strict';this.$FeedBaseKeyboardController1();var m,n;if(this.selected){if(c('Banzai').isEnabled('kbshortcuts_feed')){n=l>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';c('BanzaiODS').bumpEntityKey('kbshortcuts_feed',n);c('BanzaiNectar').log('feed_scroll',n,{});}c('AccessibilityLogger').logJKKey();if(this.selected.id=='pagelet_composer'){m=l>0?this.getStories()[0]:null;if(this.isHoldoutStory(m))m=this.getPreviousStory(m);}else if(l===0){m=this.selected;}else m=l>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||c('ge')('pagelet_composer');if(!m){return;}else if(!c('isElementNode')(m)){c('CSS').removeClass(this.selected,'selectedStorySimple');this.selected=m;return this.vert(l);}}if(!m||c('Parent').byClass(m,'hidden_elem')||!c('DOM').contains(document,m)){m=this.findTop();if(m&&l<0)m=this.getPreviousStory(m);if(this.isHoldoutStory(m))m=this.getPreviousStory(m);}if(!m)return;this.anim&&this.anim.stop();var o=Date.now()-(this.lastScroll||0)>30,p=c('emptyFunction');if(l!==0)p=this.setFocused.bind(this,m);if(c('isAsyncScrollQuery')()){o=false;p();p=c('emptyFunction');}this.scrolling=true;this.scrollingTimer&&clearTimeout(this.scrollingTimer);this.$FeedBaseKeyboardController3();this.anim=c('DOMScroll').scrollTo(m,o?this.getAnimationLength(m):0,false,c('Vector').getViewportDimensions().y-i-this.getScrollOffset(),0,function(){this.scrollingTimer=setTimeout(function(){this.scrolling=false;}.bind(this),300);var q=c('Vector').getScrollPosition();p();if(q.distanceTo(c('Vector').getScrollPosition())!==0)c('DOMScroll').scrollTo(q,0);}.bind(this));this.setSelected(m,true);this.lastScroll=Date.now();};k.prototype.setTabindexOnStory=function(l,m){'use strict';if(this.isStory(l))l.tabIndex=m;};k.prototype.setFocused=function(l){'use strict';if(this.isStory(l))c('Focus').setWithoutOutline(l);};f.exports=k;},null);
__d('ChatTabListener',['cx','ChatTabModel','CSS','DOMQuery','Event','Run','SubscriptionsHandler','getNormalizedClientRect','throttle'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j=new (c('SubscriptionsHandler'))();function k(){if(!i)return;var n=c('DOMQuery').scry(document.body,'div.fbDockChatTabFlyout'),o=c('getNormalizedClientRect')(i);for(var p=0;p<n.length;p++){var q=c('getNormalizedClientRect')(n[p]);if(!q.height||!q.width)continue;if(q.left<=o.right){c('CSS').addClass(i,"_yy7");return;}}c('CSS').removeClass(i,"_yy7");}var l=c('throttle')(k,50),m={init:function(n){c('Run').onAfterLoad(function(){i=n;j.addSubscriptions(c('ChatTabModel').addListener(l),c('Event').listen(window,'resize',l));k();});c('Run').onUnload(function(){return j.release();});}};f.exports=m;},null);
__d('AsyncLayout',['AjaxPipeRequest','Arbiter','AsyncRequest','AsyncResponse','CSS','DOM','HTML','NavigationMessage','PageTransitionsRegistrar','URI','$','emptyFunction','ge','goURI','requireWeak'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h;c('requireWeak')('PageTransitions',function(j){h=j;});function i(j){'use strict';this.canvasID=j;if(c('ge')('rightCol'))this.auxiliaryID='rightCol';if(c('ge')('headerArea'))this.headerID='headerArea';if(c('ge')('toolbarContainer'))this.toolbarID='toolbarContainer';this.waitingForAux=false;c('PageTransitionsRegistrar').registerHandler(this.catchPageTransition.bind(this));this.subscription=c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.onNavigate.bind(this));c('Arbiter').inform('AsyncLayout/initialized',null,c('Arbiter').BEHAVIOR_STATE);}i.prototype.catchPageTransition=function(j){'use strict';this.subscription.unsubscribe();return false;};i.prototype.getCanvasID=function(j){'use strict';return j.sidecol?'contentCol':'contentArea';};i.prototype.onNavigate=function(j,k){'use strict';var l=k.useAjaxPipe;k=k.params;if(k.endpoint){if(this.request){this.request.setFinallyHandler(c('emptyFunction'));this.request.abort();}if(this.sideRequest)this.sideRequest.abort();if(l){this.request=new (c('AjaxPipeRequest'))().setURI(k.endpoint).setData(k).setCanvasId(this.getCanvasID(k)).setFinallyHandler(this.finallyHandler.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFirstResponseCallback(this.firstResponseCallback.bind(this)).send();}else{k.handled=true;this.waitingForAux=k.sidecol;var m=!!k.iframe,n=new (c('AsyncRequest'))().setOption('useIframeTransport',m).setURI(new (c('URI'))(k.endpoint)).setReadOnly(true).setMethod('GET').setData(k).setHandler(this.onResponse.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFinallyHandler(this.finallyHandler.bind(this));this.request=n;n.send();}}};i.prototype.onSideResponse=function(j){'use strict';var k=j.getPayload();if(k&&this.auxiliaryID)this.receivedAux(k);};i.prototype.receivedAux=function(j){'use strict';!this.waitingForAux;this.waitingForAux=false;c('DOM').setContent(c('$')(this.auxiliaryID),c('HTML')(j));};i.prototype.onResponse=function(j){'use strict';var k=j.getPayload();if(k.redirect){c('goURI')(k.redirect);}else{var l=k.html||k;c('DOM').setContent(c('$')(this.canvasID),c('HTML')(l));if(k.side_html&&this.auxiliaryID)this.receivedAux(k.side_html);if(this.headerID&&!k.keep_header){var m=c('$')(this.headerID);c('DOM').setContent(m,c('HTML')(k.header_html||''));c('CSS').conditionShow(m,k.header_html);}if(k.toolbar_html&&this.toolbarID)c('DOM').setContent(c('$')(this.toolbarID),c('HTML')(k.toolbar_html));if(k.js)new Function(k.js)();c('CSS').conditionClass('contentCol','hasRightCol',this.auxiliaryID&&!k.noRightSide);var n=c('ge')('rightCol');if(n&&k.noRightSide)c('DOM').empty(n);}var o=j.getRequest().getData();c('Arbiter').inform(c('NavigationMessage').NAVIGATION_COMPLETED,o.key);};i.prototype.errorHandler=function(j){'use strict';c('AsyncResponse').verboseErrorHandler(j);c('Arbiter').inform(c('NavigationMessage').NAVIGATION_FAILED);this.request=null;};i.prototype.firstResponseCallback=function(j){'use strict';window.scrollTo(0,0);c('Arbiter').inform(c('NavigationMessage').NAVIGATION_FIRST_RESPONSE);};i.prototype.finallyHandler=function(j){'use strict';this.request=null;if(h)h.transitionComplete(true);c('Arbiter').inform(c('NavigationMessage').NAVIGATION_COMPLETED);};f.exports=i;},null);
__d('DirectionalDockingElement',['Arbiter','ArbiterMixin','DOM','DOMDimensions','Event','Run','Scroll','Style','SubscriptionsHandler','UITinyViewportAction','ViewportBounds','getElementPosition','mixin','queryThenMutateDOM','removeFromArray','onEnclosingPageletDestroy'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=true,k=false,l='unfixed',m='fixed_top',n='fixed_middle',o,p=[];function q(){c('queryThenMutateDOM')(function(){return p.forEach(function(u){return u._queryDOM();});},function(){return p.forEach(function(u){return u._updateWithCache();});},'DirectionalDockingElement');}function r(u){p.push(u);if(!o){o=new (c('SubscriptionsHandler'))();o.addSubscriptions(c('Event').listen(window,'scroll',q),c('Event').listen(window,'resize',q),c('Run').onLeave(function(){while(p.length){p[0].destroy();s(p[0]);}}));}return o;}function s(u){c('removeFromArray')(p,u);if(!o||p.length)return;o.release();o=null;}h=babelHelpers.inherits(t,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function t(u){'use strict';i.constructor.call(this);this.$DirectionalDockingElement1=u;this.$DirectionalDockingElement2=0;var v=r(this);this.$DirectionalDockingElement3=v.addSubscriptions(c('onEnclosingPageletDestroy')(u,function(){return this.destroy();}.bind(this)));this.$DirectionalDockingElement4=c('ViewportBounds').getTop();this.$DirectionalDockingElement5=m;c('Style').set(this.$DirectionalDockingElement1,'width',c('DOMDimensions').getElementDimensions(this.$DirectionalDockingElement1).width+'px');this.$DirectionalDockingElement6=c('DOM').create('div');c('Style').set(this.$DirectionalDockingElement6,'position','relative');c('DOM').replace(this.$DirectionalDockingElement1,this.$DirectionalDockingElement6);c('DOM').appendContent(this.$DirectionalDockingElement6,this.$DirectionalDockingElement1);this.update();}t.prototype.destroy=function(){'use strict';try{this.$DirectionalDockingElement3&&c('Arbiter').unsubscribe(this.$DirectionalDockingElement3);}catch(u){}finally{this.$DirectionalDockingElement3=null;}if(this.$DirectionalDockingElement6&&this.$DirectionalDockingElement6.parentNode){c('DOM').remove(this.$DirectionalDockingElement6);this.$DirectionalDockingElement6=null;}if(p.indexOf(this)===-1)return;s(this);};t.prototype.$DirectionalDockingElement7=function(){'use strict';var u=-c('getElementPosition')(this.$DirectionalDockingElement6).y;if(u!==this.$DirectionalDockingElement8){this.$DirectionalDockingElement9=u>this.$DirectionalDockingElement8?k:j;this.$DirectionalDockingElement8=u;}this.$DirectionalDockingElement10=c('DOMDimensions').getElementDimensions(this.$DirectionalDockingElement1);this.$DirectionalDockingElement11=c('Scroll').getTop(document.body)+document.documentElement.clientHeight>document.documentElement.scrollHeight;};t.prototype.$DirectionalDockingElement12=function(u,v){'use strict';if(this.$DirectionalDockingElement13!==u||this.$DirectionalDockingElement14!==v){c('Style').apply(this.$DirectionalDockingElement1,{position:u,top:v+'px'});this.$DirectionalDockingElement13=u;this.$DirectionalDockingElement14=v;}};t.prototype.$DirectionalDockingElement15=function(){'use strict';this.$DirectionalDockingElement5=m;this.$DirectionalDockingElement12('fixed',this.$DirectionalDockingElement4);};t.prototype.$DirectionalDockingElement16=function(){'use strict';this.$DirectionalDockingElement5=n;this.$DirectionalDockingElement12('fixed',this.$DirectionalDockingElement2);};t.prototype.$DirectionalDockingElement17=function(){'use strict';this.$DirectionalDockingElement5=l;this.$DirectionalDockingElement12('absolute',this.$DirectionalDockingElement18);};t.prototype.$DirectionalDockingElement19=function(){'use strict';var u=this.$DirectionalDockingElement10.height;if(u!==this.$DirectionalDockingElement20){c('Style').set(this.$DirectionalDockingElement6,'height',u+'px');this.$DirectionalDockingElement20=u;this.inform('changedheight');}if(this.$DirectionalDockingElement5===m){this.$DirectionalDockingElement18=this.$DirectionalDockingElement8+this.$DirectionalDockingElement4;}else if(this.$DirectionalDockingElement5===n)this.$DirectionalDockingElement18=this.$DirectionalDockingElement8+this.$DirectionalDockingElement2;if(this.$DirectionalDockingElement11)return;if(this.$DirectionalDockingElement8+this.$DirectionalDockingElement4<=0||c('UITinyViewportAction').isTiny()){this.$DirectionalDockingElement18=0;this.$DirectionalDockingElement17();return;}if(this.$DirectionalDockingElement9===k&&this.$DirectionalDockingElement8+this.$DirectionalDockingElement2>=this.$DirectionalDockingElement18){this.$DirectionalDockingElement16();}else if(this.$DirectionalDockingElement9===j&&this.$DirectionalDockingElement8+this.$DirectionalDockingElement4<=this.$DirectionalDockingElement18){this.$DirectionalDockingElement15();}else this.$DirectionalDockingElement17();};t.prototype.update=function(){'use strict';this.$DirectionalDockingElement7();this.$DirectionalDockingElement19();};t.prototype.setOffset=function(u){'use strict';this.$DirectionalDockingElement2=u;this.update();return this;};f.exports=t;},null);
__d('DockingElement',['Arbiter','ArbiterMixin','CSS','DOM','DOMDimensions','Event','Run','Style','SubscriptionsHandler','UITinyViewportAction','getElementPosition','mixin','queryThenMutateDOM','removeFromArray','onEnclosingPageletDestroy'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j,k=[];function l(){c('queryThenMutateDOM')(function(){return k.forEach(function(p){return p.getRect();});},function(){return k.forEach(function(p){return p.updateWithCache();});},'DockingElement');}function m(p){k.push(p);if(!j){j=new (c('SubscriptionsHandler'))();j.addSubscriptions(c('Event').listen(window,'scroll',l),c('Event').listen(window,'resize',l),c('Run').onLeave(function(){while(k.length){k[0].destroy();n(k[0]);}}));}return j;}function n(p){c('removeFromArray')(k,p);if(!j||k.length)return;j.release();j=null;}h=babelHelpers.inherits(o,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function o(p){'use strict';i.constructor.call(this);this.$DockingElement11=p;this.$DockingElement6=0;this.update();var q=m(this);this.$DockingElement7=q.addSubscriptions(c('onEnclosingPageletDestroy')(p,function(){return this.destroy();}.bind(this)));}o.prototype.destroy=function(){'use strict';try{this.$DockingElement7&&c('Arbiter').unsubscribe(this.$DockingElement7);}catch(p){}finally{this.$DockingElement7=null;}if(this.$DockingElement8&&this.$DockingElement8.parentNode){c('DOM').remove(this.$DockingElement8);this.$DockingElement8=null;}n(this);};o.prototype.getRect=function(){'use strict';var p=this.$DockingElement5?this.getPlaceholder():this.$DockingElement11;this.$DockingElement10=c('getElementPosition')(p);this.$DockingElement3=c('DOMDimensions').getElementDimensions(p);};o.prototype.updateWithCache=function(){'use strict';var p=this.$DockingElement6,q=this.getPlaceholder();if(!c('UITinyViewportAction').isTiny()&&this.$DockingElement10.y<=p){if(!this.$DockingElement5&&this.$DockingElement11.parentNode){if(!this.$DockingElement4){c('DOM').insertAfter(this.$DockingElement11,q);this.$DockingElement4=true;}c('CSS').addClass(this.$DockingElement11,'fixed_elem');c('CSS').show(q);this.$DockingElement5=true;}var r;if(this.$DockingElement2!==p){r={};r.top=p+'px';this.$DockingElement2=p;}var s=this.$DockingElement3.width;if(s!==this.$DockingElement1){r=r||{};r.width=s+'px';this.$DockingElement1=s;}r&&c('Style').apply(this.$DockingElement11,r);var t=this.$DockingElement3.height;if(t!==this.$DockingElement9){c('Style').set(q,'height',t+'px');this.$DockingElement9=t;this.inform('changedheight');}}else if(this.$DockingElement5){c('Style').apply(this.$DockingElement11,{top:'',width:''});c('CSS').removeClass(this.$DockingElement11,'fixed_elem');c('CSS').hide(q);this.$DockingElement5=false;this.$DockingElement1=null;this.$DockingElement2=null;}};o.prototype.update=function(){'use strict';this.getRect();this.updateWithCache();};o.prototype.getPlaceholder=function(){'use strict';if(!this.$DockingElement8)this.$DockingElement8=c('DOM').create('div');return this.$DockingElement8;};o.prototype.setOffset=function(p){'use strict';this.$DockingElement6=p;this.update();return this;};f.exports=o;},null);
__d('StickyRHC',['csx','$','Arbiter','DirectionalDockingElement','DockingElement','DOMDimensions','DOMQuery','Event','Run','SubscriptionsHandler','ViewportBounds','ge','getElementPosition','getViewportDimensions','removeFromArray','throttle'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=35,j=[],k;function l(p,q){if(!q||!q.dom_id){j.forEach(m);return;}var r=c('$')(q.dom_id);for(var s=0;s<j.length;s++)if(c('DOMQuery').contains(j[s].getRoot(),r)){m(j[s]);return;}}function m(p){var q=p.getRoot(),r=p.updateOffset.bind(p),s=c('DOMQuery').scry(q,'img.img');s.forEach(function(t){if(t.complete||t.getAttribute('height')||typeof t.naturalHeight!=='undefined'&&t.naturalHeight!==0)return;var u=function(){r();v.remove();w.remove();x.remove();},v=c('Event').listen(t,'load',u),w=c('Event').listen(t,'error',u),x=c('Event').listen(t,'abort',u);});r();}function n(){j.forEach(function(p){p.updateOffset();});}function o(p,q){'use strict';this.$StickyRHC1=p;this.$StickyRHC2=q?new (c('DirectionalDockingElement'))(p):new (c('DockingElement'))(p);this.$StickyRHC3=0;this.$StickyRHC2.subscribe('changedheight',this.updateOffset.bind(this));this.updateOffset();m(this);if(!j.length){k=new (c('SubscriptionsHandler'))();k.addSubscriptions(c('Arbiter').subscribe('header_loaded',n),c('Arbiter').subscribe('netego_loaded',l),c('Arbiter').subscribe('pagelet_trending_tags_and_topics_displayed',n),c('Arbiter').subscribe('browse_top_filters_full_width_displayed',n),c('Arbiter').subscribe('takeover_survey_closed',n),c('Event').listen(window,'resize',c('throttle')(n)));}c('Run').onLeave(function(){return this.destroy;}.bind(this));j.push(this);}o.getInstances=function(){'use strict';return j;};o.prototype.getRoot=function(){'use strict';return this.$StickyRHC1;};o.prototype.destroy=function(){'use strict';this.$StickyRHC2=null;c('removeFromArray')(j,this);if(!j.length){k.release();k=null;}};o.prototype.updateOffset=function(){'use strict';var p=o.getNewOffset(this.$StickyRHC1,this.$StickyRHC4,this.$StickyRHC3);this.$StickyRHC2.setOffset(p+this.$StickyRHC3);};o.getNewOffset=function(p,q,r){'use strict';var s=c('DOMQuery').scry(p,"._4-u2"),t=c('DOMQuery').scry(p,"._4-u3"),u=c('DOMQuery').scry(p,"._5eh2"),v=c('DOMQuery').scry(p,'.uiHeader'),w=c('DOMQuery').scry(p,'.ego_unit'),x=[].concat(s,t,u,v,w),y=[];x.forEach(function(ia){y.push(c('getElementPosition')(ia).y);});y.sort(function(ia,ja){return ia-ja;});var z=c('getElementPosition')(p).y,aa=c('DOMDimensions').getElementDimensions(p).height;aa+=r;var ba=c('ViewportBounds').getTop(),ca=c('getViewportDimensions')().height-ba;ca-=i;if(typeof q==='undefined'){var da=c('ge')('pageFooter');q=da?c('DOMDimensions').getElementDimensions(da).height:0;}ca-=q;var ea=ca-aa;if(aa<ca){ea=ba;}else for(var fa=0,ga=y.length;fa<ga;fa++){var ha=y[fa]-z;if(aa-ha<ca){ea=ba-ha;break;}}return ea;};o.prototype.setOffset=function(p){'use strict';this.$StickyRHC3=p;this.updateOffset();};o.prototype.getOffset=function(p){'use strict';return this.$StickyRHC3;};f.exports=o;},null);
__d('FbFeedKeyboardController',['csx','cx','CSS','DOM','DOMQuery','FbFeedHighlight','FeedBaseKeyboardController','Focus','JSXDOM','Parent','ge','getActiveElement','isElementNode'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();function l(o){if(o.previousElementSibling)return o.previousElementSibling;o=o.previousSibling;while(o&&!c('isElementNode')(o))o=o.previousSibling;return o||null;}function m(o){if(o.nextElementSibling)return o.nextElementSibling;o=o.nextSibling;while(o&&!c('isElementNode')(o))o=o.nextSibling;return o||null;}j=babelHelpers.inherits(n,c('FeedBaseKeyboardController'));k=j&&j.prototype;n.prototype.getStories=function(o){'use strict';return c('DOMQuery').scry(o||this.root,"._5jmm");};n.prototype.isHoldoutStory=function(o){'use strict';return !!o&&c('CSS').hasClass(o,'holdoutAdStory');};n.prototype.isRelevantStory=function(o){'use strict';return c('isElementNode')(o)&&!this.isHoldoutStory(o);};n.prototype.isStory=function(o){'use strict';return c('CSS').matchesSelector(o,"._5jmm");};n.prototype.clickLike=function(){'use strict';var o=this.$FbFeedKeyboardController1();this.clickElement(o,'.UFILikeLink');if(o!==this.selected)return null;var p=this.getParentStory(c('getActiveElement')());if(p){var q=c('DOMQuery').scry(p,'.UFILikeLink');for(var r=0;r<q.length;r++)if(!c('CSS').hasClass(q[r],'accessible_elem'))c('Focus').setWithoutOutline(q[r]);}};n.prototype.clickComment=function(){'use strict';this.clickElement(this.$FbFeedKeyboardController1(),'.comment_link');};n.prototype.clickShare=function(){'use strict';this.click('.share_action_link');};n.prototype.clickSeeMore=function(){'use strict';this.click('.see_more_link');};n.prototype.clickLeft=function(){'use strict';this.click("._1mri");};n.prototype.clickRight=function(){'use strict';this.click("._2fu-");};n.prototype.openAttachment=function(){'use strict';this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};n.prototype.getHeadline=function(o){'use strict';return c('DOMQuery').scry(o,"h5._5pbw")[0];};n.prototype.$FbFeedKeyboardController2=function(o){'use strict';var p=c('Parent').bySelector(o,"._5pcb"),q=c('ge')('pagelet_soft_permalink_posts');return !!(p||q&&c('DOM').contains(q,o));};n.prototype.getPreviousSibling=function(o){'use strict';var p=l(o);if(p&&this.getParentStory(p))return p;p=null;if(this.$FbFeedKeyboardController2(o)){var q=this.getStories(this.root),r=q.indexOf(o);while(r>-1){if(r===0){p=c('ge')('pagelet_composer');p=p&&c('Parent').bySelector(p,"._5jmm");}else if(r>0){p=q[r-1];if(p.offsetHeight>0)break;}r--;}}return p||this.selected;};n.prototype.getPreviousStory=function(o){'use strict';var p=this.getPreviousSibling(o);while(p&&!this.isStory(p))p=this.getPreviousSibling(p);return p;};n.prototype.getParentStory=function(o){'use strict';return c('Parent').bySelector(o,"._5jmm");};n.prototype.getNextSibling=function(o){'use strict';var p=m(o);if(p&&this.getParentStory(p))return p;p=null;if(this.$FbFeedKeyboardController2(o)){var q=this.getStories(this.root),r=q.indexOf(o);if(r>-1){p=q[++r];while(p&&p.offsetHeight===0)p=q[++r];}}else if(c('ge')('pagelet_composer',o))p=c('DOMQuery').scry(document,"div._5pcb ._5jmm")[0];return p||this.selected;};n.prototype.getNextStory=function(o){'use strict';var p=this.getNextSibling(o);while(p&&!this.isStory(p))p=this.getNextSibling(p);return p;};n.prototype.setSelected=function(o,p){'use strict';if(o){var q="_5qdu",r=c('DOMQuery').scry(o,"._5qdu");if(!r.length&&p)c('DOM').prependContent(o,c('JSXDOM').div({className:q}));}if(p){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&c('CSS').removeClass(this.selected,"_5qdv");this.selected=o;o&&this.setTabindexOnStory(o,'0');o&&c('CSS').addClass(o,"_5qdv");c('FbFeedHighlight').highlightSingle(o);}};n.prototype.$FbFeedKeyboardController1=function(){'use strict';var o=c('DOM').scry(this.selected,"._1qch");if(o.length>0)return c('DOM').scry(this.selected,"._3el7")[0];return this.selected;};n.init=function(o){'use strict';new n(o);};function n(){'use strict';j.apply(this,arguments);}f.exports=n;},null);
__d("XPrivacyRemindersDismissController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/reminders\/dismiss\/",{type:{type:"String",required:true},log_plite:{type:"Bool",defaultValue:false}});},null);