/*!CK:2424349640!*//*1459132742,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Cs7hp"]); }

__d("BasicTypeaheadLoggerJSConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}};},null);
__d("PlaceSearchConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",SOURCE_MOBILE_STATUS:"mobile_status",SOURCE_MOBILE_CHECKIN:"mobile_checkin",SOURCE_MOBILE_PHOTO:"mobile_photo",PREDICTIONS_APPID:106712229428223};},null);
__d("ReactComposerTypeaheadSearchSourceConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:{action:{auxiliaryFields:{default_icon:"default_icon",icon:"icon",original_id:"original_id",prompt:"prompt"}},object:{auxiliaryFields:{icon:"icon",icon_src:"icon_src",original_id:"original_id",verified:"is_verified"}}},LOCATION:{include_likes:false,include_subtext:true,include_address:1,exact_match:false,map_height:null,map_width:null,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15,use_searchable_entries:true}};},null);
__d("ReactComposerTypeaheadSearchSourceType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:"ACTIVITY",LOCATION:"LOCATION"};},null);
__d("SharerType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL_MODES:"all_modes",MESSAGE_ONLY:"message_only",OWN_ONLY:"own_only",PAGE_ONLY:"page_only",PAGE_VIEWER:"page_viewer"};},null);
__d('FBToggle.react',['cx','invariant','React','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'FBToggle',propTypes:{open:j.bool,disabled:j.bool,onChange:j.func},getDefaultProps:function(){return {disabled:false,open:false};},getInitialState:function(){return {isOpen:this.props.open};},componentWillReceiveProps:function(l){this.setState({isOpen:l.open!=null?l.open:this.state.isOpen});},_toggle:function(){if(this.props.disabled)return;if(this.props.onChange)this.props.onChange(!this.state.isOpen,this.props.disabled);this.setState({isOpen:!this.state.isOpen});},render:function(){var l=this.props.children,m=l.length==2||l.length==3;!m?i(0):void 0;if(l.length==2)l.splice(0,0,l[0]);var n=this.state.isOpen?l[1]:l[0],o=l[2],p=(this.state.isOpen?"_4ncx":'')+(!this.state.isOpen?' '+"_4ncy":'')+(this.props.disabled?' '+"_4ncz":''),q="_4nc-",r="_4nc_"+(!this.state.isOpen?' '+"hidden_elem":'');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,p)}),c('React').createElement('span',{className:q,onClick:this._toggle},' ',n,' '),c('React').createElement('span',{className:r},' ',o,' ')));}});f.exports=k;},null);
__d('getBlockNumberAndOffsetFromText',['splitTextIntoTextBlocks'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.slice(0,j),l=c('splitTextIntoTextBlocks')(k),m=l.map(function(o){return o.length;}).slice(0,-1),n=m.reduce(function(o,p){return o+p+1;},0);return {block:l.length-1,offset:j-n};}f.exports=h;},null);
__d('ReactComposerAudienceActions',['ReactComposerAudienceActionTypes','ReactComposerDispatcher','ReactComposerAudienceStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerAudienceStore');var h={setAudience:function(i,j,k){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE,audience:j,legacyAudience:k});},setAudienceElement:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT,audienceElement:j});},setAudienceInstance:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE,audienceInstance:j});},setPrivacyxNullDangerous:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:j});}};f.exports=h;},null);
__d('ReactComposerAudienceSelector.react',['cx','DOM','PrivacySelector','ReactComponentWithPureRenderMixin','React','ReactDOM'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerAudienceSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{audienceXHP:i.instanceOf(HTMLElement).isRequired,onChange:i.func.isRequired,viewerIsTarget:i.bool.isRequired},componentDidMount:function(){if(this.props.viewerIsTarget)setTimeout(function(){var k=c('PrivacySelector').get(this.props.audienceXHP);if(k)k.subscribe('changed',this._onChange);}.bind(this),0);if(this.refs&&this.refs.audienceSelector){c('DOM').setContent(c('ReactDOM').findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();},render:function(){return (c('React').createElement('div',{ref:'audienceSelector',className:"_5dd8"}));},_onChange:function(k,l){if(this.isMounted())this.props.onChange(l);},_layerHack:function(){setTimeout(function(){if(this.refs&&this.refs.audienceSelector){c('DOM').setContent(c('ReactDOM').findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();}.bind(this),100);}});f.exports=j;},null);
__d('ReactComposerAudienceSelectorContainer.react',['csx','cx','invariant','Arbiter','ReactComposerAudienceActions','ReactComposerAudienceSelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','CSS','DOM','DataStore','PrivacySelector','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerAudienceSelectorContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStatusStore'),c('ReactComposerTaggerStore'))],propTypes:{audienceXHP:k.instanceOf(HTMLElement).isRequired,viewerIsTarget:k.bool.isRequired},statics:{beforeCalculateInitialState:function(m,n,o){var p=n.audienceXHP,q,r=c('PrivacySelector').getAdamaSelectorInstance(p);c('ReactComposerAudienceActions').setAudienceElement(m,n.audienceXHP);c('ReactComposerAudienceActions').setAudienceInstance(m,r);if(!p||!n.viewerIsTarget)return;if(r)q=r.getPostParam();var s;if(!r)s=c('DOM').scry(p,'select option[selected="1"]').pop();if(!r&&!s){var t=c('DOM').scry(p,'input[name="privacyx"]')[0];if(t)q=t.value;}!(!!(q||s)||c('PrivacySelector').isFakeOrUneditableSelector(p)||o.actorID)?j(0):void 0;c('ReactComposerAudienceActions').setAudience(m,q,s?s.value:null);},calculateState:function(m,n){var o=c('ReactComposerStatusStore').getMentions(m),p=c('ReactComposerTaggerStore').getTaggerData(m,c('ReactComposerTaggerType').PEOPLE)||[],q=p.map(function(u){return {info:{type:u.getType(),uid:u.getUniqueID(),text:u.getTitle()}};}),r=c('CSS').matchesSelector(n.audienceXHP,"._43_1")?n.audienceXHP:c('DOM').scry(n.audienceXHP,"._43_1")[0],s=r?c('DataStore').get(r,'selector'):null,t={withTags:q,mention:o};if(s&&s.informTagsChanged){s.informTagsChanged(t);}else c('Arbiter').inform('Composer/changedtags',t);return {};}},render:function(){return (c('React').createElement(c('ReactComposerAudienceSelector.react'),babelHelpers['extends']({},this.props,{onChange:this._onAudienceChanged})));},_onAudienceChanged:function(m){c('ReactComposerAudienceActions').setAudience(this.context.composerID,m.post_param,m.privacy_base);}});f.exports=l;},null);
__d('ReactComposerStatusActions',['ReactComposerStatusActionType','ReactComposerDispatcher','ReactComposerStatusStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerStatusStore');h.prototype.setMentionsSource=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_MENTIONS_SOURCE,mentionsSource:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setTypeaheadReporter=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_TYPEAHEAD_REPORTER,typeaheadReporter:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setEditorState=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_EDITOR_STATE,editorState:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setMentions=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_MENTIONS,mentions:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setTextLength=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerStatusActionType').SET_TEXT_LENGTH,textLength:j});};function h(){'use strict';}f.exports=new h();},null);
__d('ReactComposerStatusAttachmentMentionsInput.react',['cx','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerTaggerType','Arbiter','EditorState','Keys','MentionsInput.react','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler','UserAgent_DEPRECATED','XUITypeaheadView.react','getMentionsInputDecorator','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusAttachmentMentionsInput',_subscriptions:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{config:c('ReactComposerConfig'),mentionsSource:i.object,typeaheadReporter:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func,onPostIntent:i.func},getInitialState:function(){return {editorState:this.props.editorState};},componentWillUnmount:function(){this.props.onBlur&&this.props.onBlur(this.state.editorState);this._subscriptions&&this._subscriptions.release();},componentWillMount:function(){var k=new (c('SubscriptionsHandler'))();k.addSubscriptions(c('Arbiter').subscribe([c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus();}.bind(this)));this._subscriptions=k;},componentWillReceiveProps:function(k){if(k.editorState===null)this.setState({editorState:c('EditorState').createEmpty(c('getMentionsInputDecorator')())});},render:function(){var k=this.props.config&&this.props.config.taggersConfig[c('ReactComposerTaggerType').PEOPLE],l=k&&k.typeaheadView?k.typeaheadView:c('XUITypeaheadView.react'),m=k&&k.typeaheadViewProps?k.typeaheadViewProps:{},n=Object.assign({},{typeaheadView:l,typeaheadViewProps:m,selectOnTab:false,spellCheck:true},this.props,{className:c('joinClasses')("_1mwp",this.props.className),editorState:this.state.editorState,handleContentReturn:this._handleContentReturn,handlePastedFiles:this._handlePastedFiles,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return (c('React').createElement(c('MentionsInput.react'),babelHelpers['extends']({ref:'mentionsInput'},n)));},focus:function(){this.refs.mentionsInput.focus();},_onAddMention:function(k,l,m){var n=this.props.typeaheadReporter;if(n){n.reportSelect(k.getUniqueID(),k.getType(),l,m.button>=0);n.sessionEnd();n.sessionStart();}},_onShowMentions:function(k,l){var m=this.props.typeaheadReporter;if(m)m.reportResults(k.map(function(n){return n.getUniqueID();}));},_onFocus:function(){var k=this.props.typeaheadReporter;if(k)k.sessionStart();this.props.onFocus&&this.props.onFocus();},_handlePastedFiles:function(k){var l=/^image\//;k=k.filter(function(m){return l.test(m.type);});if(k.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(k);return true;}return false;},_handleContentReturn:function(event){var k=c('UserAgent_DEPRECATED').osx()?event.metaKey:event.controlKey;if(event.keyCode===c('Keys').RETURN&&k){this.refs.mentionsInput.blur();setTimeout(this.props.onPostIntent,0);return true;}return false;},_onChange:function(k){this.setState({editorState:k});this.props.onChange&&this.props.onChange(k);},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.state.editorState);}});f.exports=j;},null);
__d('ReactComposerHandleUnsavedChanges',['fbt','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerInit','ReactComposerPhotoStore','ReactComposerPhotoUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerVideoUploadStore','ComposerEntryPointRef','PageTransitions','Run','URI'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={handler:function(j,k){var l=c('URI').getMostRecentURI(),m=c('URI').getNextURI(),n=l.getQueryData().hasOwnProperty('theater')&&!m.getQueryData().hasOwnProperty('theater')&&k.toString()===m.toString(),o=k.toString()===l.toString()&&!l.getQueryData().hasOwnProperty('theater')&&m.getQueryData().hasOwnProperty('theater'),p=l.getQueryData().hasOwnProperty('theater')&&m.getQueryData().hasOwnProperty('theater')&&l.toString()!==m.toString();if(o||n||p)c('Run').onAfterLoad(function(){return (c('Run').onBeforeUnload(function(){return (i.handler(j,k));}));});if(o||n||p||c('ReactComposerStore').hasPostSucceeded(j)||c('ReactComposerStore').isPublishing(j))return null;var q=i.hasUnsavedChanges(j);if(q&&!(b.Dialog&&b.Dialog.getCurrent())){return i.getUnsavedChangesMessage(j);}else return null;},hasUnsavedChanges:function(j){if(!c('ReactComposerInit').isInstanceMounted(j))return false;var k=c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').MEDIA),l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').LIVE_VIDEO),m=c('ReactComposerStatusStore').getTextLength(j)>0,n=k&&(c('ReactComposerPhotoUploadStore').isUploading(j)||c('ReactComposerPhotoStore').isRecognizing(j)||c('ReactComposerPhotoStore').getPhotos(j).size>0),o=k&&c('ReactComposerVideoUploadStore').getVideo(j),p=!c('ReactComposerTaggerStore').areAllTaggersEmpty(j),q=c('ReactComposerScrapedAttachmentStore').hasAttachment(j),r=m||n||o||p||q||l;return !!r;},getUnsavedChangesMessage:function(j){var k=c('ReactComposerStore').getRef(j);switch(k){case c('ComposerEntryPointRef').EDIT_DIALOG:return h._("Are you sure you want to discard your changes?");default:return h._("You haven't finished your post yet. Do you want to leave without finishing?");}}};f.exports=i;},null);
__d('ReactComposerPrefillMentionsInput',['DraftEntity','EditorState','SelectionState','createEditorStateWithEntities','getBlockNumberAndOffsetFromText','getMentionsInputDecorator'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={createEditorState:function(i,j){if(!i||!i.text)return c('EditorState').createEmpty();var k=c('createEditorStateWithEntities')({text:i.text,ranges:i.ranges||[],decorator:c('getMentionsInputDecorator')(),entityCreationFn:function(o){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:o.id,isWeak:!!o.weakreference,type:o.type});}});if(j){var l=k.getCurrentContent().getBlockMap(),m=c('getBlockNumberAndOffsetFromText')(i.text,j.start),n=c('getBlockNumberAndOffsetFromText')(i.text,j.end);k=c('EditorState').acceptSelection(k,new (c('SelectionState'))({anchorKey:l.skip(m.block).first().getKey(),anchorOffset:m.offset,focusKey:l.skip(n.block).first().getKey(),focusOffset:n.offset,isBackward:false}));}else k=c('EditorState').moveSelectionToEnd(k);return k;}};f.exports=h;},null);
__d('ReactComposerPrefillUtils',['ReactComposerPrefillMentionsInput'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={createEditorState:function(i,j){return c('ReactComposerPrefillMentionsInput').createEditorState(i,j);}};f.exports=h;},null);
__d('ReactComposerStatusAttachmentMentionsInputContainer.react',['cx','errorCode','Arbiter','ReactComposerActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerPrefillConfig','ReactComposerPrefillStore','ReactComposerPrefillUtils','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInput.react','ReactComposerStatusStore','ReactComposerStore','EditorState','LitestandStoryInsertionStatus','ReactComponentWithPureRenderMixin','ReactComposerHandleUnsavedChanges','ReactComposerStatusUtils','React','UnicodeUtils','XUIError.react','getMentionsInputDecorator'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ComposerStatusAttachmentMentionsInputContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerStatusStore'),c('ReactComposerStore'))],propTypes:{config:c('ReactComposerConfig'),mentionsEnabled:j.bool,mentionsSource:j.object,onChange:j.func,onFocus:j.func,onPasteFiles:j.func,handlePastedText:j.func},getDefaultProps:function(){return {mentionsEnabled:true};},getInitialState:function(){return {isFocused:false};},statics:{beforeCalculateInitialState:function(l,m){if(m.mentionsSource)c('ReactComposerStatusActions').setMentionsSource(l,m.mentionsSource);var n=c('ReactComposerPrefillStore').getAndEraseField(l,'mentionsInput');if(n){var o=c('ReactComposerPrefillUtils').createEditorState(n.textWithEntities,n.selection);c('ReactComposerStatusActions').setEditorState(l,o);}},calculateState:function(l,m){var n=c('ReactComposerStatusStore').getEditorState(l),o=m.mentionsEnabled?c('getMentionsInputDecorator')():null,p;if(n){if(n.getDecorator()!==o){p=c('EditorState').set(n,{decorator:o});}else p=n;}else p=c('EditorState').createEmpty(o);c('ReactComposerStatusActions').setEditorState(l,p);return {editorState:p,isSelectedAttachmentActive:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(l),mentionsSource:m.mentionsEnabled?c('ReactComposerStatusStore').getMentionsSource(l):null,posting:c('ReactComposerStore').isPosting(l),serverErrorResponse:c('ReactComposerStore').getServerErrorResponse(l),typeaheadReporter:c('ReactComposerStatusStore').getTypeaheadReporter(l)};}},componentWillReceiveProps:function(l){if(this.props.mentionsSource!==l.mentionsSource)c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,l.mentionsSource);if(l.editorState===null)c('ReactComposerStatusActions').setEditorState(this.context.composerID,c('EditorState').createEmpty(c('getMentionsInputDecorator')()));},componentDidUpdate:function(l,m){if(!m.serverErrorResponse&&this._shouldShowEmptyStatusError(this.state.serverErrorResponse))this.focus();},componentWillMount:function(){this._storyInsertionBlocker=c('LitestandStoryInsertionStatus').registerBlocker(function(){return c('ReactComposerHandleUnsavedChanges').hasUnsavedChanges(this.context.composerID)||this.state.isFocused;}.bind(this));},componentWillUnmount:function(){this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},render:function(){var l=this.props.config&&this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],m=c('React').createElement(c('ReactComposerStatusAttachmentMentionsInput.react'),babelHelpers['extends']({},this.props,{className:(this.state.isSelectedAttachmentActive?"_1mwq":'')+(this.props.config&&this.props.config.showExpandedComposer?' '+"_4c_p":'')+(l&&l.showProfilePic?' '+"_5bu_":'')+(this.state.posting?' '+"_1udp":''),ref:'mentionsInput',readOnly:this.state.posting,editorState:this.state.editorState,mentionsSource:this.state.mentionsSource,typeaheadReporter:this.state.typeaheadReporter,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent}));if(this._shouldShowEmptyStatusError())m=c('React').createElement(c('XUIError.react'),{xuiError:this.state.serverErrorResponse.getErrorDescription(),xuiErrorPosition:'below',xuiErrorAlignh:'left'},m);return m;},focus:function(){this.refs.mentionsInput.focus();},_onFocus:function(){c('Arbiter').inform(c('ReactComposerEvents').MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus();},_onChange:function(l){var m=0;if(l){var n=l.getCurrentContent();m=n?c('UnicodeUtils').strlen(n.getPlainText()):0;}if(c('ReactComposerStatusStore').getTextLength(this.context.composerID)!==m){c('ReactComposerStatusActions').setEditorState(this.context.composerID,l);c('ReactComposerStatusActions').setTextLength(this.context.composerID,m);}this._handleMarkdownChange(l);this.props.onChange&&this.props.onChange(l);},_handleMarkdownChange:function(l){var m=this.props.config?this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS]:null;c('ReactComposerStatusUtils').handleMarkdownPreview(this.context.composerID,this.context.targetID,m?m.markdownPreviewAttachment:null,l);},_onBlur:function(l){c('ReactComposerStatusActions').setEditorState(this.context.composerID,l);this.setState({isFocused:false});},_onPostIntent:function(){c('ReactComposerActions').postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});},_shouldShowEmptyStatusError:function(){return !!(this.state.serverErrorResponse&&this.state.serverErrorResponse.getError()==1455004&&c('ReactComposerStatusStore').getTextLength(this.context.composerID)===0);}});f.exports=k;},null);
__d('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react',['cx','ReactComposerContextMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputContainer.react','DraftEntity','ReactComponentWithPureRenderMixin','React','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ComposerStatusAttachmentMentionsInputWithTagExpansionContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],render:function(){var j=c('joinClasses')(this.props.className,"_395");return (c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputContainer.react'),babelHelpers['extends']({},this.props,{className:j,onChange:this._onChange,ref:'mentionsInput'})));},focus:function(){this.refs.mentionsInput.focus();},_onChange:function(j){c('ReactComposerStatusActions').setMentions(this.context.composerID,this._getMentionsFromEditorState(j));this.props.onChange&&this.props.onChange(j);},_getMentionsFromEditorState:function(j){var k=j.getCurrentContent(),l={};k.getBlockMap().forEach(function(m){var n=m.getText();m.findEntityRanges(function(){return true;},function(o,p){var q=m.getEntityAt(o);if(!q)return;var r=c('DraftEntity').get(q);if(r.getType()!=='MENTION'||r.getData().type!=='user')return;var s=r.getData().id;l[s]={type:'user',uid:s,text:n.slice(o,p)};});});return l;}});f.exports=i;},null);
__d('ReactComposerTaggerButtons.react',['cx','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ReactComposerTaggerButtons',mixins:[c('ReactComponentWithPureRenderMixin')],render:function(){return (c('React').createElement('div',{className:"_47gt"},this.props.children));}});f.exports=i;},null);
__d('ShareDialogTagSummary.react',['cx','Arbiter','AsyncRequest','immutable','Parent','ReactComponentWithPureRenderMixin','React','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=true,k=c('React').createClass({displayName:'ShareDialogTagSummary',mixins:[c('ReactComponentWithPureRenderMixin')],_ogSubscription:undefined,_socialTextRequest:undefined,propTypes:{ogObjectClick:i.func.isRequired,onTagSummaryClick:i.func.isRequired,peopleToExclude:i.instanceOf(c('immutable').Set).isRequired,placeTokenClick:i.func.isRequired,taggerData:i.instanceOf(c('immutable').Map).isRequired,withTokenClick:i.func.isRequired},getDefaultProps:function(){return {peopleToExclude:c('immutable').Set(),ogObjectClick:c('emptyFunction'),onTagSummaryClick:c('emptyFunction'),placeTokenClick:c('emptyFunction'),withTokenClick:c('emptyFunction')};},getInitialState:function(){return {socialText:null};},componentWillMount:function(){this._ogSubscription=c('Arbiter').subscribe('composer/ogIconPickerOpened',function(event,l){j=false;});this._sendSocialTextRequest(this.props);},componentWillUnmount:function(){if(this._socialTextRequest)this._socialTextRequest.abort();},componentWillReceiveProps:function(l){if(!this.props.taggerData.equals(l.taggerData))this._sendSocialTextRequest(l);},_handleSocialText:function(l){this.setState({socialText:l.getPayload().rendered});},render:function(){var l=c('joinClasses')(this.props.className,"_3qg0");return (c('React').createElement('div',{className:l,onMouseDown:this._onMouseDown,dangerouslySetInnerHTML:this.state.socialText}));},_onMouseDown:function(l){var m=l.target;if(c('Parent').byClass(m,'withToken')){this.props.withTokenClick();}else if(c('Parent').byClass(m,'placeToken')){this.props.placeTokenClick();}else if(c('Parent').byClass(m,'og_composer_object')){this.props.ogObjectClick();}else if(!(c('Parent').byClass(m,'ogPickerIcon')))this.props.onTagSummaryClick();},_sendSocialTextRequest:function(l){if(this._socialTextRequest)this._socialTextRequest.abort();var m=l.taggerData,n=m.get('people'),o=m.get('place'),p=m.get('action'),q=m.get('actionIconID'),r=m.get('object'),s=n.filter(function(w){return !this.props.peopleToExclude.has(w.getUniqueID());}.bind(this));if(!(s&&s.length>0)&&!o&&!(p&&r)){if(this.state.socialText)this.setState({socialText:null});return;}var t={};if(s)t.people=s.map(function(w){return w.getUniqueID();});if(o){t.place=o.getTitle();t.placeID=o.getUniqueID();}if(p&&r){t.actionID=p.getUniqueID();var u=r.getUniqueID(),v=r.getTitle();if(!u||u===v){t.objectStr=v;}else t.objectID=u;}if(q)t.actionIconID=q;t.iconPickerOpened=j!==true;this._socialTextRequest=new (c('AsyncRequest'))();this._socialTextRequest&&this._socialTextRequest.setURI('/ajax/metacomposer/social_text.php').setData(t).setHandler(this._handleSocialText).send();}});f.exports=k;},null);
__d('ReactComposerTaggerSummaryContainer.react',['ReactComposerContextMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerPropsAndStoreBasedStateMixin','ShareDialogTagSummary.react','Arbiter','immutable','React','ReactDOM','containsNode'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerTaggerSummaryContainer',_ogSubscription:undefined,mixins:[c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function(i,j){var k=c('ReactComposerTaggerStore').getTaggersData(i),l=k[c('ReactComposerTaggerType').PEOPLE],m=k[c('ReactComposerTaggerType').LOCATION],n=k[c('ReactComposerTaggerType').ACTIVITY],o=m?m.place:null;return {people:l,place:o,activity:n};}},componentWillMount:function(){this._ogSubscription=c('Arbiter').subscribe('composer/ogCustomIconSelected',function(event,i){if(!c('containsNode')(c('ReactDOM').findDOMNode(this.refs.taggerSummary),i.triggerElement))return;var j=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY)||{};j.actionIconID=i.icon_id;j.actionIconURI=i.iconURI;c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,j);}.bind(this));},componentWillUnmount:function(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null;}},render:function(){return (c('React').createElement(c('ShareDialogTagSummary.react'),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:c('immutable').Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,ref:'taggerSummary',taggerData:c('immutable').Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place}),withTokenClick:this._withTokenClick}));},_withTokenClick:function(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerTaggerType').PEOPLE);},_placeTokenClick:function(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerTaggerType').LOCATION);},_ogObjectClick:function(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY);},_onTagSummaryClick:function(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,null);}});f.exports=h;},null);
__d('ReactComposerTaggers.react',['cx','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ReactComposerTaggers',render:function(){return (c('React').createElement('div',{className:"_5f24"},this.props.children));}});f.exports=i;},null);
__d('ReactComposerActionTaggerItem.react',['cx','React','ImageBlock.react','joinClasses','TypeaheadViewItem'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerActionTaggerItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({customIcon:i.object},c('TypeaheadViewItem').propTypes),render:function(){var k=this.props.entry,l=k.getAuxiliaryData(),m=c('React').createElement('span',{dangerouslySetInnerHTML:l.icon||this.props.customIcon}),n="_599m"+(' '+"_5mne")+(this.props.highlighted?' '+"_599n":'')+(' '+"_18d1")+(this.props.highlighted?' '+"_18d2":'');n=c('joinClasses')(n,this.props.className);return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:n,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},m,c('React').createElement('div',{className:"_599p"},k.getTitle())),c('React').createElement('i',{className:"_18d3"})));}});f.exports=j;},null);
__d('ReactComposerActionTaggerView.react',['ReactComposerTaggerViewMixin','ReactComposerActionTaggerItem.react','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerActionTaggerView',mixins:[c('ReactComposerTaggerViewMixin')],getItemImpl:function(){return c('ReactComposerActionTaggerItem.react');}});f.exports=h;},null);
__d('ReactComposerActionTaggerPresenter',['ReactComposerActionTaggerView.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:c('ReactComposerActionTaggerView.react'),useLayer:true,maxEntries:20};},null);
__d('WebAsyncSearchSourceWithMetrics',['AbstractAsyncSearchSource','AbstractSearchSource','AsyncRequest','Map','TypeaheadMetricReporter','WebAsyncSearchSourceUtils','uuid'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new (c('AbstractAsyncSearchSource'))(k,this.$WebAsyncSearchSourceWithMetrics4.bind(this),c('WebAsyncSearchSourceUtils').normalizeResponse);this.$WebAsyncSearchSourceWithMetrics2=new (c('TypeaheadMetricReporter'))(l);this.$WebAsyncSearchSourceWithMetrics3=new (c('Map'))();this.$WebAsyncSearchSourceWithMetrics2.addListener&&this.$WebAsyncSearchSourceWithMetrics2.addListener('reset',function(m){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:m.sid});}.bind(this));}j.prototype.bootstrapImpl=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap(function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(function(l){this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapComplete(l.map(function(m){return m.getType();}));k();}.bind(this));}.bind(this));};j.prototype.searchImpl=function(k,l,m){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportQueryBegin(k);if(m)this.$WebAsyncSearchSourceWithMetrics2.reportStrategyName(m.strategyName);var n=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(k,function(o,p,q){this.$WebAsyncSearchSourceWithMetrics2.reportQueryComplete(Date.now()-n,0);l(o,p,q);}.bind(this),m);};j.prototype.getBootstrappedEntries=function(k){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(k);};j.prototype.getAllEntriesMap=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap();};j.prototype.getTypeaheadSessionID=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics2.getSID();};j.prototype.setRequestData=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics1.setRequestData(k);};j.prototype.sessionStart=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics2.sessionStart();};j.prototype.sessionEnd=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics2.sessionEnd();};j.prototype.reportResults=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportResults(k);};j.prototype.reportSelect=function(k,l,m,n,o,p){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportSelect(k,l,m,n,o,p);};j.prototype.reportRequestID=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(k));};j.prototype.$WebAsyncSearchSourceWithMetrics5=function(k){'use strict';var l=k;while(l.length>0){if(this.$WebAsyncSearchSourceWithMetrics3.has(l))return this.$WebAsyncSearchSourceWithMetrics3.get(l);l=l.slice(0,-1);}return this.$WebAsyncSearchSourceWithMetrics3.get('');};j.prototype.$WebAsyncSearchSourceWithMetrics4=function(k,l,m,n){'use strict';var o=k.value||'',p=c('uuid')();new (c('AsyncRequest'))(l.uri).setData(babelHelpers['extends']({request_id:p},k,l.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler(function(){this.$WebAsyncSearchSourceWithMetrics3.set(o,p);}.bind(this)).setHandler(m).setErrorHandler(n).send();};f.exports=j;},null);
__d('ReactComposerActionTaggerComponent.react',['cx','fbt','ReactComposerActionTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','React','BasicTypeaheadLoggerJSConstants','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('BasicTypeaheadLoggerJSConstants').Fields,k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerActionTaggerComponent',propTypes:{autoFocus:k.bool,onSelect:k.func,placeID:k.string,taggerSource:k.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:k.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {autoFocus:true,onSelect:c('emptyFunction'),taggerSource:new (c('DummySearchSource'))(),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},getInitialState:function(){this.props.taggerSource.sessionStart();return {query:''};},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},_onSelect:function(m,event){var n={};n[j.SELECTED_ORIGINAL_ID]=m.getAuxiliaryData().original_id;n[j.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(m.getUniqueID(),m.getType(),m.getOrder(),!!event&&event.button>=0,this.state.query,n);this.props.taggerSource.sessionEnd();this.setState({query:m.getTitle()});this.props.onSelect&&this.props.onSelect(m);},_onClear:function(){this.setState({query:''});this.props.onSelect&&this.props.onSelect(null);},_onChange:function(event){this.setState({query:event.target.value});},_onTypeaheadBlur:function(){this.props.taggerSource.sessionEnd();},_onTypeaheadFocus:function(){this.props.taggerSource.sessionStart();},_onEntriesFound:function(m,n){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(m.map(function(o){return o.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);},render:function(){return (c('React').createElement('div',{className:"_3uco _5esl"},c('React').createElement(c('XUITypeahead.react'),{presenter:this._getPresenter(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:i._("What are you doing?"),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onClear:this._onClear,onChange:this._onChange,onBlur:this._onTypeaheadBlur,onFocus:this._onTypeaheadFocus,onEntriesFound:this._onEntriesFound,onNoEntriesFound:this._onNoEntriesFound,tallInput:true,autoHighlight:true})));},_getPresenter:function(){var m={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c('ReactComposerActionTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:m});}});f.exports=l;},null);
__d('ReactComposerActivityTaggerButton.react',['cx','fbt','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerActivityTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').ACTIVITY},getTitle:function(){return i._("Add what you're doing or how you're feeling");},getTooltip:function(){return i._("Add what you're doing or how you're feeling");},getClassName:function(){return "_58-g";}});f.exports=j;},null);
__d('ReactComposerObjectTaggerItem.react',['cx','BackgroundImage.react','Badge.react','ImageBlock.react','React','TypeaheadViewItem','joinClasses','Locale','UnicodeBidi'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ReactComposerObjectTaggerItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:c('TypeaheadViewItem').propTypes,render:function(){var j=this.props.entry,k=j.getSubtitle()?c('React').createElement('div',{className:"_599q"},j.getSubtitle()):null,l=j.getPhoto()?c('React').createElement(c('BackgroundImage.react'),{width:32,height:32,backgroundSize:'cover',src:j.getPhoto()}):c('React').createElement('span',null),m=j.getAuxiliaryData(),n=m&&m.verified?n=c('React').createElement(c('Badge.react'),null):null,o=m&&m.icon?c('React').createElement('span',{className:"_mbq",dangerouslySetInnerHTML:m.icon}):null,p="_599m"+(!k?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');p=c('joinClasses')(p,this.props.className);var q=c('UnicodeBidi').isDirectionRTL(j.getTitle()),r=c('Locale').isRTL(),s=q&&!r?'rtl':!q&&r?'ltr':null;return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:p,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},l,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p",dir:s},j.getTitle(),n),k),o)));}});f.exports=i;},null);
__d('ReactComposerObjectTaggerView.react',['ReactComposerActionTaggerItem.react','ReactComposerObjectTaggerItem.react','ReactComposerTaggerViewMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerObjectTaggerView',mixins:[c('ReactComposerTaggerViewMixin')],getItemImpl:function(){return c('ReactComposerObjectTaggerItem.react');},getRegexItemImpl:function(){return c('ReactComposerActionTaggerItem.react');}});f.exports=h;},null);
__d('ReactComposerObjectTaggerPresenter',['ReactComposerObjectTaggerView.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:c('ReactComposerObjectTaggerView.react'),useLayer:true,maxEntries:120};},null);
__d('ReactComposerObjectTaggerComponent.react',['cx','ReactComposerObjectTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','Grid.react','React','RegexMatchSearchSource','BasicTypeaheadLoggerJSConstants','WebAsyncPlusRegexSearchSource','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('Grid.react').GridItem,j=c('BasicTypeaheadLoggerJSConstants').Fields,k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerObjectTaggerComponent',propTypes:{action:k.object.isRequired,actionTypeIDsWithNoFreeForm:k.object.isRequired,autoFocus:k.bool,object:k.object,onClear:k.func.isRequired,onEmptyBackspace:k.func.isRequired,onPrefixClick:k.func.isRequired,onSelect:k.func.isRequired,placeID:k.string,taggerSource:k.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:k.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:c('emptyFunction'),onEmptyBackspace:c('emptyFunction'),onPrefixClick:c('emptyFunction'),onSelect:c('emptyFunction'),taggerSource:new (c('DummySearchSource'))(),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},getInitialState:function(){var m=this.props.taggerSource,n=this.props.action.getUniqueID(),o=this.props.actionTypeIDsWithNoFreeForm,p=!o[n];if(p){var q=new (c('RegexMatchSearchSource'))('.+');m=new (c('WebAsyncPlusRegexSearchSource'))({asyncSource:m,regexSource:q,appendRegexEntries:true});}setTimeout(function(){this.props.taggerSource.sessionStart();}.bind(this),0);return {query:this.props.object?this.props.object.getTitle():'',searchSource:m};},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},_onSelect:function(m,event){var n={};n[j.SELECTED_ORIGINAL_ID]=m.getAuxiliaryData().original_id;n[j.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(m.getUniqueID(),m.getType(),m.getOrder(),!!event&&event.button>=0,this.state.query,n);this.props.taggerSource.sessionEnd();this.setState({query:m.getTitle()});this.props.onSelect(m);},_onBackspace:function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==='')this.props.onEmptyBackspace();},_onClear:function(){this.setState({query:''});this.props.onClear();},_onChange:function(event){this.setState({query:event.target.value});},_onPrefixClick:function(){this.props.onPrefixClick();},_onTypeaheadBlur:function(){this.props.taggerSource.sessionEnd();},_onTypeaheadFocus:function(){setTimeout(function(){this.props.taggerSource.sessionStart();}.bind(this),0);},_onEntriesFound:function(m,n){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(m.map(function(o){return o.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);},focusInput:function(){var m=this.refs.objectTypeahead;if(m)m.focusInput&&m.focusInput();},render:function(){var m=this.props.action.getAuxiliaryData(),n=m?m.prompt:'';return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(i,{className:"_5esm _4zdy",key:'prefix',role:'presentation',onClick:this._onPrefixClick},this.props.action.getTitle()),c('React').createElement(i,{className:"_5esw",key:'suffix',role:'presentation'},c('React').createElement(c('XUITypeahead.react'),{ref:'objectTypeahead',presenter:this._getPresenter(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:n,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onBackspace:this._onBackspace,onClear:this._onClear,onChange:this._onChange,onBlur:this._onTypeaheadBlur,onEntriesFound:this._onEntriesFound,onNoEntriesFound:this._onNoEntriesFound,onFocus:this._onTypeaheadFocus,tallInput:false}))));},_getPresenter:function(){var m={};m.taggerViewStyle=this.props.taggerViewStyle;m.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},c('ReactComposerObjectTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:m});}});f.exports=l;},null);
__d('ReactComposerObjectTaggerContainer.react',['ReactComposerObjectTaggerComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerObjectTaggerContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],propTypes:{action:h.object.isRequired,autoFocus:h.bool,onClear:h.func.isRequired,onEmptyBackspace:h.func.isRequired,onPrefixClick:h.func.isRequired,onSelect:h.func.isRequired,object:h.object,taggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {autoFocus:true,onClear:c('emptyFunction'),onEmptyBackspace:c('emptyFunction'),onPrefixClick:c('emptyFunction'),onSelect:c('emptyFunction'),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},statics:{calculateState:function(j,k){var l=c('ReactComposerTaggerStore').getTaggerSource(j,c('ReactComposerTaggerType').OG);return {taggerSource:l};}},render:function(){return (c('React').createElement(c('ReactComposerObjectTaggerComponent.react'),babelHelpers['extends']({ref:'objectTagger'},this.props,{taggerSource:this.state.taggerSource})));},focusInput:function(){var j=this.refs.objectTagger;j&&j.focusInput();}});f.exports=i;},null);
__d('ReactComposerActivityTaggerComponent.react',['ReactComposerActionTaggerComponent.react','ReactComposerObjectTaggerContainer.react','ReactComposerTaggerViewStyles','DummySearchSource','React','WebAsyncSearchSourceWithMetrics','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerActivityTaggerComponent',propTypes:{actionTypeIDsWithNoFreeForm:h.object.isRequired,actorID:h.string.isRequired,autoFocus:h.bool,placeID:h.string,taggerData:h.object.isRequired,taggerSource:h.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,onSelect:h.func.isRequired,actionTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape),objectTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new (c('DummySearchSource'))(),onSelect:c('emptyFunction'),actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},getInitialState:function(){return {action:this.props.taggerData.action,object:this.props.taggerData.object};},componentDidUpdate:function(){if(this.state.action&&!this.state.object){var j=this.refs.objectTagger;j&&j.focusInput();}},componentWillUnmount:function(){if(this.state.action&&!this.state.object)this._clearActionTypeAndObject();},render:function(){if(this.state.action)return (c('React').createElement(c('ReactComposerObjectTaggerContainer.react'),{ref:'objectTagger',action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this._clearActionTypeAndObject,onEmptyBackspace:this._clearActionTypeAndObject,onPrefixClick:this._clearActionTypeAndObject,onSelect:this._onChangeObject,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle}));return (c('React').createElement(c('ReactComposerActionTaggerComponent.react'),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this._onChangeAction,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle}));},_onChangeAction:function(j){this.props.onSelect&&this.props.onSelect(this.getTaggerData(j,null));this.setState({action:j});},_onChangeObject:function(j){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,j));this.setState({object:j});},_clearActionTypeAndObject:function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null});},getTaggerData:function(j,k){var l=this.props.taggerData;l.action=j;l.object=k;return l;}});f.exports=i;},null);
__d('ReactComposerActivityTaggerContainer.react',['ReactComposerActivityTaggerComponent.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','BasicTypeaheadLoggerJSConstants','Map','OGComposerJSConstants','React','WebAsyncSearchSourceWithMetrics','getObjectValues'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerActivityTaggerContainer',_actionTypeSearchSources:new (c('Map'))(),_objectSearchSources:new (c('Map'))(),_searchSourceConfig:null,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').ACTIVITY,taggerComponent:c('ReactComposerActivityTaggerComponent.react')},propTypes:{actionTypeIDsToPrefetch:h.array.isRequired,actionTypeIDsWithNoFreeForm:h.object.isRequired,isPersonalTimeline:h.bool,rankVerbs:h.bool,placeID:h.string,typeaheadLoggerEventName:h.oneOf(c('getObjectValues')(c('BasicTypeaheadLoggerJSConstants').EventNames)).isRequired,actionTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape),objectTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},getInitialState:function(){return {hasDoneInitialObjectPrefetch:false};},componentWillMount:function(){this._searchSourceConfig=c('ReactComposerTypeaheadSearchSourceConfig')[c('ReactComposerTypeaheadSearchSourceType').ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData);},componentWillReceiveProps:function(j){if(j.placeID!==this.props.placeID){this._updateActionTypeSearchSource(j.placeID);this._prefetchObjectSearchSources(j.placeID);}},componentWillUpdate:function(j,k){if(!this.state.isSelected&&k.isSelected){var l=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:l});var m=this.state.hasDoneInitialObjectPrefetch||k.hasDoneInitialObjectPrefetch;if(!m)this._prefetchObjectSearchSources(this.props.placeID);}},__onTaggerDataChanged:function(j){if(j.action){this._updateObjectSearchSource(j.action.getUniqueID());if(!j.object){var k=this._objectSearchSources.get(j.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(j.action.getUniqueID(),this.props.placeID,{sid:k});}}if(j.action&&j.object){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,null);var l=this._shouldFetchMinutiaeAttachment(j.action,j.object);if(l)c('ReactComposerMinutiaeAttachmentActions').fetchMinutiaeAttachment(this.context.composerID,j.action.getUniqueID(),j.object.getUniqueID(),this.context.targetID,!!this.props.isPersonalTimeline);}else c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);},_shouldFetchMinutiaeAttachment:function(j,k){var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(this.context.composerID,c('ReactComposerAttachmentType').STATUS);if(!l)return false;if(k.getAuxiliaryData().isRegexEntry)return false;return true;},_updateActionTypeSearchSource:function(j){var k=null;if(this._actionTypeSearchSources.has(j)){k=this._actionTypeSearchSources.get(j);}else{k=this._createAndBootstrapActionTypeSearchSource(j,{is_prefetching:true});this._actionTypeSearchSources.set(j,k);}c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,k);},_createAndBootstrapActionTypeSearchSource:function(j,k){var l='/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader',m={place_id:j,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},n={getAllForEmptyQuery:true,bootstrapRequests:[{uri:l,data:Object.assign({},m)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)n.queryRequests=[{uri:l,data:Object.assign({},m)}];var o={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c('BasicTypeaheadLoggerJSConstants').MinutiaeComposerVersions.REACT,at_id:c('OGComposerJSConstants').ActionTypeIDs.COMPOSER_SELECTS_VERB},p=new (c('WebAsyncSearchSourceWithMetrics'))(n,o),q=p.getTypeaheadSessionID();p.setRequestData(k);p.bootstrap();p.setRequestData({sid:q});return p;},_prefetchObjectSearchSources:function(j){var k=this.props.actionTypeIDsToPrefetch,l=new (c('Map'))();k.forEach(function(m){var n=this._createAndBootstrapObjectSearchSource(m,j,{is_prefetching:true});l.set(m,n);}.bind(this));this._objectSearchSources=l;this.setState({hasDoneInitialObjectPrefetch:true});},_updateObjectSearchSource:function(j){var k=null;if(this._objectSearchSources.has(j)){k=this._objectSearchSources.get(j);}else{k=this._createAndBootstrapObjectSearchSource(j,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(j,k);}c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').OG,k);},_createAndBootstrapObjectSearchSource:function(j,k,l){var m='/ajax/metacomposer/attachment/og/typeahead/query/object_loader',n={at_id:j,place_id:k,viewer:this.props.actorID},o={getAllForEmptyQuery:true,bootstrapRequests:[{uri:m,data:Object.assign({},n,{is_bootstrap:true})}],queryRequests:[{uri:m,data:Object.assign({},n,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},p={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c('BasicTypeaheadLoggerJSConstants').MinutiaeComposerVersions.REACT,at_id:j},q=new (c('WebAsyncSearchSourceWithMetrics'))(o,p),r=q.getTypeaheadSessionID();q.setRequestData(l);q.bootstrap();q.setRequestData({sid:r});return q;}});f.exports=i;},null);
__d('ReactComposerLocationSearchSource',['ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','SearchableEntry','WebAsyncSearchSourceWithMetrics'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=c('ReactComposerTypeaheadSearchSourceConfig')[c('ReactComposerTypeaheadSearchSourceType').LOCATION],m=Object.assign(l,j),n=Object.assign(l,i),l={bootstrapRequests:[{uri:'/ajax/places/typeahead',data:n}],getAllForEmptyQuery:true,queryRequests:[{uri:'/ajax/places/typeahead',data:m}],packageFn:function(o){return o?new (c('SearchableEntry'))(o):null;}};return new (c('WebAsyncSearchSourceWithMetrics'))(l,k);}f.exports=h;},null);
__d('ReactComposerLocationTaggerButton.react',['cx','fbt','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerLocationTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').LOCATION},getTitle:function(){return i._("Tag a location");},getTooltip:function(){return i._("Add a location to your post");},getClassName:function(){return "_520r";}});f.exports=j;},null);
__d('ReactComposerLocationTypeaheadComponent.react',['fbt','React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLocationTypeaheadComponent',propTypes:{autoFocus:i.bool,defaultLocation:i.string,implicitLocationEnabled:i.bool,onSelect:i.func,placeholder:i.string,presenter:i.object,taggerData:i.object.isRequired,taggerSource:i.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired},getDefaultProps:function(){return {autoFocus:true,implicitLocationEnabled:false,onSelect:c('emptyFunction'),placeholder:h._("Where are you?"),taggerData:{}};},getInitialState:function(){this.props.taggerSource.sessionStart();var k={};if(this.props.defaultLocation){k.query=this.props.defaultLocation;}else k.query=this.props.taggerData.place?this.props.taggerData.place.getTitle():'';return k;},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},render:function(){return (c('React').createElement(c('XUITypeahead.react'),{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this._onBackspace,onBlur:this._onBlur,onChange:this._onChange,onClear:this._onClear,onEntriesFound:this._onEntriesFound,onFocus:this._onFocus,onNoEntriesFound:this._onNoEntriesFound,onSelectAttempt:this._onSelect,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false}));},_getCopyOfData:function(){return Object.assign({},this.props.taggerData);},_onSelect:function(k,event){this.props.taggerSource.reportSelect(k.getUniqueID(),k.getType(),k.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var l=this._getCopyOfData();l.place=k;this.setState({query:k.getTitle()});this.props.onSelect&&this.props.onSelect(l);},_onChange:function(event){this.setState({query:event.target.value});},_onBackspace:function(event){if(this.state.query===event.target.value)this._removePlace();},_onClear:function(){this._removePlace();this.setState({query:''});},_removePlace:function(){var k=this._getCopyOfData();k.place=null;if(!this.props.implicitLocationEnabled)k.implicitLocation=null;this.props.onSelect&&this.props.onSelect(k);},_onBlur:function(){this.props.taggerSource.sessionEnd();},_onFocus:function(){this.props.taggerSource.sessionStart();},_onEntriesFound:function(k,l){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(k.map(function(m){return m.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);}});f.exports=j;},null);
__d('ReactComposerLocationTaggerComponent.react',['cx','fbt','ReactComposerLocationTypeaheadComponent.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','WebAsyncSearchSourceWithMetrics'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('Grid.react').GridItem,k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerLocationTaggerComponent',propTypes:{autoFocus:k.bool,implicitLocationEnabled:k.bool,onSelect:k.func,placeholder:k.string,taggerData:k.object.isRequired,taggerSource:k.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:k.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},render:function(){return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(j,{key:'prefix',className:"_5esm",role:'presentation'},i._("At")),c('React').createElement(j,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement(c('ReactComposerLocationTypeaheadComponent.react'),babelHelpers['extends']({},this.props,{className:"_5esx _1wqz",presenter:this._getPresenter()})))));},_getPresenter:function(){var m={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c('ReactComposerTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:m,maxEntries:15});}});f.exports=l;},null);
__d('ReactComposerLocationTaggerContainer.react',['ReactComposerLocationSearchSource','ReactComposerLocationAttachmentActions','ReactComposerLocationTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','BasicTypeaheadLoggerJSConstants','PlaceSearchConstants','React','areEqual','emptyFunction','getObjectValues'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('BasicTypeaheadLoggerJSConstants').EventNames,i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLocationTaggerContainer',_taggerSourceInitialized:false,mixins:[c('ReactComposerTaggerContainerMixin')],propTypes:{hideGeoHubs:i.bool,implicitLocationEnabled:i.bool,mediaLocation:i.shape({latitude:i.number.isRequired,longitude:i.number.isRequired}),onSelect:i.func.isRequired,taggerConfig:i.object,taggerViewStyle:i.shape(c('ReactComposerTaggerViewStyles').Shape),typeaheadLoggerEventName:i.oneOf(c('getObjectValues')(h)).isRequired,typeaheadSearchSource:i.oneOf(c('getObjectValues')(c('PlaceSearchConstants'))).isRequired},getDefaultProps:function(){return {hideGeoHubs:false,onSelect:c('emptyFunction'),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},componentWillMount:function(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;}},componentWillReceiveProps:function(k){if(!c('areEqual')(k.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(k);},statics:{taggerID:c('ReactComposerTaggerType').LOCATION,taggerComponent:c('ReactComposerLocationTaggerComponent.react')},__onTaggerDataChanged:function(k){var l=k.place&&k.place.getAuxiliaryData();if(l)k.implicitLocation={cityid:l.cityID,citypageid:l.cityPageID,citystring:l.cityName};if(k.place){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,null);c('ReactComposerLocationAttachmentActions').fetchLocationAttachment(this.context.composerID,k.place.getUniqueID(),this.context.targetID);}else c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null);},_setNewSearchSource:function(k){var l={latitude:(k.mediaLocation||{}).latitude,longitude:(k.mediaLocation||{}).longitude},m={hide_geo:k.hideGeoHubs,latitude:(k.mediaLocation||{}).latitude,longitude:(k.mediaLocation||{}).longitude},n={event_name:k.typeaheadLoggerEventName,event_specific_data:{context:'places_typeahead:'+k.typeaheadSearchSource,source:k.typeaheadSearchSource,ref:'ReactComposerLocationTypeaheadComponent.react'}},o=c('ReactComposerLocationSearchSource')(l,m,n);c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').LOCATION,o);}});f.exports=j;},null);
__d('ReactComposerPeopleTaggerButton.react',['cx','fbt','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','CurrentUser'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerPeopleTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').PEOPLE},getTitle:function(){if(c('CurrentUser').isWorkUser())return i._("Tag coworkers");return i._("Tag people");},getTooltip:function(){if(c('CurrentUser').isWorkUser())return i._("Tag coworkers in your post");return i._("Tag people in your post");},getClassName:function(){return "_5hd5";}});f.exports=j;},null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['cx','React','SearchableEntry','TokenizerToken.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerPeopleTaggerTokenizerToken',propTypes:{label:i.string.isRequired,entry:i.instanceOf(c('SearchableEntry')).isRequired,onRemove:i.func,highlighted:i.bool},_renderGlyph:function(){return (c('React').createElement('span',{className:"_jsa"}));},render:function(){var k=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,l=(k?"_jsb":'')+(' '+"_jsc");return (c('React').createElement(c('TokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l),glyph:this._renderGlyph()})));}});f.exports=j;},null);
__d('ReactComposerPeopleTaggerComponent.react',['cx','fbt','ReactComposerPeopleTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','XUITokenizer.react','emptyFunction','CurrentUser'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('Grid.react').GridItem,k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerPeopleTaggerComponent',propTypes:{actorID:k.string,autoFocus:k.bool,placeholder:k.string,taggerConfig:k.object,taggerData:k.array.isRequired,taggerSource:k.object.isRequired,onPeopleTagRemove:k.func,onSelect:k.func,taggerViewStyle:k.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){var m=i._("Who are you with?");if(c('CurrentUser').isWorkUser())m=i._("Who do you want to tag?");return {autoFocus:true,onSelect:c('emptyFunction'),placeholder:m,taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,taggerData:[]};},_onAdd:function(m){var n=this.props.taggerData,o=m.getUniqueID(),p=n.some(function(q){return q.getUniqueID()===o;});if(p){return;}else n.push(m);this.props.onSelect&&this.props.onSelect(n);},_onRemove:function(m){var n=this.props.taggerData,o=n.indexOf(m);if(o==-1)return;n.splice(o,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(m);this.props.onSelect&&this.props.onSelect(n);},render:function(){var m={};if(this.props.actorID)m[this.props.actorID]=true;return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(j,{key:'label',className:"_5esm",role:'presentation'},i._("With")),c('React').createElement(j,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({presenter:this._getPresenter(),focusedOnInit:this.props.autoFocus,excludedEntries:m,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove},this.props)))));},_getPresenter:function(){var m=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:c('ReactComposerTaggerPresenter'),n={};n.taggerViewStyle=this.props.taggerViewStyle;n.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},m,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:n,TokenRenderer:c('ReactComposerPeopleTaggerTokenizerToken.react')});}});f.exports=l;},null);
__d('ReactComposerPeopleTaggerContainer.react',['ReactComposerPeopleTaggerComponent.react','ReactComposerPhotoActions','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPeopleTaggerContainer',mixins:[c('ReactComposerTaggerContainerStateMixin')],propTypes:{actorID:h.string,taggerConfig:h.object,taggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function(){return {taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},statics:{taggerID:c('ReactComposerTaggerType').PEOPLE},render:function(){if(!this.state.isSelected)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerPeopleTaggerComponent.react'),babelHelpers['extends']({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource})));},_onTaggerDataChanged:function(j){c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerTaggerType').PEOPLE,j);this.props.onSelect&&this.props.onSelect(j);},_onPeopleTagRemove:function(j){c('ReactComposerPhotoActions').untagSubjectFromAllPhotos(this.context.composerID,j.getUniqueID());}});f.exports=i;},null);
__d('ReactShareDialogComposerActionType',['keyMirror'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:null,SET_SHARE_DIALOG_ATTRIBUTION:null,SET_SHARE_DIALOG_TYPE:null,SET_SHARE_TO_GROUPS_AS_PAGE:null});},null);
__d('ReactShareDialogComposerStore',['ReactComposerStoreBase','ReactShareDialogComposerActionType'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {target:null,targetInfo:{},attribution:null};},function(l){switch(l.type){case c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TARGET:k&&k.$ReactShareDialogComposerStore1(l);break;case c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TARGET_INFO:k&&k.$ReactShareDialogComposerStore2(l);break;case c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:k&&k.$ReactShareDialogComposerStore3(l);break;case c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_ATTRIBUTION:k&&k.$ReactShareDialogComposerStore4(l);break;case c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TYPE:k&&k.$ReactShareDialogComposerStore5(l);break;case c('ReactShareDialogComposerActionType').SET_SHARE_TO_GROUPS_AS_PAGE:k&&k.$ReactShareDialogComposerStore6(l);break;}});k=this;}j.prototype.getTarget=function(k){'use strict';return this.getComposerData(k).target;};j.prototype.getTargetInfo=function(k){'use strict';return this.getComposerData(k).targetInfo;};j.prototype.getTargetedPrivacyData=function(k){'use strict';return this.getComposerData(k).targetedPrivacyData;};j.prototype.getAttribution=function(k){'use strict';return this.getComposerData(k).attribution;};j.prototype.getShareDialogType=function(k){'use strict';return this.getComposerData(k).shareType;};j.prototype.getShareToGroupsAsPage=function(k){'use strict';return !!this.getComposerData(k).shareToGroupsAsPage;};j.prototype.$ReactShareDialogComposerStore1=function(k){'use strict';var l=this.getComposerData(k.composerID);l.target=k.target;this.emitChange(k.composerID);};j.prototype.$ReactShareDialogComposerStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.targetInfo=k.targetInfo;this.emitChange(k.composerID);};j.prototype.$ReactShareDialogComposerStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.targetedPrivacyData=k.targetedPrivacyData;this.emitChange(k.composerID);};j.prototype.$ReactShareDialogComposerStore4=function(k){'use strict';var l=this.getComposerData(k.composerID);l.attribution=k.attribution;this.emitChange(k.composerID);};j.prototype.$ReactShareDialogComposerStore5=function(k){'use strict';var l=this.getComposerData(k.composerID);l.shareType=k.shareType;this.emitChange(k.composerID);};j.prototype.$ReactShareDialogComposerStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);l.shareToGroupsAsPage=k.shareToGroupsAsPage;this.emitChange(k.composerID);};f.exports=new j();},null);
__d('ReactShareDialogComposerActions',['ReactComposerDispatcher','ReactShareDialogComposerActionType','ReactShareDialogComposerStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactShareDialogComposerStore');var h={setTarget:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TARGET,target:j});},setTargetInfo:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TARGET_INFO,targetInfo:j});},setTargetedPrivacyData:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA,targetedPrivacyData:j});},setAttribution:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_ATTRIBUTION,attribution:j});},setTypeOfShare:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactShareDialogComposerActionType').SET_SHARE_DIALOG_TYPE,shareType:j});},setShareToGroupAsPage:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactShareDialogComposerActionType').SET_SHARE_TO_GROUPS_AS_PAGE,shareToGroupsAsPage:j});}};f.exports=h;},null);
__d('ShareDialogAttachment.react',['cx','fbt','React','emptyFunction','Link.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogAttachment',propTypes:{overflowing:j.bool,onExpand:j.func,onCollapse:j.func},getDefaultProps:function(){return {overflowing:false,onExpand:c('emptyFunction'),onCollapse:c('emptyFunction')};},getInitialState:function(){return {expanded:false};},_toggle:function(){if(this.state.expanded){this.props.onCollapse();}else this.props.onExpand();this.setState({expanded:!this.state.expanded});},render:function(){var l;if(this.props.overflowing){var m;if(this.state.expanded){m=c('React').createElement('span',null,c('React').createElement('span',{className:"_u_1"},'↑'),' ',i._("Collapse"));}else m=c('React').createElement('span',null,i._("Show All"),' ',c('React').createElement('span',{className:"_u_1"},'↓'));l=c('React').createElement('p',{className:"_u_2"},c('React').createElement(c('Link.react'),{className:"_u_3",onClick:this._toggle},m));}var n="_u_4"+(this.props.overflowing&&!this.state.expanded?' '+"_u_5":'');return (c('React').createElement('div',{className:n},l,this.props.children));}});f.exports=k;},null);
__d('ReactShareDialogAttachmentContainer.react',['cx','csx','ReactComposerContextMixin','ShareDialogAttachment.react','DOMContainer.react','DOMQuery','LitestandShareAttachment','React','ReactDOM'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=400,l=c('React').createClass({displayName:'ReactShareDialogAttachmentContainer',mixins:[c('ReactComposerContextMixin')],propTypes:{attachment:j.instanceOf(HTMLElement)},getInitialState:function(){return {shouldOverflow:false};},componentDidMount:function(){setTimeout(function(){var m=false;if(this.props.attachment&&this.refs.attachment){var n=c('ReactDOM').findDOMNode(this.refs.attachment);if(n){var o=c('DOMQuery').scry(n,"._6m2")[0];c('LitestandShareAttachment').init(o||n);m=n.clientHeight>k;}}this.setState({shouldOverflow:m});}.bind(this),0);},render:function(){if(!this.props.attachment)return null;return (c('React').createElement(c('ShareDialogAttachment.react'),{overflowing:this.state.shouldOverflow},c('React').createElement('div',{ref:'attachment',className:"_51jo"},c('React').createElement(c('DOMContainer.react'),null,this.props.attachment),c('React').createElement('div',{className:"_2nzp"}))));}});f.exports=l;},null);
__d('ReactShareDialogComposerStatusAttachmentFooter.react',['ix','cx','fbt','invariant','ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAudienceSelectorContainer.react','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ShareDialogAudienceTypes','ReactShareDialogComposerActions','ReactShareDialogComposerStore','BasicTypeaheadLoggerJSConstants','Image.react','InlineBlock.react','Tooltip','Arbiter','LeftRight.react','PlaceSearchConstants','ReactComponentWithPureRenderMixin','React','ReactDOM','SubscriptionsHandler','UITargetedPrivacyWidget','XUIAmbientNUX.react','XUIButton.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('BasicTypeaheadLoggerJSConstants').EventNames,m=c('React').PropTypes,n=c('React').createClass({displayName:'ReactShareDialogComposerStatusAttachmentFooter',_subscriptionsHandler:null,_targetingWidgetInstance:null,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{onActivityNUXClose:m.func,onCancel:m.func,onPost:m.func,onSelectActivity:m.func,onSelectLocation:m.func,pagePrivacySelector:m.instanceOf(HTMLElement),placeID:m.string,posting:m.bool,privacySelector:m.instanceOf(HTMLElement),shouldHideAllButtons:m.bool,showActivityNUX:m.bool,showWhichTaggers:m.object.isRequired,taggersConfig:m.object,taggersSource:m.object,target:c('ShareDialogAudienceTypes').isValid,targetInfo:m.object.isRequired,targetingWidgetInstance:m.object},getDefaultProps:function(){var o={};o[c('ReactComposerTaggerType').PEOPLE]=false;o[c('ReactComposerTaggerType').LOCATION]=false;o[c('ReactComposerTaggerType').ACTIVITY]=false;return {onCancel:c('emptyFunction'),onPost:c('emptyFunction'),onActivityNUXClose:c('emptyFunction'),onSelectActivity:c('emptyFunction'),onSelectLocation:c('emptyFunction'),shouldHideAllButtons:false,showActivityNUX:false,showWhichTaggers:o,targetInfo:{}};},componentWillMount:function(){this._targetingWidgetInstance=null;this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(c('Arbiter').subscribe('UIPrivacyWidget/globalPrivacyChanged',function(o,p){c('ReactShareDialogComposerActions').setTargetedPrivacyData(this.context.composerID,p.data);}.bind(this)));},componentWillUnmount:function(){this._subscriptionsHandler.release();},render:function(){return (c('React').createElement('div',null,this._getTaggers(),c('React').createElement(c('ReactComposerFooter.react'),{background:'light-wash'},c('React').createElement(c('LeftRight.react'),null,this._getButtons(),this._getFooterActions()))));},_shouldHideAllTaggers:function(){for(var o in this.props.showWhichTaggers)if(this.props.showWhichTaggers[o])return false;return true;},_getTaggers:function(){if(this._shouldHideAllTaggers())return c('React').createElement('noscript',null);!(this.props.taggersConfig!=null&&this.props.taggersSource!=null)?k(0):void 0;var o=this.props.taggersConfig[c('ReactComposerTaggerType').OG],p=this.props.showWhichTaggers[c('ReactComposerTaggerType').PEOPLE]?c('React').createElement(c('ReactComposerPeopleTaggerContainer.react'),{actorID:this.context.actorID,layerPosition:'above',taggerSource:this.props.taggersSource[c('ReactComposerTaggerType').PEOPLE],taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT}):null,q=this.props.showWhichTaggers[c('ReactComposerTaggerType').LOCATION]?c('React').createElement(c('ReactComposerLocationTaggerContainer.react'),{actorID:this.context.actorID,layerPosition:'above',onSelect:this.props.onSelectLocation,taggerSource:this.props.taggersSource[c('ReactComposerTaggerType').LOCATION],taggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE_SHORT,typeaheadLoggerEventName:l.REACT_SHARE_DIALOG_LOCATION_TAGGER,typeaheadSearchSource:c('PlaceSearchConstants').SOURCE_W_COMPOSER}):null,r=this.props.showWhichTaggers[c('ReactComposerTaggerType').ACTIVITY]?c('React').createElement(c('ReactComposerActivityTaggerContainer.react'),{actorID:this.context.actorID,layerPosition:'above',onSelect:this.props.onSelectActivity,placeID:this.props.placeID,taggerSource:this.props.taggersSource[c('ReactComposerTaggerType').ACTIVITY],actionTypeIDsWithNoFreeForm:o.actionTypeIDsWithNoFreeForm,actionTypeIDsToPrefetch:o.actionTypeIDsToPrefetch,rankVerbs:o.rankVerbs,typeaheadLoggerEventName:l.REACT_SHARE_DIALOG_OG_TAGGER,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE_SHORT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE_SHORT}):null;return (c('React').createElement(c('ReactComposerTaggers.react'),null,p,q,r));},_getButtons:function(){if(this._shouldHideAllTaggers()||this.props.posting)return c('React').createElement('noscript',null);var o=this.props.showWhichTaggers[c('ReactComposerTaggerType').PEOPLE]?c('React').createElement(c('ReactComposerPeopleTaggerButton.react'),null):null,p=this.props.showWhichTaggers[c('ReactComposerTaggerType').LOCATION]?c('React').createElement(c('ReactComposerLocationTaggerButton.react'),null):null,q=this.props.showWhichTaggers[c('ReactComposerTaggerType').ACTIVITY]?c('React').createElement(c('ReactComposerActivityTaggerButton.react'),{ref:'activityButton'}):null;return (c('React').createElement(c('ReactComposerTaggerButtons.react'),null,o,p,q,this._getActivityNUX()));},_getActivityNUX:function(){if(!this.props.showActivityNUX||!this.refs.activityButton)return null;return (c('React').createElement(c('XUIAmbientNUX.react'),{context:c('ReactDOM').findDOMNode(this.refs.activityButton),onCloseButtonClick:this.props.onActivityNUXClose,position:'above',shown:true},j._("New! You can choose to share your feelings and activities.")));},_getFooterActions:function(){var o=null,p=null,q=null;if(!this.props.posting)if(this.props.target===c('ShareDialogAudienceTypes').OWN){o=c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.privacySelector,viewerIsTarget:true});}else if(this.props.target===c('ShareDialogAudienceTypes').GROUP){var r=j._("People who can see posts in the group");p=c('React').createElement(c('InlineBlock.react'),babelHelpers['extends']({className:"_3-90"},c('Tooltip').propsFor(r)),c('React').createElement(c('Image.react'),{className:"_4q3o",src:h('/images/litestand/audience/group.png')}));}else if(this.props.target===c('ShareDialogAudienceTypes').PAGE&&this.props.targetInfo.audienceTargets&&this.props.targetInfo.audienceTargets[0]===this.props.targetInfo.userId){q=c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.pagePrivacySelector,viewerIsTarget:false});if(!this._targetingWidgetInstance)this._targetingWidgetInstance=c('UITargetedPrivacyWidget').getInstance(this.props.pagePrivacySelector.id);if(this._targetingWidgetInstance){var s=c('ReactShareDialogComposerStore').getTargetInfo(this.context.composerID).userId;this._targetingWidgetInstance.setProfileID(s);}}var t=this.props.target!==c('ShareDialogAudienceTypes').OWN&&!this.props.targetInfo.audienceTargets,u=this.props.postButtonLabel;if(u===undefined)if(this.props.target!==c('ShareDialogAudienceTypes').MESSAGE){u=this.props.posting?j._("Posting"):j._("Post");}else u=this.props.posting?j._("Sending"):j._("Send");var v=this.props.shouldHideAllButtons?null:c('React').createElement('div',{className:"_4-88"},c('React').createElement(c('XUIButton.react'),{use:'default',label:j._("Cancel"),className:"_2g60",onClick:this.props.onCancel}),c('React').createElement(c('XUIButton.react'),{use:'confirm',label:u,className:"_2g61",onClick:this.props.onPost,disabled:t}));return (c('React').createElement(c('ReactComposerFooterActions.react'),null,o,p,q,v));}});f.exports=n;},null);
__d('ReactShareDialogComposerStatusAttachmentFooterContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerNUXType','ComposerXNUX','ReactShareDialogComposerStatusAttachmentFooter.react','ReactShareDialogComposerStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactShareDialogComposerStatusAttachmentFooterContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'),c('ReactShareDialogComposerStore'))],propTypes:{showActivityNUX:h.bool},statics:{calculateState:function(j,k){var l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),m=l&&l.place&&l.place.getUniqueID();return {placeID:m,target:c('ReactShareDialogComposerStore').getTarget(j),targetInfo:c('ReactShareDialogComposerStore').getTargetInfo(j)};}},getInitialState:function(){return {showActivityNUX:this.props.showActivityNUX};},componentWillMount:function(){if(this.props.showActivityNUX)setTimeout(function(){this.setState({showActivityNUX:true});}.bind(this),1000);},render:function(){return (c('React').createElement(c('ReactShareDialogComposerStatusAttachmentFooter.react'),babelHelpers['extends']({},this.props,this.state,{posting:this.props.status.type=='posting',onActivityNUXClose:this._onActivityNUXClose,onPost:this.props.onPost,onSelectActivity:this._closeTaggers,onSelectLocation:this._closeTaggers})));},_closeTaggers:function(j){if(j&&j.action&&!j.object)return;c('ReactComposerTaggerActions').selectTagger(this.context.composerID,null);},_onActivityNUXClose:function(){this.setState({showActivityNUX:false});c('ComposerXNUX').sendMarkSeenRequest(c('ComposerNUXType').SHARER_MINUTIAE_NUX);}});f.exports=i;},null);
__d('ShareDialogAttribution.react',['cx','fbt','React','emptyFunction','Link.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogAttribution',propTypes:{name:j.string,onRemove:j.func},getDefaultProps:function(){return {onRemove:c('emptyFunction')};},_onRemove:function(){this.props.onRemove();},render:function(){return (c('React').createElement('div',{className:"_5qio"},c('React').createElement('span',null,i._("via")),' ',this.props.name,'  (',c('React').createElement(c('Link.react'),{onClick:this._onRemove},i._("remove")),')'));}});f.exports=k;},null);
__d('ShareDialogDropdownForSharePostOrLink.react',['cx','fbt','ShareNowCounter','ShareNowCounterEvent','React','XUICheckboxInput.react','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j='post_and_link',k='link_only',l=c('React').PropTypes;g.framework='React';var m=c('React').createClass({displayName:'ShareDialogDropdownForSharePostOrLink',propTypes:{onSelectSharePostOrLink:l.func},getDefaultProps:function(){return {onSelectSharePostOrLink:c('emptyFunction')};},componentDidMount:function(){this.props.onSelectSharePostOrLink(this.state.value===j);},getInitialState:function(){return {value:j};},onChange:function(n){c('ShareNowCounter').logEvent(n?c('ShareNowCounterEvent').DROPDOWN_SELECT_SHARE_LINK:c('ShareNowCounterEvent').DROPDOWN_SELECT_SHARE_POST);this.setState({value:n?k:j});this.props.onSelectSharePostOrLink(!n);},render:function(){return (c('React').createElement('div',{className:"_3-9a"},c('React').createElement(c('XUICheckboxInput.react'),{name:'share type',checked:this.state.value===j,onChange:this.onChange.bind(this,this.state.value===j)}),i._("Include Original Post")));}});f.exports=m;},null);
__d('ShareDialogWarningNotice.react',['ix','cx','fbt','FBToggle.react','Image.react','LeftRight.react','React','fbglyph'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ShareDialogWarningNotice',propTypes:{warning:k.object.isRequired},render:function(){return (c('React').createElement(c('FBToggle.react'),{className:"_3ba_"},c('React').createElement(c('LeftRight.react'),{className:"_3bb0"},c('React').createElement('span',{className:"_3bb1"},c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/question-solid_16_accent-blue.png")})),c('React').createElement('span',{className:"_3bb2"},j._("Who can see this?"))),c('React').createElement('div',{className:"_3bb3"},c('React').createElement('span',{dangerouslySetInnerHTML:this.props.warning}))));}});f.exports=l;},null);
__d('ReactShareDialogComposerStatusAttachment.react',['cx','fbt','ReactComposerContextMixin','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerType','ShareDialogAttribution.react','ReactShareDialogAttachmentContainer.react','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachmentFooterContainer.react','ReactShareDialogComposerActions','ShareDialogDataSources','ShareDialogDropdownForSharePostOrLink.react','ShareDialogWarningNotice.react','SharerType','React','XUINotice.react','emptyFunction','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactShareDialogComposerStatusAttachment',_inputContainer:c('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react'),mixins:[c('ReactComposerContextMixin')],propTypes:{activeAudience:c('ShareDialogAudienceTypes').propType,hideWhichTaggers:j.arrayOf(j.oneOf(Object.keys(c('ReactComposerTaggerType')))),pagePrivacySelector:j.instanceOf(HTMLElement),privacySelector:j.instanceOf(HTMLElement),attachment:j.object,dataSources:j.instanceOf(c('ShareDialogDataSources')),taggersData:j.object,onCancel:j.func,onPost:j.func,onRemoveAttribution:j.func,publicityWarning:j.object,showDoingNUX:j.bool,via:j.object,useCheckinBranding:j.bool,sharerType:j.oneOf(c('getOwnObjectValues')(c('SharerType'))),shouldAlwaysHideAllTaggers:j.bool.isRequired,shouldHideAllButtons:j.bool.isRequired,subtleWarning:j.bool,taggersConfig:j.object,postButtonLabel:j.string,postPreview:j.object},getInitialState:function(){return {showPostPreview:this.props.postPreview!==null};},getDefaultProps:function(){return {hideWhichTaggers:[],taggersData:{},onCancel:c('emptyFunction'),onPost:c('emptyFunction'),onRemoveAttribution:c('emptyFunction'),postPreview:null};},componentDidMount:function(){this._inputContainer.focus();},_getDropdownForSharePostOrLink:function(){return c('React').createElement(c('ShareDialogDropdownForSharePostOrLink.react'),{onSelectSharePostOrLink:this._onSelectSharePostOrLink});},_onSelectSharePostOrLink:function(l){this.setState({showPostPreview:this.props.postPreview?l:false});c('ReactShareDialogComposerActions').setTypeOfShare(this.context.composerID,l);},render:function(){var l=this.props.dataSources,m=l&&this.props.activeAudience!==c('ShareDialogAudienceTypes').MESSAGE?l.getSource(c('ShareDialogDataSources').TYPES.MENTIONS):null,n=i._("Say something about this..."),o=c('React').createElement('noscript',null);if(!this._shouldHideAllTaggers())o=c('React').createElement(c('ReactComposerTaggerSummaryContainer.react'),null);var p=this.state.showPostPreview&&this.props.activeAudience!==c('ShareDialogAudienceTypes').MESSAGE?this.props.postPreview:this.props.attachment,q=this.props.activeAudience===c('ShareDialogAudienceTypes').MESSAGE||this.props.postPreview===null?null:this._getDropdownForSharePostOrLink(),r=this.state.showPostPreview?null:this._getAttribution(),s=null;if(this.props.topicFeedsTagger&&(this.props.activeAudience===c('ShareDialogAudienceTypes').OWN||this.props.activeAudience===c('ShareDialogAudienceTypes').PERSON)){var t=this.props.topicFeedsTagger.container;s=c('React').createElement(t,{showNux:this.props.topicFeedsTagger.showNux});}return (c('React').createElement('div',null,c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react'),{mentionsSource:m,placeholder:n,ref:function(u){return this._inputContainer=u;}.bind(this)}),o,q,r,c('React').createElement(c('ReactShareDialogAttachmentContainer.react'),{attachment:p}),this._getWarning(),s,c('React').createElement(c('ReactShareDialogComposerStatusAttachmentFooterContainer.react'),{onCancel:this.props.onCancel,onPost:this.props.onPost,pagePrivacySelector:this.props.pagePrivacySelector,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,shouldHideAllButtons:this.props.shouldHideAllButtons,showActivityNUX:this.props.showDoingNUX,showWhichTaggers:this._showWhichTaggers(),status:this.props.status,taggersConfig:this.props.taggersConfig,taggersSource:this._getTaggersSource()})));},_shouldHideAllTaggers:function(){return (!this.context.gks.gkOsricTaggers||this.props.activeAudience===c('ShareDialogAudienceTypes').GROUP&&!this.context.gks.gkGroupTaggers||this.props.activeAudience===c('ShareDialogAudienceTypes').MESSAGE||this.props.shouldAlwaysHideAllTaggers);},_showWhichTaggers:function(){var l={};if(this._shouldHideAllTaggers()){l[c('ReactComposerTaggerType').PEOPLE]=false;l[c('ReactComposerTaggerType').LOCATION]=false;l[c('ReactComposerTaggerType').ACTIVITY]=false;return l;}l[c('ReactComposerTaggerType').PEOPLE]=true;l[c('ReactComposerTaggerType').LOCATION]=true;l[c('ReactComposerTaggerType').ACTIVITY]=true;if(this.props.hideWhichTaggers)for(var m=0,n=this.props.hideWhichTaggers.length;m<n;m++)l[this.props.hideWhichTaggers[m]]=false;return l;},_getTaggersSource:function(){var l=this.props.dataSources;if(!l)return null;var m={};m[c('ReactComposerTaggerType').PEOPLE]=l.getSource(c('ShareDialogDataSources').TYPES.PERSON);m[c('ReactComposerTaggerType').LOCATION]=l.getSource(c('ShareDialogDataSources').TYPES.PLACE);m[c('ReactComposerTaggerType').ACTIVITY]=l.getSource(c('ShareDialogDataSources').TYPES.ACTION);return m;},_getTaggerData:function(l){return this.props.taggersData?this.props.taggersData[l]:null;},_getAttribution:function(){var l=this.props.attribution;if(!l||!l.name||this.props.activeAudience===c('ShareDialogAudienceTypes').MESSAGE)return c('React').createElement('noscript',null);return (c('React').createElement(c('ShareDialogAttribution.react'),{onRemove:this.props.onRemoveAttribution,name:l.name}));},_getWarning:function(){if(!this.props.publicityWarning)return c('React').createElement('noscript',null);if(this.props.subtleWarning){return (c('React').createElement(c('ShareDialogWarningNotice.react'),{warning:this.props.publicityWarning}));}else return (c('React').createElement(c('XUINotice.react'),{className:"_2nt0",size:'small'},c('React').createElement('span',{dangerouslySetInnerHTML:this.props.publicityWarning})));}});f.exports=k;},null);
__d('ReactShareDialogComposerStatusAttachmentContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','React','ReactShareDialogComposerActions','ReactShareDialogComposerStore','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachment.react','ShareDialogDataSources','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactShareDialogComposerStatusAttachmentContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'),c('ReactShareDialogComposerStore'))],propTypes:{activeAudience:c('ShareDialogAudienceTypes').propType,attachment:h.object,dataSources:h.instanceOf(c('ShareDialogDataSources')),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,shouldAlwaysHideAllTaggers:h.bool.isRequired,shouldHideAllButtons:h.bool.isRequired,showDoingNUX:h.bool,useCheckinBranding:h.bool,via:h.object},getDefaultProps:function(){return {onCancel:c('emptyFunction'),onPost:c('emptyFunction')};},statics:{beforeCalculateInitialState:function(j,k){var l=k.via;if(l&&l.name)c('ReactShareDialogComposerActions').setAttribution(j,l);},calculateState:function(j,k){var l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').ACTIVITY);return {taggersData:c('ReactComposerTaggerStore').getTaggersData(j),attribution:c('ReactShareDialogComposerStore').getAttribution(j),actionIconID:l?l.actionIconID:null};}},render:function(){return (c('React').createElement(c('ReactShareDialogComposerStatusAttachment.react'),babelHelpers['extends']({ref:'shareBody'},this.props,this.state,{onRemoveAttribution:this._onRemoveAttribution})));},_onRemoveAttribution:function(){c('ReactShareDialogComposerActions').setAttribution(this.context.composerID,null);}});f.exports=i;},null);
__d('ReactShareDialogComposerStatusEagerAttachment.react',['ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachmentContainer.react','ShareDialogDataSources','React','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactShareDialogComposerStatusEagerAttachment',mixins:[c('ReactComposerAttachmentBodyMixin')()],propTypes:{activeAudience:c('ShareDialogAudienceTypes').propType,attachment:h.object,dataSources:h.instanceOf(c('ShareDialogDataSources')),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,selected:h.bool,shouldAlwaysHideAllTaggers:h.bool.isRequired,shouldHideAllButtons:h.bool.isRequired,showDoingNUX:h.bool,subtleWarning:h.bool,taggersConfig:h.object,useCheckinBranding:h.bool,via:h.object},getDefaultProps:function(){return {selected:true,onCancel:c('emptyFunction'),onPost:c('emptyFunction')};},statics:{attachmentID:c('ReactComposerAttachmentType').STATUS},renderX:function(){return c('React').createElement(c('ReactShareDialogComposerStatusAttachmentContainer.react'),this.props);}});f.exports=i;},null);
__d('ReactShareDialogComposer.react',['ReactComposer.react','ReactComposerBody.react','ReactComposerContextMixin','ReactComposerPrefillActions','ReactComposerPrefillConfig','ShareDialogAudienceTypes','ReactShareDialogComposerStatusEagerAttachment.react','ShareDialogDataSources','SharerType','React','emptyFunction','getOwnObjectValues'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactShareDialogComposer',mixins:[c('ReactComposerContextMixin')],propTypes:{activeAudience:c('ShareDialogAudienceTypes').propType,attachment:h.object,dataSources:h.instanceOf(c('ShareDialogDataSources')),experiments:h.shape({subtleWarning:h.bool}),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),postButtonLabel:h.string,postId:h.string,prefillConfig:c('ReactComposerPrefillConfig'),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,sharerType:h.oneOf(c('getOwnObjectValues')(c('SharerType'))),shareType:h.string,shouldAlwaysHideAllTaggers:h.bool,shouldHideAllButtons:h.bool,showDoingNUX:h.bool,taggersConfig:h.object,useCheckinBranding:h.bool,userId:h.string.isRequired,via:h.object},getDefaultProps:function(){return {onCancel:c('emptyFunction'),onPost:c('emptyFunction'),sharerType:c('SharerType').ALL_MODES,shouldAlwaysHideAllTaggers:false,shouldHideAllButtons:false,status:{type:'composing'}};},componentWillMount:function(){if(this.props.prefillConfig)c('ReactComposerPrefillActions').setPrefillData(this.props.contextConfig.composerID,this.props.prefillConfig);},_onCancel:function(j){var k=this.props.onCancel;k&&k(j);},_onPost:function(j){var k=this.props.onPost;k&&k(j);},render:function(){return (c('React').createElement(c('ReactComposer.react'),{hideBorders:true,loggingConfig:this.props.loggingConfig},c('React').createElement(c('ReactComposerBody.react'),null,c('React').createElement(c('ReactShareDialogComposerStatusEagerAttachment.react'),babelHelpers['extends']({},this.props,{activeAudience:this.props.activeAudience,attachment:this.props.attachment,dataSources:this.props.dataSources,onCancel:this._onCancel,onPost:this._onPost,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,publicityWarning:this.props.publicityWarning,sharerType:this.props.sharerType,showDoingNUX:this.props.showDoingNUX,subtleWarning:this.props.experiments&&this.props.experiments.subtleWarning,taggersConfig:this.props.taggersConfig,useCheckinBranding:this.props.useCheckinBranding,via:this.props.via})))));}});f.exports=i;},null);
__d('ShareDialogAudienceHeader.react',['cx','ShareDialogAudience.react','ShareDialogAudienceSelector.react','ShareDialogDataSources','SharerType','React','emptyFunction'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('ShareDialogAudience.react').TYPES,j=c('ShareDialogDataSources').TYPES,k=c('React').PropTypes,l=c('React').createClass({displayName:'ShareDialogAudienceHeader',propTypes:{activeAudience:function(m){if(!i.isValid(m.activeAudience))return new Error('The active audience is invalid.');},dataSources:k.instanceOf(c('ShareDialogDataSources')),onAudienceSelect:k.func},getDefaultProps:function(){return {onAudienceSelect:c('emptyFunction')};},render:function(){var m=this.props.dataSources,n=this.props.activeAudience,o=[];if(this.props.sharerType===c('SharerType').MESSAGE_ONLY){o.push(i.MESSAGE);}else if(this.props.sharerType===c('SharerType').PAGE_ONLY){o.push(i.PAGE);}else if(this.props.sharerType===c('SharerType').PAGE_VIEWER){o.push(i.OWN);}else{o.push(i.OWN);if(m.getSource(j.PERSON_WALL))o.push(i.PERSON);if(m.getSource(j.GROUP))o.push(i.GROUP);if(m.getSource(j.PAGE))o.push(i.PAGE);if(m.getSource(j.MESSAGE))o.push(i.MESSAGE);}var p="__0k"+(this.props.activeAudience===i.OWN?' '+"_47xt":'')+(this.props.activeAudience===i.PERSON?' '+"_47xu":'')+(this.props.activeAudience===i.GROUP?' '+"_47xv":'')+(this.props.activeAudience===i.PAGE?' '+"_47xw":'')+(this.props.activeAudience===i.MESSAGE?' '+"_47xx":'');return (c('React').createElement('div',{className:p},c('React').createElement(c('ShareDialogAudienceSelector.react'),{allowedAudiences:o,activeAudience:n,onAudienceSelect:this.props.onAudienceSelect})));}});f.exports=l;},null);
__d('ReactSharer.react',['ReactShareDialogComposer.react','ShareDialogAudienceHeader.react','ShareDialogAudienceTypes','ShareDialogAudience.react','ShareDialogDataSources','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactSharer',propTypes:{activeAudience:c('ShareDialogAudienceTypes').propType,dataSources:h.instanceOf(c('ShareDialogDataSources')),privacySelector:h.instanceOf(HTMLElement).isRequired,pagePrivacySelector:h.instanceOf(HTMLElement).isRequired,userId:h.string.isRequired,attachment:h.object,gks:h.shape({showGroupThreads:h.bool,subtleWarning:h.bool}),messageTargets:h.array,onCancel:h.func,onChangeAudienceTargets:h.func,onClearAudienceTargets:h.func,onTargetSelect:h.func,onPost:h.func,postButtonLabel:h.string,taggersConfig:h.object.isRequired},render:function(){return (c('React').createElement('div',null,c('React').createElement(c('ShareDialogAudienceHeader.react'),{key:'title',activeAudience:this.props.activeAudience,dataSources:this.props.dataSources,onAudienceSelect:this.props.onTargetSelect}),c('React').createElement(c('ShareDialogAudience.react'),{key:'audience',userId:this.props.userId,activeAudience:this.props.activeAudience,messageTargets:this.props.messageTargets,dataSources:this.props.dataSources,onChange:this.props.onChangeAudienceTargets,onClear:this.props.onClearAudienceTargets,showGroupThreads:this.props.gks&&this.props.gks.showGroupThreads}),c('React').createElement(c('ReactShareDialogComposer.react'),this.props)));}});f.exports=i;},null);
__d('ReactSharerContainer.react',['ReactComposerAudienceStore','ReactComposerContextMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactSharer.react','ReactShareDialogComposerActions','ReactShareDialogComposerStore','ShareDialogAudienceTypes','SharerType','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactSharerContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactShareDialogComposerStore'))],statics:{beforeCalculateInitialState:function(i,j){var k=c('ShareDialogAudienceTypes').OWN;if(j.sharerType===c('SharerType').MESSAGE_ONLY){k=c('ShareDialogAudienceTypes').MESSAGE;}else if(j.sharerType===c('SharerType').PAGE_ONLY)k=c('ShareDialogAudienceTypes').PAGE;c('ReactShareDialogComposerActions').setTarget(i,k);c('ReactShareDialogComposerActions').setTargetInfo(i,{userId:j.userId});},calculateState:function(i,j){var k=c('ReactShareDialogComposerStore').getTargetInfo(i),l=k.audienceTargets,m=k.userId;return {activeAudience:c('ReactShareDialogComposerStore').getTarget(i),audienceTargets:l,userId:m};}},render:function(){return (c('React').createElement(c('ReactSharer.react'),babelHelpers['extends']({},this.props,this.state,{onCancel:this._onCancel,onChangeAudienceTargets:this._onChangeAudienceTargets,onClearAudienceTargets:this._onClearAudienceTargets,onPost:this._onPost,onTargetSelect:this._onTargetSelect})));},_getStatefulResponse:function(){var i=this.props.contextConfig.composerID,j=c('ReactComposerTaggerStore').getTaggersData(i),k=c('ReactComposerAudienceStore').getAudience(i),l=c('ReactComposerStatusStore').getMessage(i),m=c('ReactShareDialogComposerStore').getTarget(i),n=c('ReactShareDialogComposerStore').getTargetInfo(i),o=c('ReactShareDialogComposerStore').getTargetedPrivacyData(i),p=c('ReactShareDialogComposerStore').getAttribution(i),q=n.audienceTargets?n.audienceTargets:[],r=j[c('ReactComposerTaggerType').PEOPLE],s=j[c('ReactComposerTaggerType').LOCATION],t=j[c('ReactComposerTaggerType').ACTIVITY],u=r.map(function(z){return z.getUniqueID();}),v=null,w=null;if(t.object){var x=t.object.getUniqueID(),y=t.object.getTitle();if(!x||x===y){w=y;}else v=x;}return {actorId:n.userId,audienceType:m,audienceTargets:q,appId:this.props.appId,attributionId:p?p.id:null,internalExtra:this.props.internalExtra,message:l,messageTags:this.props.messageTags,ownerId:this.props.ownerId,privacy:k,postId:this.props.postId,sharedAdId:this.props.sharedAdId,shareType:this.props.shareType,source:'osbach-sharer',taggedActionId:t.action?t.action.getUniqueID():null,taggedActionIconId:t.actionIconID,taggedObjectId:v,taggedObjectStr:w,taggedPeople:u,taggedPlace:s&&s.place?s.place.getUniqueID():null,targetedPrivacyData:o};},_onTargetSelect:function(i){c('ReactShareDialogComposerActions').setTarget(this.context.composerID,i);c('ReactShareDialogComposerActions').setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId});},_onCancel:function(i){this.props.onCancel&&this.props.onCancel(this._getStatefulResponse(),i);},_onChangeAudienceTargets:function(i){if(i.length===0)return;var j=i[0],k=this.state.activeAudience===c('ShareDialogAudienceTypes').PAGE?{audienceTargets:[j.pageId],userId:j.actorId}:{audienceTargets:i,userId:this.props.userId};c('ReactShareDialogComposerActions').setTargetInfo(this.context.composerID,k);},_onClearAudienceTargets:function(){c('ReactShareDialogComposerActions').setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId});},_onPost:function(i){this.props.onPost(this._getStatefulResponse(),i);}});f.exports=h;},null);
__d('ReactSharerRoot.react',['ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactSharerContainer.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactSharerRoot',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired},render:function(){return c('React').createElement(c('ReactSharerContainer.react'),this.props);}});f.exports=h;},null);
__d('ReactSharerInit',['ReactSharerRoot.react','ShareDialogAudienceTypes','ShareDialogDataSources','ComposerEntryPointRef','DOM','Sharer','React','ReactDOM','uniqueID'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j={init:function(k,l){k=this.getPropsFromAsyncResponse(k);h=l;c('ReactDOM').render(c('React').createElement('div',null,c('React').createElement(c('ReactSharerRoot.react'),babelHelpers['extends']({contextConfig:{actorID:k.userId,composerID:c('uniqueID')(),composerType:c('ComposerEntryPointRef').SHARE_BUTTON_PLUGIN,gks:k.gks,targetID:k.userId},onCancel:this._onCancel,onPost:this._onPost},k)),c('React').createElement('div',{ref:function(m){return i=m;}})),h);},_onCancel:function(k,l){c('Sharer').close();l.preventDefault();},_onPost:function(k,l){c('DOM').empty(i);if(k.audienceType===c('ShareDialogAudienceTypes').OWN){c('DOM').appendContent(i,c('DOM').create('input',{name:'privacyx',type:'hidden',value:k.privacy}));}else if(k.audienceType===c('ShareDialogAudienceTypes').PERSON){c('DOM').appendContent(i,c('DOM').create('input',{name:'friendTarget',type:'hidden',value:k.audienceTargets.toString()}));}else if(k.audienceType===c('ShareDialogAudienceTypes').MESSAGE){c('DOM').appendContent(i,c('DOM').create('input',{name:'messageTarget',type:'hidden',value:k.audienceTargets.toString()}));}else if(k.audienceType===c('ShareDialogAudienceTypes').GROUP){c('DOM').appendContent(i,c('DOM').create('input',{name:'groupTarget',type:'hidden',value:k.audienceTargets.toString()}));}else if(k.audienceType===c('ShareDialogAudienceTypes').PAGE){c('DOM').appendContent(i,[c('DOM').create('input',{name:'pageTarget',type:'hidden',value:k.audienceTargets.toString()}),c('DOM').create('input',{name:'av',type:'hidden',value:k.actorId})]);if(k.targetedPrivacyData)for(var m in k.targetedPrivacyData)if(k.targetedPrivacyData[m]&&k.targetedPrivacyData[m].constructor===Array){for(var n=0;n<k.targetedPrivacyData[m].length;n++)c('DOM').appendContent(i,c('DOM').create('input',{name:'targeted_privacy_data['+m+']['+n+']',type:'hidden',value:k.targetedPrivacyData[m][n]}));}else c('DOM').appendContent(i,c('DOM').create('input',{name:'targeted_privacy_data['+m+']',type:'hidden',value:k.targetedPrivacyData[m]}));}if(k.taggedPeople){var n=0;k.taggedPeople.forEach(function(o){c('DOM').appendContent(i,c('DOM').create('input',{name:'composertags_with['+n+']',type:'hidden',value:o}));n++;});}c('DOM').appendContent(i,[c('DOM').create('input',{name:'xhpc_message_text',type:'hidden',value:k.message}),c('DOM').create('input',{name:'xhpc_message',type:'hidden',value:k.message}),c('DOM').create('input',{name:'composertags_place',type:'hidden',value:k.taggedPlace}),c('DOM').create('input',{name:'action_type_id[]',type:'hidden',value:k.taggedActionId}),c('DOM').create('input',{name:'icon_id',type:'hidden',value:k.taggedActionIconId}),c('DOM').create('input',{name:'object_id[]',type:'hidden',value:k.taggedObjectId}),c('DOM').create('input',{name:'object_str[]',type:'hidden',value:k.taggedObjectStr}),c('DOM').create('input',{name:'is_react',type:'hidden',value:'true'})]);},getPropsFromAsyncResponse:function(k){var l=k.sources,m=babelHelpers.objectWithoutProperties(k,['sources']),n=l.person,o=l.personTag,p=l.personWall,q=l.group,r=l.page,s=l.mentions,t=l.place,u=l.feeling,v=l.action,w=l.object,x=new (c('ShareDialogDataSources'))().addSource(c('ShareDialogDataSources').TYPES.ACTION,v).addSource(c('ShareDialogDataSources').TYPES.GROUP,q).addSource(c('ShareDialogDataSources').TYPES.FEELING,u).addSource(c('ShareDialogDataSources').TYPES.MENTIONS,s).addSource(c('ShareDialogDataSources').TYPES.MESSAGE,n).addSource(c('ShareDialogDataSources').TYPES.OBJECT,w).addSource(c('ShareDialogDataSources').TYPES.PAGE,r).addSource(c('ShareDialogDataSources').TYPES.PERSON,o).addSource(c('ShareDialogDataSources').TYPES.PERSON_WALL,p).addSource(c('ShareDialogDataSources').TYPES.PLACE,t);return babelHelpers['extends']({dataSources:x},m);}};f.exports=j;},null);