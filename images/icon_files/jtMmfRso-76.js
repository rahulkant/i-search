/*!CK:2254107679!*//*1459439049,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["p26U6"]); }

__d("Shaka",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h={};(function(i){var j,k=this;function l(xl,yl){var zl=xl.split("."),am=k;zl[0] in am||!am.execScript||am.execScript("var "+zl[0]);for(var bm;zl.length&&(bm=zl.shift());)zl.length||void 0===yl?am[bm]?am=am[bm]:am=am[bm]={}:am[bm]=yl;}function m(xl,yl){function zl(){}zl.prototype=yl.prototype;xl.Kb=yl.prototype;xl.prototype=new zl();xl.prototype.constructor=xl;xl.Jb=function(am,bm,cm){return yl.prototype[bm].apply(am,Array.prototype.slice.call(arguments,2));};}function n(){}function o(xl){var yl=console[xl];yl?yl.bind||(console[xl]=function(){yl.apply(console,arguments);}):console[xl]=function(){};}o("error");o("warn");o("info");o("log");o("debug");function p(xl){t[xl]={ea:s(),end:NaN};}function q(xl){if(xl=t[xl])xl.end=s();}function r(xl){return (xl=t[xl])&&xl.end?xl.end-xl.ea:NaN;}var s=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now,t={};function u(xl,yl,zl,am){this.id=xl;this.bandwidth=yl||0;this.lang=zl||"unknown";this.streamInfoID=am;this.active=false;}l("shaka.player.AudioTrack.compare",function(xl,yl){return xl.lang<yl.lang?-1:xl.lang>yl.lang?1:xl.bandwidth<yl.bandwidth?-1:xl.bandwidth>yl.bandwidth?1:0;});function v(){this.minBandwidth=this.maxBandwidth=this.maxWidth=this.minHeight=this.maxHeight=null;}v.prototype.clone=function(){var xl=new v();xl.maxHeight=this.maxHeight;xl.minHeight=this.minHeight;xl.maxWidth=this.maxWidth;xl.maxBandwidth=this.maxBandwidth;xl.minBandwidth=this.minBandwidth;return xl;};function w(){this.fontSize="100%";this.fontColor=z;this.fontOpacity=ba;this.backgroundColor=aa;this.backgroundOpacity=ba;this.fontEdge=ca;}l("shaka.player.TextStyle",w);w.prototype.a=function(){var xl=i.localStorage.getItem("ShakaPlayerTextStyle");if(xl){var yl;try{yl=JSON.parse(xl);}catch(zl){return;}if(yl&&"object"==typeof yl){var xl=yl,am;for(am in xl)am in this&&(this[am]=xl[am]);}}};w.prototype.load=w.prototype.a;w.prototype.b=function(){i.localStorage.setItem("ShakaPlayerTextStyle",JSON.stringify(this));};w.prototype.store=w.prototype.b;function x(xl){var yl=[];yl.push("font-size: "+xl.fontSize);yl.push("color: "+y(xl.fontColor,xl.fontOpacity));yl.push("background-color: "+y(xl.backgroundColor,xl.backgroundOpacity));for(var zl=[],am=0;am<xl.fontEdge.length;++am){var bm=xl.fontEdge[am].slice(3,6);zl.push(y(xl.fontEdge[am].slice(0,3),xl.fontOpacity)+" "+bm.join("px ")+"px");}yl.push("text-shadow: "+zl.join(","));return yl.join("; ");}function y(xl,yl){return "rgba("+xl.concat(yl).join(",")+")";}var z=[255,255,255],aa=[0,0,0];w.StandardColors={WHITE:z,BLACK:aa,RED:[255,0,0],GREEN:[0,255,0],BLUE:[0,0,255],YELLOW:[255,255,0],MAGENTA:[255,0,255],CYAN:[0,255,255]};var ba=1;w.StandardOpacities={OPAQUE:ba,SEMI_HIGH:.75,SEMI_LOW:.25,TRANSPARENT:0};var ca=[];w.EdgeStyles={NONE:ca,RAISED:[[34,34,34,1,1,0],[34,34,34,2,2,0],[34,34,34,3,3,0]],DEPRESSED:[[204,204,204,1,1,0],[204,204,204,0,1,0],[34,34,34,-1,-1,0],[34,34,34,0,-1,0]],UNIFORM:[[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4]],DROP:[[34,34,34,2,2,3],[34,34,34,2,2,4],[34,34,34,2,2,5]]};function da(xl,yl){this.id=xl;this.lang=yl||"unknown";this.enabled=this.active=false;}l("shaka.player.TextTrack.compare",function(xl,yl){return xl.lang<yl.lang?-1:xl.lang>yl.lang?1:0;});function ea(xl,yl,zl,am,bm){this.id=xl;this.bandwidth=yl||0;this.width=zl||0;this.height=am||0;this.streamInfoID=bm;this.active=false;}function fa(xl,yl){var zl=xl.width*xl.height,am=yl.width*yl.height;return zl<am?-1:zl>am?1:xl.bandwidth<yl.bandwidth?-1:xl.bandwidth>yl.bandwidth?1:0;}l("shaka.player.VideoTrack.compare",fa);function ga(){var xl="CustomEvent" in i;if(xl)try{new CustomEvent("");}catch(yl){xl=false;}xl||(i.CustomEvent=ha);}l("shaka.polyfill.CustomEvent.install",ga);function ha(xl,yl){var zl=document.createEvent("CustomEvent"),am=yl||{bubbles:false,cancelable:false,detail:null};zl.initCustomEvent(xl,!!am.bubbles,!!am.cancelable,am.detail);return zl;}function ia(){var xl=Element.prototype;xl.requestFullscreen=xl.requestFullscreen||xl.mozRequestFullScreen||xl.msRequestFullscreen||xl.webkitRequestFullscreen;xl=Document.prototype;xl.exitFullscreen=xl.exitFullscreen||xl.mozCancelFullScreen||xl.msExitFullscreen||xl.webkitExitFullscreen;"fullscreenElement" in document||Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement;}});document.addEventListener("webkitfullscreenchange",ja);document.addEventListener("webkitfullscreenerror",ja);document.addEventListener("mozfullscreenchange",ja);document.addEventListener("mozfullscreenerror",ja);document.addEventListener("MSFullscreenChange",ja);document.addEventListener("MSFullscreenError",ja);}l("shaka.polyfill.Fullscreen.install",ia);function ja(xl){var yl=xl.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),yl=new Event(yl,xl);xl.target.dispatchEvent(yl);}function ka(){return Promise.reject(Error("The key system specified is not supported."));}function la(xl){return null==xl?Promise.resolve():Promise.reject(Error("MediaKeys not supported."));}function ma(){throw new TypeError("Illegal constructor.");}ma.prototype.createSession=function(){};ma.prototype.setServerCertificate=function(){};function na(){throw new TypeError("Illegal constructor.");}na.prototype.getConfiguration=function(){};na.prototype.createMediaKeys=function(){};function oa(xl){this.c=[];this.b=[];this.W=pa;if(xl)try{xl(this.S.bind(this),this.a.bind(this));}catch(yl){this.a(yl);}}var pa=0;function qa(){i.Promise||(i.Promise=oa,i.Promise.resolve=ra,i.Promise.reject=sa,i.Promise.all=ta,i.Promise.race=ua,i.setImmediate?(xa=function(xl){return i.setImmediate(xl);},ya=function(xl){return i.clearImmediate(xl);}):(xa=function(xl){return i.setTimeout(xl,0);},ya=function(xl){return i.clearTimeout(xl);}));}l("shaka.polyfill.Promise.install",qa);function ra(xl){var yl=new oa();yl.S(xl);return yl;}function sa(xl){var yl=new oa();yl.a(xl);return yl;}function ta(xl){function yl(em,fm,gm){em.W==pa&&(bm[fm]=gm,am++,am==bm.length&&em.S(bm));}var zl=new oa();if(!xl.length)return zl.S([]),zl;for(var am=0,bm=Array(xl.length),cm=zl.a.bind(zl),dm=0;dm<xl.length;++dm)xl[dm]&&xl[dm].then?xl[dm].then(yl.bind(null,zl,dm),cm):yl(zl,dm,xl[dm]);return zl;}function ua(xl){for(var yl=new oa(),zl=yl.S.bind(yl),am=yl.a.bind(yl),bm=0;bm<xl.length;++bm)xl[bm]&&xl[bm].then?xl[bm].then(zl,am):zl(xl[bm]);return yl;}oa.prototype.then=function(xl,yl){var zl=new oa();switch(this.W){case 1:va(this,zl,xl);break;case 2:va(this,zl,yl);break;case pa:this.c.push({Ca:zl,va:xl}),this.b.push({Ca:zl,va:yl});}return zl;};oa.prototype.then=oa.prototype.then;oa.prototype.catch=function(xl){return this.then(void 0,xl);};oa.prototype["catch"]=oa.prototype.catch;oa.prototype.S=function(xl){if(this.W==pa){this.sa=xl;this.W=1;for(xl=0;xl<this.c.length;++xl)va(this,this.c[xl].Ca,this.c[xl].va);this.c=[];this.b=[];}};oa.prototype.a=function(xl){if(this.W==pa){this.sa=xl;this.W=2;for(xl=0;xl<this.b.length;++xl)va(this,this.b[xl].Ca,this.b[xl].va);this.c=[];this.b=[];}};function va(xl,yl,zl){ab.push(function(){if(zl&&"function"==typeof zl){try{var bm=zl(this.sa);}catch(am){yl.a(am);return;}bm instanceof oa?bm==yl?yl.a(new TypeError("Chaining cycle detected")):bm.then(yl.S.bind(yl),yl.a.bind(yl)):yl.S(bm);}else 1==this.W?yl.S(this.sa):yl.a(this.sa);}.bind(xl));null==za&&(za=xa(wa));}function wa(){for(;ab.length;){null!=za&&(ya(za),za=null);var xl=ab;ab=[];for(var yl=0;yl<xl.length;++yl)xl[yl]();}}function xa(){return 0;}function ya(){}var za=null,ab=[];function bb(){var xl=HTMLVideoElement.prototype;!xl.getVideoPlaybackQuality&&"webkitDroppedFrameCount" in xl&&(xl.getVideoPlaybackQuality=cb);}l("shaka.polyfill.VideoPlaybackQuality.install",bb);function cb(){return {droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0};}function db(xl,yl){for(var zl=[],am=0;am<xl.length;++am){for(var bm=false,cm=0;cm<zl.length&&!(bm=yl?yl(xl[am],zl[cm]):xl[am]===zl[cm]);++cm);bm||zl.push(xl[am]);}return zl;}function eb(){return Date.now()+fb;}var fb=0;function gb(xl){this.b=xl;this.c=0==hb;this.a=0;}var hb=1;function ib(xl){return xl.a<xl.b.byteLength;}function jb(xl){var yl=xl.b.getUint8(xl.a);xl.a+=1;return yl;}function kb(xl){var yl=xl.b.getUint32(xl.a,xl.c);xl.a+=4;return yl;}function lb(xl){var yl,zl;xl.c?(yl=xl.b.getUint32(xl.a,true),zl=xl.b.getUint32(xl.a+4,true)):(zl=xl.b.getUint32(xl.a,false),yl=xl.b.getUint32(xl.a+4,false));if(2097151<zl)throw new RangeError("DataViewReader: Overflow reading 64-bit value.");xl.a+=8;return zl*Math.pow(2,32)+yl;}function mb(xl){if(xl.a+16>xl.b.byteLength)throw new RangeError("DataViewReader: Read past end of DataView.");var yl=new Uint8Array(xl.b.buffer,xl.a,16);xl.a+=16;return yl;}function nb(xl,yl){if(xl.a+yl>xl.b.byteLength)throw new RangeError("DataViewReader: Skip past end of DataView.");xl.a+=yl;}function ob(xl){this.b=xl;this.a=new gb(xl);pb||(pb=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])]);}var pb;function qb(xl){var yl;yl=rb(xl);if(7<yl.length)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");for(var zl=0,am=0;am<yl.length;am++)zl=256*zl+yl[am];yl=zl;zl=rb(xl);xl:{for(am=0;am<pb.length;am++)if(td(zl,pb[am])){am=true;break xl;}am=false;};if(am){zl=xl.b.byteLength-xl.a.a;}else{if(8==zl.length&&zl[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");for(var am=zl[0]&(1<<8-zl.length)-1,bm=1;bm<zl.length;bm++)am=256*am+zl[bm];zl=am;}zl=xl.a.a+zl<=xl.b.byteLength?zl:xl.b.byteLength-xl.a.a;am=new DataView(xl.b.buffer,xl.b.byteOffset+xl.a.a,zl);nb(xl.a,zl);return new sb(yl,am);}function rb(xl){var yl=jb(xl.a),zl;for(zl=1;8>=zl&&!(yl&1<<8-zl);zl++);if(8<zl)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");var am=new Uint8Array(zl);am[0]=yl;for(yl=1;yl<zl;yl++)am[yl]=jb(xl.a);return am;}function sb(xl,yl){this.id=xl;this.a=yl;}function tb(xl){if(8<xl.a.byteLength)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(8==xl.a.byteLength&&xl.a.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");for(var yl=0,zl=0;zl<xl.a.byteLength;zl++)var am=xl.a.getUint8(zl),yl=256*yl+am;return yl;}var ub={"output-restricted":"The required output protection is not available.","output-not-allowed":"The required output protection is not available.",expired:"The decryption key has expired.","internal-error":"The key system has encountered an unspecified error."};function vb(xl){this.c=Math.exp(Math.log(.5)/xl);this.a=this.b=0;}vb.prototype.sample=function(xl,yl){var zl=Math.pow(this.c,xl);this.b=yl*(1-zl)+zl*this.b;this.a+=xl;};function wb(xl){return xl.b/(1-Math.pow(xl.c,xl.a));}function xb(xl){var yl=new CustomEvent(xl.type,{detail:xl.detail,bubbles:!!xl.bubbles}),zl;for(zl in xl)zl in yl||(yl[zl]=xl[zl]);return yl;}function yb(xl){return new CustomEvent("error",{detail:xl,bubbles:true});}function zb(xl,yl,zl){cc(yl);cc(zl);return zl==yl||xl>=ac&&zl==yl.split("-")[0]||xl>=bc&&zl.split("-")[0]==yl.split("-")[0]?true:false;}var ac=1,bc=2;function cc(xl){xl=xl.toLowerCase().split("-");var yl=dc[xl[0]];yl&&(xl[0]=yl);return xl.join("-");}var dc={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};function ec(xl){return Object.keys(xl).map(function(yl){return xl[yl];});}function fc(xl,yl){return ic(xl,yl,"boolean");}function gc(xl,yl){var zl=ic(xl,yl,"number");if(null==zl)return null;if(isNaN(zl)||zl==Number.NEGATIVE_INFINITY||zl==Number.POSITIVE_INFINITY)throw new RangeError("'"+yl+"' must be finite.");if(0>zl)throw new RangeError("'"+yl+"' must be >= 0");return zl;}function hc(xl,yl){return ic(xl,yl,"string");}function ic(xl,yl,zl){xl=xl[yl];if(null==xl)return null;if(typeof xl!=zl)throw new TypeError("'"+yl+"' must be a "+zl+".");return xl;}function jc(xl,yl,zl){xl=xl[yl];if(null==xl)return null;if(!(xl instanceof zl))throw new TypeError("'"+yl+"' must be an instance of "+zl.name+".");return xl;}function kc(){this.a={};}kc.prototype.push=function(xl,yl){this.a.hasOwnProperty(xl)?this.a[xl].push(yl):this.a[xl]=[yl];};kc.prototype.set=function(xl,yl){this.a[xl]=yl;};kc.prototype.get=function(xl){return (xl=this.a[xl])?xl.slice():null;};function lc(xl){var yl=[],zl;for(zl in xl.a)yl.push.apply(yl,xl.a[zl]);return yl;}function mc(xl,yl,zl){if(xl=xl.a[yl])for(yl=0;yl<xl.length;++yl)xl[yl]==zl&&(xl.splice(yl,1),--yl);}function nc(xl){var yl=[],zl;for(zl in xl.a)yl.push(zl);return yl;}function oc(){this.a=new kc();}oc.prototype.destroy=function(){qc(this);this.a=null;};function pc(xl,yl,zl,am){yl=new rc(yl,zl,am);xl.a.push(zl,yl);}oc.prototype.pa=function(xl,yl){for(var zl=this.a.get(yl)||[],am=0;am<zl.length;++am){var bm=zl[am];bm.target==xl&&(bm.pa(),mc(this.a,yl,bm));}};function qc(xl){for(var yl=lc(xl.a),zl=0;zl<yl.length;++zl)yl[zl].pa();xl.a.a={};}function rc(xl,yl,zl){this.target=xl;this.type=yl;this.a=zl;this.target.addEventListener(yl,zl,false);}rc.prototype.pa=function(){this.target&&(this.target.removeEventListener(this.type,this.a,false),this.a=this.target=null);};function sc(xl){this.ta=new kc();this.H=xl;}l("shaka.util.FakeEventTarget",sc);sc.prototype.addEventListener=function(xl,yl,zl){zl||this.ta.push(xl,yl);};sc.prototype.removeEventListener=function(xl,yl,zl){zl||mc(this.ta,xl,yl);};sc.prototype.dispatchEvent=function(xl){xl.hasOwnProperty("srcElement")||(delete xl.srcElement,Object.defineProperty(xl,"srcElement",{get:function(){return null;}}));if(xl.hasOwnProperty("target")){xl.target=this;}else{delete xl.target;var yl=this;Object.defineProperty(xl,"target",{get:function(){return yl;},set:function(am){yl=am;}});}if(xl.hasOwnProperty("currentTarget")){xl.currentTarget=null;}else{delete xl.currentTarget;var zl=null;Object.defineProperty(xl,"currentTarget",{get:function(){return zl;},set:function(am){zl=am;}});}return tc(this,xl);};function tc(xl,yl){yl.currentTarget=xl;for(var zl=xl.ta.get(yl.type)||[],am=0;am<zl.length;++am){var bm=zl[am];try{bm.handleEvent?bm.handleEvent(yl):bm.call(xl,yl);}catch(cm){}}xl.H&&yl.bubbles&&tc(xl.H,yl);return yl.defaultPrevented;}function uc(xl){sc.call(this,null);this.a=new vb(3);this.g=new vb(10);this.h=xl||500000;this.f=0;}m(uc,sc);l("shaka.util.EWMABandwidthEstimator",uc);uc.prototype.sample=function(xl,yl){if(!(65536>yl)){xl=Math.max(xl,50);var zl=8000*yl/xl,am=xl/1000;this.a.sample(am,zl);this.g.sample(am,zl);this.dispatchEvent(xb({type:"bandwidth"}));this.f=Date.now();}};uc.prototype.getBandwidth=function(){return .5>this.a.a?this.h:Math.min(wb(this.a),wb(this.g));};uc.prototype.getDataAge=function(){return (Date.now()-this.f)/1000;};uc.prototype.supportsCaching=function(){return false;};function vc(xl,yl,zl){uc.call(this,zl);this.c=xl||0;this.b=void 0===yl?Infinity:yl;}m(vc,uc);l("shaka.util.EWMACacheBandwidthEstimator",vc);vc.prototype.sample=function(xl,yl){xl<=this.c&&8000*yl/xl>this.b||uc.prototype.sample.call(this,xl,yl);};vc.prototype.supportsCaching=function(){return Infinity!==this.b&&!!this.c;};function wc(){uc.call(this);}m(wc,uc);l("shaka.util.EWMASignedURLBandwidthEstimator",wc);wc.prototype.supportsCaching=function(){return true;};function xc(){var xl,yl,zl=new Promise(function(am,bm){xl=am;yl=bm;});zl.resolve=xl;zl.reject=yl;zl.destroy=xc.prototype.destroy;return zl;}xc.prototype.destroy=function(){this.catch(function(){});var xl=Error("Destroyed!");xl.type="destroy";this.reject(xl);};function yc(xl){xl.split("").reduce(function(yl,zl,am){return yl+(am&&0==am%4?" "+zl:zl);});}function zc(){this.g=new xc();this.f=false;this.a=null;this.b=[];this.c=null;}function ad(xl,yl){if(xl.f)throw Error("Cannot append to a running task!");xl.b.push(yl);}zc.prototype.start=function(){if(this.f)throw Error("Task already started!");this.f=true;this.b.unshift(function(){});bd(this,void 0);};zc.prototype.end=function(){this.b.splice(1);};function bd(xl,yl){var zl=xl.b[0](yl),am;zl?(am=zl[0],xl.c=zl[1]):(am=Promise.resolve(),xl.c=null);am.then(dd(xl,function(bm){this.a?(this.b=[],this.c=null,cd(this)):(this.b.shift(),this.b.length?bd(this,bm):(this.g.resolve(bm),this.c=null));})).catch(dd(xl,function(bm){this.b=[];this.c=null;this.a?cd(this):this.g.reject(bm);}));}function cd(xl){var yl=Error("Task aborted.");yl.type="aborted";xl.g.reject(yl);i.setTimeout(function(){this.a.resolve();this.a=null;}.bind(xl),5);}function dd(xl,yl){return yl.bind(xl);}function ed(xl,yl,zl){MediaSource.isTypeSupported(yl);yl=xl.addSourceBuffer(yl);this.h=xl;this.c=yl;this.l=zl;this.i=new oc();this.v=null;this.b=[];this.u=0;this.f=this.a=null;this.o=0;pc(this.i,this.c,"updateend",this.H.bind(this));}var fd=1/60;ed.prototype.destroy=function(){ld(this).catch(function(){});this.f&&this.f.destroy();this.b=this.a=this.f=null;this.i.destroy();this.h=this.c=this.i=null;};function gd(xl,yl){for(var zl=xl.c.buffered,am=0;am<zl.length;++am){var bm=zl.start(am)-fd,cm=zl.end(am)+fd;if(yl>=bm&&yl<=cm)return zl.end(am)-yl;}return 0;}function hd(xl,yl){var zl=yl.a?yl.a-yl.b:1,am=new ah();am.a=3;am.h=1000*zl;am.c=1000*xl.o;am.j=xl.v;return am;}function id(xl,yl,zl,am){if(xl.a)return xl=Error("Cannot fetch ("+xl.j+"): previous operation not complete."),xl.type="stream",Promise.reject(xl);xl.a=new zc();zl!=xl.c.timestampOffset&&(xl.c.timestampOffset=zl);zl=hd(xl,yl);var bm=jh(yl.url,zl,xl.l),cm=gh.prototype.f.bind(yl.url),dm=0;am&&ad(xl.a,function(){return [am.then(function(gm){gm.ga>dm&&(dm=gm.ga);return nd(this,gm);}.bind(this)),this.g.bind(this)];}.bind(xl));ad(xl.a,dd(xl,function(){return [bm.then(function(gm){gm.ga>dm&&(dm=gm.ga);this.l.getBandwidth();return nd(this,gm);}.bind(this)),function(){cm();this.g();}.bind(this)];}));var em=0==xl.c.buffered.length&&0==xl.b.length,fm=null;ad(xl.a,function(){if(0==this.c.buffered.length){var gm=Error("Failed to buffer segment ("+this.j+").");gm.type="stream";return [Promise.reject(gm)];}em&&(gm=yl.b,fm=this.c.buffered.start(0)-gm);gm=uh(this.b,yl.b);0<=gm?this.b.splice(gm+1,0,yl):this.b.push(yl);}.bind(xl));return md(xl).then(function(){return Promise.resolve({R:fm,ib:dm});}.bind(xl));}function jd(xl){if(xl.a)return xl=Error("Cannot clear ("+xl.j+"): previous operation not complete."),xl.type="stream",Promise.reject(xl);xl.a=new zc();ad(xl.a,function(){var yl;yl:if(0==this.c.buffered.length){yl=Promise.resolve();}else{try{this.c.remove(0,this.h.duration);}catch(zl){yl=Promise.reject(zl);break yl;}this.b=[];yl=this.f=new xc();};return [yl,this.g.bind(this)];}.bind(xl));return md(xl);}function kd(xl,yl){if(xl.a){var zl=Error("Cannot clearAfter ("+xl.j+"): previous operation not complete.");zl.type="stream";return Promise.reject(zl);}xl.a=new zc();ad(xl.a,function(){return [od(this,yl),this.g.bind(this)];}.bind(xl));return md(xl);}function ld(xl){xl.a?(xl=xl.a,xl.a?xl=xl.a:xl.f?(xl.c&&xl.c(),xl.a=new xc(),xl=xl.a):(xl.f=true,xl=Promise.resolve())):xl=Promise.resolve();return xl;}function md(xl){xl.a.start();return xl.a.g.then(dd(xl,function(){this.a=null;})).catch(dd(xl,function(yl){this.a=null;return Promise.reject(yl);}));}function nd(xl,yl){try{xl.c.appendBuffer(yl);}catch(zl){return Promise.reject(zl);}xl.f=new xc();return xl.f;}function od(xl,yl){if(0==xl.c.buffered.length)return Promise.resolve();var zl=uh(xl.b,yl);if(-1==zl||zl==xl.b.length-1)return Promise.resolve();try{xl.c.remove(xl.b[zl+1].b,xl.h.duration);}catch(am){return Promise.reject(am);}xl.b=xl.b.slice(0,zl+1);xl.f=new xc();return xl.f;}ed.prototype.g=function(){this.f&&"open"==this.h.readyState&&this.c.abort();};ed.prototype.H=function(){this.f&&(this.f.resolve(),this.f=null);};function pd(xl){return String.fromCharCode.apply(null,xl);}l("shaka.util.Uint8ArrayUtils.toString",pd);function qd(xl){for(var yl=new Uint8Array(xl.length),zl=0;zl<xl.length;++zl)yl[zl]=xl.charCodeAt(zl);return yl;}l("shaka.util.Uint8ArrayUtils.fromString",qd);l("shaka.util.Uint8ArrayUtils.toBase64",function(xl,yl){var zl=void 0==yl?true:yl,am=i.btoa(pd(xl)).replace(/\+/g,"-").replace(/\//g,"_");return zl?am:am.replace(/=*$/,"");});function rd(xl){return qd(i.atob(xl.replace(/-/g,"+").replace(/_/g,"/")));}l("shaka.util.Uint8ArrayUtils.fromBase64",rd);l("shaka.util.Uint8ArrayUtils.fromHex",function(xl){for(var yl=new Uint8Array(xl.length/2),zl=0;zl<xl.length;zl+=2)yl[zl/2]=i.parseInt(xl.substr(zl,2),16);return yl;});function sd(xl){for(var yl="",zl=0;zl<xl.length;++zl){var am=xl[zl].toString(16);1==am.length&&(am="0"+am);yl+=am;}return yl;}l("shaka.util.Uint8ArrayUtils.toHex",sd);function td(xl,yl){if(!xl&&!yl)return true;if(!xl||!yl||xl.length!=yl.length)return false;for(var zl=0;zl<xl.length;++zl)if(xl[zl]!=yl[zl])return false;return true;}function ud(){this.h=this.a="";this.l=false;this.u=this.o=null;this.i=this.g=false;this.j=this.f="";this.c=null;this.b=[];}function vd(xl,yl){var zl=new ud();zl.a=xl.a;zl.h=xl.h;zl.l=xl.l;zl.o=xl.o;zl.u=xl.u;zl.g=xl.g;zl.i=xl.i;zl.f=xl.f;zl.j=xl.j;zl.c=xl.c?new Uint8Array(xl.c.buffer):null;wd(zl,xl.b);wd(zl,yl.b);return zl;}function wd(xl,yl){var zl=xl.b.concat(yl.map(function(am){return {initData:new Uint8Array(am.initData.buffer),initDataType:am.initDataType};}));xl.b=db(zl,xd);}function xd(xl,yl){return xl.initDataType==yl.initDataType&&td(xl.initData,yl.initData);}function yd(xl,yl,zl,am){this.a=[];am&&this.a.push(am);}l("shaka.player.DrmSchemeInfo",yd);yd.DistinctiveIdentifier={OPTIONAL:0,REQUIRED:1};yd.PersistentState={OPTIONAL:0,REQUIRED:1};yd.createUnencrypted=function(){return new yd(0,0,0,null);};function zd(xl,yl){try{var am=new be(xl,yl);return Promise.resolve(am);}catch(zl){return Promise.reject(zl);}}function ae(xl){var yl=this.mediaKeys;yl&&yl!=xl&&de(yl,null);delete this.mediaKeys;(this.mediaKeys=xl)&&de(xl,this);return Promise.resolve();}function be(xl,yl){this.a=this.keySystem=xl;var zl=true;"org.w3.clearkey"==xl&&(this.a="webkit-org.w3.clearkey",zl=false);var am=false,bm;bm=document.getElementsByTagName("video");bm=bm.length?bm[0]:document.createElement("video");for(var cm=0;cm<yl.length;++cm){var dm=yl[cm],em={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:dm.initDataTypes,sessionTypes:["temporary"]},fm=false;if(dm.audioCapabilities)for(var gm=0;gm<dm.audioCapabilities.length;++gm){var hm=dm.audioCapabilities[gm];hm.contentType&&(fm=true,bm.canPlayType(hm.contentType.split(";")[0],this.a)&&(em.audioCapabilities.push(hm),am=true));}if(dm.videoCapabilities)for(gm=0;gm<dm.videoCapabilities.length;++gm)hm=dm.videoCapabilities[gm],hm.contentType&&(fm=true,bm.canPlayType(hm.contentType,this.a)&&(em.videoCapabilities.push(hm),am=true));fm||(am=bm.canPlayType("video/mp4",this.a)||bm.canPlayType("video/webm",this.a));"required"==dm.persistentState&&(zl?(em.persistentState="required",em.sessionTypes=["persistent-license"]):am=false);if(am){this.b=em;return;}}zl="Unsupported keySystem";if("org.w3.clearkey"==xl||"com.widevine.alpha"==xl)zl="None of the requested configurations were supported.";zl=Error(zl);zl.name="NotSupportedError";zl.code=DOMException.NOT_SUPPORTED_ERR;throw zl;}be.prototype.createMediaKeys=function(){var xl=new ce(this.a);return Promise.resolve(xl);};be.prototype.getConfiguration=function(){return this.b;};function ce(xl){this.g=xl;this.b=null;this.a=new oc();this.c=[];this.f={};}function de(xl,yl){xl.b=yl;qc(xl.a);yl&&(pc(xl.a,yl,"webkitneedkey",xl.Bb.bind(xl)),pc(xl.a,yl,"webkitkeymessage",xl.Ab.bind(xl)),pc(xl.a,yl,"webkitkeyadded",xl.yb.bind(xl)),pc(xl.a,yl,"webkitkeyerror",xl.zb.bind(xl)));}j=ce.prototype;j.createSession=function(xl){var yl=xl||"temporary";if("temporary"!=yl&&"persistent-license"!=yl)throw new TypeError("Session type "+xl+" is unsupported on this platform.");xl=this.b||document.createElement("video");xl.src||(xl.src="about:blank");yl=new fe(xl,this.g,yl);this.c.push(yl);return yl;};j.setServerCertificate=function(){return Promise.reject(Error("setServerCertificate not supported on this platform."));};j.Bb=function(xl){xl=xb({type:"encrypted",initDataType:"webm",initData:xl.initData});this.b.dispatchEvent(xl);};j.Ab=function(xl){var yl=ee(this,xl.sessionId);yl&&(xl=xb({type:"message",messageType:void 0==yl.keyStatuses.za()?"licenserequest":"licenserenewal",message:xl.message}),yl.b&&(yl.b.resolve(),yl.b=null),yl.dispatchEvent(xl));};j.yb=function(xl){if(xl=ee(this,xl.sessionId))he(xl,"usable"),xl.a&&xl.a.resolve(),xl.a=null;};j.zb=function(xl){var yl=ee(this,xl.sessionId);if(yl){var zl=Error("EME v0.1b key error");zl.errorCode=xl.errorCode;zl.errorCode.systemCode=xl.systemCode;!xl.sessionId&&yl.b?(zl.method="generateRequest",45==xl.systemCode&&(zl.message="Unsupported session type."),yl.b.reject(zl),yl.b=null):xl.sessionId&&yl.a?(zl.method="update",yl.a.reject(zl),yl.a=null):(zl=xl.systemCode,xl.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?he(yl,"output-restricted"):1==zl?he(yl,"expired"):he(yl,"internal-error"));}};function ee(xl,yl){var zl=xl.f[yl];return zl?zl:(zl=xl.c.shift())?(zl.sessionId=yl,xl.f[yl]=zl):null;}function fe(xl,yl,zl){sc.call(this,null);this.f=xl;this.h=false;this.a=this.b=null;this.c=yl;this.g=zl;this.sessionId="";this.expiration=NaN;this.closed=new xc();this.keyStatuses=new ie();}m(fe,sc);function ge(xl,yl,zl){if(xl.h)return Promise.reject(Error("The session is already initialized."));xl.h=true;var am;try{if("persistent-license"==xl.g){if(zl){am=qd("LOAD_SESSION|"+zl);}else{var cm=new Uint8Array(yl);am=qd("PERSISTENT|"+pd(cm));}}else am=new Uint8Array(yl);}catch(bm){return Promise.reject(bm);}xl.b=new xc();try{xl.f.webkitGenerateKeyRequest(xl.c,am);}catch(dm){if("InvalidStateError"!=dm.name)return xl.b=null,Promise.reject(dm);setTimeout(function(){try{this.f.webkitGenerateKeyRequest(this.c,am);}catch(em){this.b.reject(em),this.b=null;}}.bind(xl),10);}return xl.b;}j=fe.prototype;j.Ha=function(xl,yl){if(this.a){this.a.then(this.Ha.bind(this,xl,yl)).catch(this.Ha.bind(this,xl,yl));}else{this.a=xl;var zl,am;"webkit-org.w3.clearkey"==this.c?(zl=pd(new Uint8Array(yl)),am=JSON.parse(zl),"oct"!=am.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),zl=rd(am.keys[0].k),am=rd(am.keys[0].kid)):(zl=new Uint8Array(yl),am=null);try{this.f.webkitAddKey(this.c,zl,am,this.sessionId);}catch(bm){this.a.reject(bm),this.a=null;}}};function he(xl,yl){xl.keyStatuses.Ea(yl);var zl=xb({type:"keystatuseschange"});xl.dispatchEvent(zl);}j.generateRequest=function(xl,yl){return ge(this,yl,null);};j.load=function(xl){return "persistent-license"==this.g?ge(this,null,xl):Promise.reject(Error("Not a persistent session."));};j.update=function(xl){var yl=new xc();this.Ha(yl,xl);return yl;};j.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;this.f.webkitCancelKeyRequest(this.c,this.sessionId);}this.closed.resolve();return this.closed;};j.remove=function(){return "persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close();};function ie(){this.size=0;this.a=void 0;}var je;j=ie.prototype;j.Ea=function(xl){this.size=void 0==xl?0:1;this.a=xl;};j.za=function(){return this.a;};j.forEach=function(xl){this.a&&xl(je,this.a);};j.get=function(xl){if(this.has(xl))return this.a;};j.has=function(xl){var yl=je;return this.a&&td(new Uint8Array(xl),new Uint8Array(yl))?true:false;};function ke(xl){this.systemIds=[];this.cencKeyIds=[];this.a=[];xl=new gb(new DataView(xl.buffer));try{for(;ib(xl);){var zl=xl.a,am=kb(xl),bm=kb(xl);1==am?am=lb(xl):0==am&&(am=xl.b.byteLength-zl);if(1886614376!=bm){nb(xl,am-(xl.a-zl));}else{var cm=jb(xl);if(1<cm){nb(xl,am-(xl.a-zl));}else{nb(xl,3);var dm=sd(mb(xl)),em=[];if(0<cm)for(var fm=kb(xl),gm=0;gm<fm;++gm){var hm=sd(mb(xl));em.push(hm);}var im=kb(xl);nb(xl,im);this.cencKeyIds.push.apply(this.cencKeyIds,em);this.systemIds.push(dm);this.a.push({start:zl,end:xl.a-1});xl.a!=zl+am&&nb(xl,am-(xl.a-zl));}}}}catch(yl){}}function le(xl,yl){try{var am=new me(xl,yl);return Promise.resolve(am);}catch(zl){return Promise.reject(zl);}}function me(xl,yl){this.keySystem=xl;for(var zl=false,am=0;am<yl.length;++am){var bm=yl[am],cm={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:bm.initDataTypes,sessionTypes:["temporary"]},dm=false;if(bm.audioCapabilities)for(var em=0;em<bm.audioCapabilities.length;++em){var fm=bm.audioCapabilities[em];if(fm.contentType){var dm=true,gm=fm.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,gm)&&(cm.audioCapabilities.push(fm),zl=true);}}if(bm.videoCapabilities)for(em=0;em<bm.videoCapabilities.length;++em)fm=bm.videoCapabilities[em],fm.contentType&&(dm=true,gm=fm.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,gm)&&(cm.videoCapabilities.push(fm),zl=true));dm||(zl=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4"));"required"==bm.persistentState&&(cm.persistentState="required",cm.sessionTypes=["persistent-license"]);if(zl){this.a=cm;return;}}zl=Error("Unsupported keySystem");zl.name="NotSupportedError";zl.code=DOMException.NOT_SUPPORTED_ERR;throw zl;}me.prototype.createMediaKeys=function(){var xl=new oe(this.keySystem);return Promise.resolve(xl);};me.prototype.getConfiguration=function(){return this.a;};function ne(xl){var yl=this.mediaKeys;yl&&yl!=xl&&pe(yl,null);delete this.mediaKeys;return (this.mediaKeys=xl)?pe(xl,this):Promise.resolve();}function oe(xl){this.a=new MSMediaKeys(xl);this.b=new oc();}oe.prototype.createSession=function(xl){if("temporary"!=(xl||"temporary"))throw new TypeError("Session type "+xl+" is unsupported on this platform.");return new qe(this.a);};oe.prototype.setServerCertificate=function(){return Promise.reject(Error("setServerCertificate not supported on this platform."));};function pe(xl,yl){function zl(){yl.msSetMediaKeys(am.a);yl.removeEventListener("loadedmetadata",zl);}qc(xl.b);if(!yl)return Promise.resolve();pc(xl.b,yl,"msneedkey",re);var am=xl;try{return 1<=yl.readyState?yl.msSetMediaKeys(xl.a):yl.addEventListener("loadedmetadata",zl),Promise.resolve();}catch(bm){return Promise.reject(bm);}}function qe(xl){sc.call(this,null);this.c=null;this.g=xl;this.b=this.a=null;this.f=new oc();this.sessionId="";this.expiration=NaN;this.closed=new xc();this.keyStatuses=new ue();}m(qe,sc);j=qe.prototype;j.generateRequest=function(xl,yl){this.a=new xc();try{this.c=this.g.createSession("video/mp4",new Uint8Array(yl),null),pc(this.f,this.c,"mskeymessage",this.qb.bind(this)),pc(this.f,this.c,"mskeyadded",this.ob.bind(this)),pc(this.f,this.c,"mskeyerror",this.pb.bind(this)),te(this,"status-pending");}catch(zl){this.a.reject(zl);}return this.a;};j.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"));};j.update=function(xl){this.b=new xc();try{this.c.update(new Uint8Array(xl));}catch(yl){this.b.reject(yl);}return this.b;};j.close=function(){try{this.c.close(),this.closed.resolve(),qc(this.f);}catch(xl){this.closed.reject(xl);}return this.closed;};j.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"));};function re(xl){var yl=xl.initData;if(yl){var zl=new ke(yl);if(1>=zl.a.length){xl=yl;}else{var am=[];for(xl=0;xl<zl.a.length;xl++)am.push(yl.subarray(zl.a[xl].start,zl.a[xl].end+1));yl=db(am,se);for(xl=zl=0;xl<yl.length;xl++)zl+=yl[xl].length;zl=new Uint8Array(zl);for(xl=am=0;xl<yl.length;xl++)zl.set(yl[xl],am),am+=yl[xl].length;xl=zl;}}else xl=yl;xl=xb({type:"encrypted",initDataType:"cenc",initData:xl});this.dispatchEvent(xl);}function se(xl,yl){return td(xl,yl);}j.qb=function(xl){this.a&&(this.a.resolve(),this.a=null);xl=xb({type:"message",messageType:void 0==this.keyStatuses.za()?"licenserequest":"licenserenewal",message:xl.message.buffer});this.dispatchEvent(xl);};j.ob=function(){this.a?(this.a.resolve(),this.a=null):this.b&&(te(this,"usable"),this.b.resolve(),this.b=null);};j.pb=function(){var xl=Error("EME v20140218 key error");xl.errorCode=this.c.error;if(null!=this.a){this.a.reject(xl),this.a=null;}else if(null!=this.b){this.b.reject(xl),this.b=null;}else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:te(this,"output-not-allowed");default:te(this,"internal-error");}};function te(xl,yl){xl.keyStatuses.Ea(yl);var zl=xb({type:"keystatuseschange"});xl.dispatchEvent(zl);}function ue(){this.size=0;this.a=void 0;}var ve;j=ue.prototype;j.Ea=function(xl){this.size=void 0==xl?0:1;this.a=xl;};j.za=function(){return this.a;};j.forEach=function(xl){this.a&&xl(ve,this.a);};j.get=function(xl){if(this.has(xl))return this.a;};j.has=function(xl){var yl=ve;return this.a&&td(new Uint8Array(xl),new Uint8Array(yl))?true:false;};function we(){Navigator.prototype.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?(je=(new Uint8Array([0])).buffer,Navigator.prototype.requestMediaKeySystemAccess=zd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ae,i.MediaKeys=ce,i.MediaKeySystemAccess=be):i.MSMediaKeys?(ve=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ne,i.MediaKeys=oe,i.MediaKeySystemAccess=me,Navigator.prototype.requestMediaKeySystemAccess=le):(Navigator.prototype.requestMediaKeySystemAccess=ka,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=la,i.MediaKeys=ma,i.MediaKeySystemAccess=na));}l("shaka.polyfill.MediaKeys.install",we);l("shaka.polyfill.installAll",function(){ga();ia();bb();qa();we();});var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function ye(xl){var yl;xl instanceof ye?(ze(this,xl.P),this.X=xl.X,this.N=xl.N,af(this,xl.fa),this.O=xl.O,bf(this,xl.a.clone()),this.V=xl.V):xl&&(yl=String(xl).match(xe))?(ze(this,yl[1]||"",true),this.X=cf(yl[2]||""),this.N=cf(yl[3]||"",true),af(this,yl[4]),this.O=cf(yl[5]||"",true),bf(this,yl[6]||"",true),this.V=cf(yl[7]||"")):this.a=new lf(null);}j=ye.prototype;j.P="";j.X="";j.N="";j.fa=null;j.O="";j.V="";j.toString=function(){var xl=[],yl=this.P;yl&&xl.push(df(yl,ff,true),":");if(yl=this.N){xl.push("//");var zl=this.X;zl&&xl.push(df(zl,ff,true),"@");xl.push(encodeURIComponent(yl).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));yl=this.fa;null!=yl&&xl.push(":",String(yl));}if(yl=this.O)this.N&&"/"!=yl.charAt(0)&&xl.push("/"),xl.push(df(yl,"/"==yl.charAt(0)?hf:gf,true));(yl=this.a.toString())&&xl.push("?",yl);(yl=this.V)&&xl.push("#",df(yl,kf));return xl.join("");};j.resolve=function(xl){var yl=this.clone();"data"===yl.P&&(yl=new ye());var zl=!!xl.P;zl?ze(yl,xl.P):zl=!!xl.X;zl?yl.X=xl.X:zl=!!xl.N;zl?yl.N=xl.N:zl=null!=xl.fa;var am=xl.O;if(zl){af(yl,xl.fa);}else if(zl=!!xl.O){if("/"!=am.charAt(0))if(this.N&&!this.O){am="/"+am;}else{var bm=yl.O.lastIndexOf("/");-1!=bm&&(am=yl.O.substr(0,bm+1)+am);}if(".."==am||"."==am){am="";}else if(-1!=am.indexOf("./")||-1!=am.indexOf("/.")){for(var bm=0==am.lastIndexOf("/",0),am=am.split("/"),cm=[],dm=0;dm<am.length;){var em=am[dm++];"."==em?bm&&dm==am.length&&cm.push(""):".."==em?((1<cm.length||1==cm.length&&""!=cm[0])&&cm.pop(),bm&&dm==am.length&&cm.push("")):(cm.push(em),bm=true);}am=cm.join("/");}}zl?yl.O=am:zl=""!==xl.a.toString();zl?bf(yl,xl.a.clone()):zl=!!xl.V;zl&&(yl.V=xl.V);return yl;};j.clone=function(){return new ye(this);};function ze(xl,yl,zl){xl.P=zl?cf(yl,true):yl;xl.P&&(xl.P=xl.P.replace(/:$/,""));}function af(xl,yl){if(yl){yl=Number(yl);if(isNaN(yl)||0>yl)throw Error("Bad port number "+yl);xl.fa=yl;}else xl.fa=null;}function bf(xl,yl,zl){yl instanceof lf?xl.a=yl:(zl||(yl=df(yl,jf)),xl.a=new lf(yl));}function cf(xl,yl){return xl?yl?decodeURI(xl):decodeURIComponent(xl):"";}function df(xl,yl,zl){return "string"==typeof xl?(xl=encodeURI(xl).replace(yl,ef),zl&&(xl=xl.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),xl):null;}function ef(xl){xl=xl.charCodeAt(0);return "%"+(xl>>4&15).toString(16)+(xl&15).toString(16);}var ff=/[#\/\?@]/g,gf=/[\#\?:]/g,hf=/[\#\?]/g,jf=/[\#\?@]/g,kf=/#/g;function lf(xl){this.b=xl||null;}lf.prototype.a=null;lf.prototype.c=null;function mf(xl,yl,zl){if(!xl.a&&(xl.a={},xl.c=0,xl.b))for(var am=xl.b.split("&"),bm=0;bm<am.length;bm++){var cm=am[bm].indexOf("="),dm=null,em=null;0<=cm?(dm=am[bm].substring(0,cm),em=am[bm].substring(cm+1)):dm=am[bm];dm=decodeURIComponent(dm.replace(/\+/g," "));em=em||"";mf(xl,dm,decodeURIComponent(em.replace(/\+/g," ")));}xl.b=null;(am=xl.a.hasOwnProperty(yl)&&xl.a[yl])||(xl.a[yl]=am=[]);am.push(zl);xl.c++;}lf.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return "";var xl=[],yl;for(yl in this.a)for(var zl=encodeURIComponent(yl),am=this.a[yl],bm=0;bm<am.length;bm++){var cm=zl;""!==am[bm]&&(cm+="="+encodeURIComponent(am[bm]));xl.push(cm);}return this.b=xl.join("&");};lf.prototype.clone=function(){var xl=new lf();xl.b=this.b;if(this.a){var yl={},zl;for(zl in this.a)yl[zl]=this.a[zl].concat();xl.a=yl;xl.c=this.c;}return xl;};function nf(xl,yl,zl){xl=(new DOMParser()).parseFromString(xl,"text/xml");if(!xl)return null;yl=yl||[new ye("")];zl=zl||[new ye("")];return lg({$a:yl,s:zl},xl,of);}l("shaka.dash.mpd.parseMpd",nf);function of(){this.id=this.url=null;this.type="static";this.b=this.j=this.s=this.$a=null;this.h=5;this.f=this.c=this.g=null;this.i=1;this.a=[];}function pf(){this.g=this.f=this.c=this.s=this.a=this.start=this.id=null;this.b=[];}function qf(){this.i=this.b=this.height=this.width=this.contentType=this.lang=this.group=this.id=null;this.c=false;this.h=this.g=this.f=this.s=null;this.j=[];this.a=[];}function rf(){this.value=null;}function sf(){this.contentType=this.lang=this.id=null;}function tf(){this.a=this.b=this.g=this.s=this.h=this.f=this.height=this.width=this.bandwidth=this.lang=this.id=null;this.c=[];}function uf(){this.b=this.a=this.c=this.f=null;}function vf(){this.parsedPssh=this.psshBox=null;}function wf(){this.url=null;}function xf(){this.url=null;}function yf(){this.s=null;this.h=1;this.c=this.b=this.f=this.a=this.g=null;}yf.prototype.clone=function(){var xl=new yf();xl.s=pg(this.s);xl.h=this.h;xl.g=this.g;xl.a=qg(this.a);xl.f=qg(this.f);xl.b=qg(this.b);xl.c=qg(this.c);return xl;};function zf(){this.a=this.url=null;}zf.prototype.clone=function(){var xl=new zf();xl.url=pg(this.url);xl.a=qg(this.a);return xl;};function ag(){this.a=this.url=null;}ag.prototype.clone=function(){var xl=new ag();xl.url=pg(this.url);xl.a=qg(this.a);return xl;};function bg(){this.s=null;this.a=1;this.c=this.g=null;this.i=0;this.h=null;this.b=[];this.f=null;}bg.prototype.clone=function(){var xl=new bg();xl.s=pg(this.s);xl.a=this.a;xl.g=this.g;xl.c=this.c;xl.i=this.i;xl.h=qg(this.h);xl.b=pg(this.b)||[];xl.f=qg(this.f);return xl;};function cg(){this.a=this.b=null;}cg.prototype.clone=function(){var xl=new cg();xl.b=pg(this.b);xl.a=qg(this.a);return xl;};function dg(){this.a=1;this.b=this.i=null;this.j=0;this.c=this.g=this.f=this.h=null;}dg.prototype.clone=function(){var xl=new dg();xl.a=this.a;xl.i=this.i;xl.b=this.b;xl.j=this.j;xl.h=this.h;xl.f=this.f;xl.g=this.g;xl.c=qg(this.c);return xl;};function eg(){this.a=[];}eg.prototype.clone=function(){var xl=new eg();xl.a=pg(this.a)||[];return xl;};function fg(){this.c=this.a=this.b=null;}fg.prototype.clone=function(){var xl=new fg();xl.b=this.b;xl.a=this.a;xl.c=this.c;return xl;};function gg(xl,yl){this.ea=xl;this.end=yl;}gg.prototype.clone=function(){return new gg(this.ea,this.end);};of.TAG_NAME="MPD";pf.TAG_NAME="Period";qf.TAG_NAME="AdaptationSet";rf.TAG_NAME="Role";sf.TAG_NAME="ContentComponent";tf.TAG_NAME="Representation";uf.TAG_NAME="ContentProtection";vf.TAG_NAME="cenc:pssh";wf.TAG_NAME="BaseURL";xf.TAG_NAME="Location";yf.TAG_NAME="SegmentBase";zf.TAG_NAME="RepresentationIndex";ag.TAG_NAME="Initialization";bg.TAG_NAME="SegmentList";cg.TAG_NAME="SegmentURL";dg.TAG_NAME="SegmentTemplate";eg.TAG_NAME="SegmentTimeline";fg.TAG_NAME="S";of.prototype.parse=function(xl,yl){this.url=xl.$a;this.id=rg(yl,"id",yg);this.type=rg(yl,"type",yg)||"static";this.b=rg(yl,"mediaPresentationDuration",tg);this.h=rg(yl,"minBufferTime",tg,this.h);this.g=rg(yl,"minimumUpdatePeriod",tg,this.g);this.c=rg(yl,"availabilityStartTime",sg,this.c);this.f=rg(yl,"timeShiftBufferDepth",tg,this.f);this.f=null;this.i=rg(yl,"suggestedPresentationDelay",tg,this.i);var zl=xl.s,am=ng(this,yl,wf);this.s=ig(zl,am);if(am=lg(this,yl,xf))this.j=jg(zl,am.url);this.a=ng(this,yl,pf);};pf.prototype.parse=function(xl,yl){this.id=rg(yl,"id",yg);this.start=rg(yl,"start",tg);this.a=rg(yl,"duration",tg);var zl=ng(this,yl,wf);this.s=ig(xl.s,zl);this.c=lg(this,yl,yf);this.f=lg(this,yl,bg);this.g=lg(this,yl,dg);this.b=ng(this,yl,qf);hg(this);};function hg(xl){for(var yl=[],zl=0;zl<xl.b.length;++zl){var am=xl.b[zl];null!=am.group&&(yl[am.group]=true);}for(zl=0;zl<xl.b.length;++zl)if(am=xl.b[zl],null==am.group){for(var bm=1;1==yl[bm];)++bm;yl[bm]=true;am.group=bm;}}qf.prototype.parse=function(xl,yl){var zl=lg(this,yl,sf)||{},am=lg(this,yl,rf);this.id=rg(yl,"id",yg);this.group=rg(yl,"group",xg);this.lang=rg(yl,"lang",yg,zl.lang);this.contentType=rg(yl,"contentType",yg,zl.contentType);this.width=rg(yl,"width",wg);this.height=rg(yl,"height",wg);this.b=rg(yl,"mimeType",yg);this.i=rg(yl,"codecs",yg);this.c=am&&"main"==am.value;this.lang&&(this.lang=cc(this.lang));zl=ng(this,yl,wf);this.s=ig(xl.s,zl);this.j=ng(this,yl,uf);!this.contentType&&this.b&&(this.contentType=this.b.split("/")[0]);this.f=xl.c?kg(this,yl,xl.c):lg(this,yl,yf);this.g=xl.f?kg(this,yl,xl.f):lg(this,yl,bg);this.h=xl.g?kg(this,yl,xl.g):lg(this,yl,dg);this.a=ng(this,yl,tf);!this.b&&this.a.length&&(this.b=this.a[0].f,!this.contentType&&this.b&&(this.contentType=this.b.split("/")[0]));};rf.prototype.parse=function(xl,yl){this.value=rg(yl,"value",yg);};sf.prototype.parse=function(xl,yl){this.id=rg(yl,"id",yg);this.lang=rg(yl,"lang",yg);this.contentType=rg(yl,"contentType",yg);this.lang&&(this.lang=cc(this.lang));};tf.prototype.parse=function(xl,yl){this.id=rg(yl,"id",yg);this.bandwidth=rg(yl,"bandwidth",wg);this.width=rg(yl,"width",wg,xl.width);this.height=rg(yl,"height",wg,xl.height);this.f=rg(yl,"mimeType",yg,xl.b);this.h=rg(yl,"codecs",yg,xl.i);this.lang=xl.lang;var zl=ng(this,yl,wf);this.s=ig(xl.s,zl);this.c=ng(this,yl,uf);this.g=xl.f?kg(this,yl,xl.f):lg(this,yl,yf);this.b=xl.g?kg(this,yl,xl.g):lg(this,yl,bg);this.a=xl.h?kg(this,yl,xl.h):lg(this,yl,dg);this.c=this.c.concat(xl.j);};uf.prototype.parse=function(xl,yl){this.f=yl;this.c=rg(yl,"schemeIdUri",yg);var zl=rg(yl,"cenc:default_KID",yg);zl&&(this.b=zl.replace(/[-]/g,""));this.a=lg(this,yl,vf);};vf.prototype.parse=function(xl,yl){var zl=og(yl);if(zl){this.psshBox=rd(zl);try{this.parsedPssh=new ke(this.psshBox);}catch(am){if(!(am instanceof RangeError))throw am;}}};wf.prototype.parse=function(xl,yl){this.url=og(yl);};xf.prototype.parse=function(xl,yl){this.url=og(yl);};yf.prototype.parse=function(xl,yl){this.s=xl.s||this.s;this.h=rg(yl,"timescale",wg,this.h);this.g=rg(yl,"presentationTimeOffset",xg,this.g);this.a=rg(yl,"indexRange",ug,this.a);this.f=rg(yl,"FBFirstSegmentRange",ug,this.f);this.b=lg(this,yl,zf)||this.b;this.c=lg(this,yl,ag)||this.c;};zf.prototype.parse=function(xl,yl){var zl=rg(yl,"sourceURL",yg);this.url=jg(xl.s,zl);this.a=rg(yl,"range",ug,qg(xl.a));};ag.prototype.parse=function(xl,yl){var zl=rg(yl,"sourceURL",yg);this.url=jg(xl.s,zl);this.a=rg(yl,"range",ug);};bg.prototype.parse=function(xl,yl){this.s=xl.s||this.s;this.a=rg(yl,"timescale",wg,this.a);this.g=rg(yl,"presentationTimeOffset",xg,this.g);this.c=rg(yl,"duration",wg,this.c);var zl=rg(yl,"startNumber",wg);null!=zl&&(this.i=zl);this.h=lg(this,yl,ag)||this.h;this.b=(zl=ng(this,yl,cg))&&0<zl.length?zl:this.b;this.f=lg(this,yl,eg)||this.f;};cg.prototype.parse=function(xl,yl){var zl=rg(yl,"media",yg);this.b=jg(xl.s,zl);this.a=rg(yl,"mediaRange",ug);};dg.prototype.parse=function(xl,yl){this.a=rg(yl,"timescale",wg,this.a);this.i=rg(yl,"presentationTimeOffset",xg,this.i);this.b=rg(yl,"duration",wg,this.b);var zl=rg(yl,"startNumber",xg);null!=zl&&(this.j=zl);this.h=rg(yl,"media",yg,this.h);this.f=rg(yl,"index",yg,this.f);this.g=rg(yl,"initialization",yg,this.g);this.c=lg(this,yl,eg)||this.c;};eg.prototype.parse=function(xl,yl){this.a=ng(this,yl,fg);};fg.prototype.parse=function(xl,yl){this.b=rg(yl,"t",xg);this.a=rg(yl,"d",xg);this.c=rg(yl,"r",vg);};function ig(xl,yl){if(!yl||0===yl.length)return xl;for(var zl=[],am=0;am<yl.length;am++){var bm=yl[am].url;null==xl||0===xl.length?zl.push(new ye(bm)):(bm=jg(xl.slice(0,1),bm),zl.push(bm[0]));}return zl;}function jg(xl,yl){if(!yl)return xl;var zl=new ye(yl);return xl?xl.map(function(am){return am.resolve(zl);}):[zl];}function kg(xl,yl,zl){var am=qg(zl);(yl=mg(yl,zl.constructor.TAG_NAME))&&am.parse(xl,yl);return am;}function lg(xl,yl,zl){var am=null;if(yl=mg(yl,zl.TAG_NAME))am=new zl(),am.parse(xl,yl);return am;}function mg(xl,yl){for(var zl=null,am=0;am<xl.childNodes.length;am++)if(xl.childNodes[am].tagName==yl){if(zl)return null;zl=xl.childNodes[am];}return zl;}function ng(xl,yl,zl){for(var am=[],bm=0;bm<yl.childNodes.length;bm++)if(yl.childNodes[bm].tagName==zl.TAG_NAME){var cm=new zl();cm.parse.call(cm,xl,yl.childNodes[bm]);am.push(cm);}return am;}function og(xl){xl=xl.firstChild;return xl.nodeType!=Node.TEXT_NODE?null:xl.nodeValue;}function pg(xl){return xl?xl.map(function(yl){return yl.clone();}):null;}function qg(xl){return xl?xl.clone():null;}function rg(xl,yl,zl,am){xl=zl(xl.getAttribute(yl));return null!=xl?xl:void 0!==am?am:null;}function sg(xl){if(!xl)return null;xl=Date.parse(xl);return isNaN(xl)?null:Math.floor(xl/1000);}function tg(xl){if(!xl)return null;var yl=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(xl);if(!yl)return null;xl=0;var zl=xg(yl[1]);zl&&(xl+=31536000*zl);(zl=xg(yl[2]))&&(xl+=2592000*zl);(zl=xg(yl[3]))&&(xl+=86400*zl);(zl=xg(yl[4]))&&(xl+=3600*zl);(zl=xg(yl[5]))&&(xl+=60*zl);yl=i.parseFloat(yl[6]);(yl=isNaN(yl)?null:yl)&&(xl+=yl);return xl;}function ug(xl){var yl=/([0-9]+)-([0-9]+)/.exec(xl);if(!yl)return null;xl=xg(yl[1]);if(null==xl)return null;yl=xg(yl[2]);return null==yl?null:new gg(xl,yl);}function vg(xl){xl=i.parseInt(xl,10);return isNaN(xl)?null:xl;}function wg(xl){xl=i.parseInt(xl,10);return 0<xl?xl:null;}function xg(xl){xl=i.parseInt(xl,10);return 0<=xl?xl:null;}function yg(xl){return xl;}function zg(xl,yl){this.url=xl;this.b=yl||new ah();this.g=this.j=this.h=0;this.a=null;this.c=new xc();this.f=null;}l("shaka.util.AjaxRequest",zg);function ah(){this.body=null;this.a=1;this.h=1000;this.c=0;this.method="GET";this.f="arraybuffer";this.b={};this.g=this.i=false;this.j=null;}var bh=true;function ch(xl){dh(xl);xl.b.body=null;xl.c.destroy();xl.c=null;xl.f=null;}function dh(xl){xl.a&&(xl.a.onload=null,xl.a.onreadystatechange=null,xl.a.onerror=null,xl.a.ontimeout=null);xl.a=null;}zg.prototype.i=function(){if(this.a)return this.c;if(0==this.url.lastIndexOf("data:",0)){var xl=this.url.split(":")[1].split(";").pop().split(","),yl=xl.pop(),yl="base64"==xl.pop()?i.atob(yl.replace(/-/g,"+").replace(/_/g,"/")):i.decodeURIComponent(yl);"arraybuffer"==this.b.f&&(yl=qd(yl).buffer);xl=JSON.parse(JSON.stringify(new XMLHttpRequest()));xl.response=yl;xl.responseText=yl.toString();yl=this.c;yl.resolve(xl);ch(this);return yl;}if(0==this.url.lastIndexOf("idb:",0))return this.H();this.h++;this.j=Date.now();this.g||(this.g=this.b.h);this.a=new XMLHttpRequest();xl=this.url;bh&&(this.f&&!this.f.supportsCaching()||this.b.g)&&(xl=new ye(xl),mf(xl.a,"_",Date.now()),xl=xl.toString());this.a.open(this.b.method,xl,true);this.a.responseType=this.b.f;this.a.timeout=this.b.c;this.a.withCredentials=this.b.i;this.a.onload=this.l.bind(this);this.a.onreadystatechange=this.o.bind(this);this.a.onerror=this.v.bind(this);this.a.ontimeout=this.u.bind(this);for(yl in this.b.b)this.a.setRequestHeader(yl,this.b.b[yl]);this.a.send(this.b.body);return this.c;};zg.prototype.send=zg.prototype.i;function eh(xl,yl,zl){yl=Error(yl);yl.type=zl;yl.status=xl.a.status;yl.url=xl.url;yl.method=xl.b.method;yl.body=xl.b.body;yl.Ib=xl.a;return yl;}zg.prototype.l=function(xl){this.f&&this.f.sample(Date.now()-this.j,xl.loaded);xl=[403];200<=this.a.status&&299>=this.a.status?(this.c.resolve(this.a),ch(this)):this.h<this.b.a&&-1===xl.indexOf(this.a.status)?fh(this):(xl=eh(this,"HTTP error.","net"),this.c.reject(xl),ch(this));};zg.prototype.o=function(){if(this.a.readyState==XMLHttpRequest.HEADERS_RECEIVED&&(this.a.ga=Date.now()-this.j,this.b.g)){var xl=Date.parse(this.a.getResponseHeader("Date"));xl&&(fb=xl-Date.now());}};zg.prototype.v=function(){var xl=eh(this,"Network failure.","net");this.c.reject(xl);ch(this);};zg.prototype.u=function(){if(this.h<this.b.a){fh(this);}else{var xl=eh(this,"Request timed out.","net");this.c.reject(xl);ch(this);}};function fh(xl){dh(xl);i.setTimeout(xl.i.bind(xl),xl.g*(1+.5*(2*Math.random()-1)));xl.g*=2;}function gh(xl,yl,zl,am){this.b=yl;this.h=zl||0;this.g=null!=am?am:null;this.c=this.a=null;this.j=xl;this.i=null;}var hh;l("shaka.util.FailoverUri",gh);function ih(xl,yl){return xl&&0!==xl.length?xl.map(function(zl){return zl.resolve(yl);}):[yl];}gh.setPrefetchCacheValueGetter=function(xl){hh=xl;};function jh(xl,yl,zl){if(xl.a)return xl.a;xl.a=kh(xl,0,yl||new ah(),zl);return xl.a;}gh.prototype.f=function(){if(this.c){this.a=null;var xl=this.c;if(xl.a&&xl.a.readyState!=XMLHttpRequest.DONE){xl.a.abort();var yl=eh(xl,"Request aborted.","aborted");xl.c.reject(yl);ch(xl);}this.i=this.c=null;}};function kh(xl,yl,zl,am){var bm=xl.b[yl].toString();if(xl.h||xl.g){var cm=xl.b[yl].N;!cm.endsWith("fbcdn.net")||cm.startsWith("interncache")||cm.endsWith("ak.fbcdn.net")?zl.b.Range="bytes="+(xl.h+"-"+(null!=xl.g?xl.g:"")):bm+="&bytestart="+xl.h+"&byteend="+xl.g;}xl.j&&(bm=xl.j(bm,zl.b)||bm);cm=null;hh&&(cm=hh(bm));cm||(xl.c=new zg(bm,zl),am&&(xl.c.f=am),cm=xl.c.i());bm=cm.then(dd(xl,function(dm){this.i=this.c=this.a=null;this.i=dm.a?new ye(dm.a):this.b[yl];dm.response.ga=dm.ga;return Promise.resolve(dm.response);}));return bm=bm.catch(dd(xl,function(dm){if(this.a&&yl+1<this.b.length)return this.a=kh(this,yl+1,zl,am);this.a=this.c=null;return Promise.reject(dm);}));}gh.prototype.clone=function(){return new gh(this.j,this.b.map(function(xl){return xl.clone();}),this.h,this.g);};gh.prototype.toString=function(){return this.b[0].toString();};function lh(xl,yl){this.a=new ah();this.a.f="text";this.a.a=3;this.a.c=1000*(null!=yl?yl:0);this.a.g=true;this.b=xl;}function mh(xl){var yl=xl.b;return jh(yl,xl.a).then(function(zl){if(zl=nf(zl,yl.b,[yl.i]))return Promise.resolve(zl);zl=Error("MPD parse failure.");zl.type="dash";return Promise.reject(zl);});}function nh(xl,yl,zl,am){for(var bm=yl.a,cm=[],dm=0;dm<am;++dm){var em=dm+zl,fm=(em-1)*bm.b,gm=fm/bm.a,hm=(fm+bm.b)/bm.a,em=oh(xl,yl,bm.j+em-1,fm);if(!em)return null;cm.push(new sh(gm,hm,em));}return cm;}function oh(xl,yl,zl,am){if(!yl.a)return null;var bm=yl.a.h;if(!bm)return yl.s?new gh(xl,yl.s,0,null):null;zl=ph(bm,yl.id,zl,yl.bandwidth,am);if(!zl)return null;yl=ih(yl.s,zl);return new gh(xl,yl,0,null);}function ph(xl,yl,zl,am,bm){var cm={RepresentationID:yl,Number:zl,Bandwidth:am,Time:bm};xl=xl.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(em,fm,gm){if("$$"==em)return "$";var hm=cm[fm];if(null==hm)return em;"RepresentationID"==fm&&gm&&(gm=void 0);em=hm.toString();gm=i.parseInt(gm,10)||1;gm=Math.max(0,gm-em.length);return Array(gm+1).join("0")+em;});try{return new ye(xl);}catch(dm){if(dm instanceof URIError)return null;throw dm;}}function qh(xl,yl,zl){var am=0;yl*=zl;xl=xl.a;zl=[];for(var bm=0;bm<xl.length&&xl[bm].a;++bm){var cm=xl[bm].b,cm=null!=cm?cm:am,dm=xl[bm].c||0;0>dm&&(dm=xl[bm].a,dm=bm+1===xl.length?Math.ceil((xl[0].b+yl-cm)/dm)-1:Math.ceil((xl[bm+1].b-cm)/dm)-1);0<zl.length&&cm!=am&&(zl[zl.length-1].end=cm);for(var em=0;em<=dm;++em)am=cm+xl[bm].a,zl.push({start:cm,end:am}),cm=am;}return zl;}function rh(xl,yl){this.a=xl;this.b=yl||null;}rh.prototype.destroy=function(){this.a&&(this.a.f(),this.a=null);this.b=null;};rh.prototype.create=function(){return this.a?jh(this.a):Promise.resolve(this.b);};function sh(xl,yl,zl){this.b=xl;this.a=yl;this.url=zl;}function th(xl,yl,zl){return new sh(yl,zl,xl.url);}function uh(xl,yl){for(var zl=xl.length-1;0<=zl;--zl){var am=xl[zl];if(yl>=am.b&&(null==am.a||yl<am.a))return zl;}return -1;}function vh(xl,yl){return xl.map(function(zl){return th(zl,zl.b+yl,null!=zl.a?zl.a+yl:null);});}function wh(){}wh.prototype.parse=function(xl,yl,zl,am,bm){var cm=null;try{xl:{var em=[],fm=new gb(xl),gm=kb(fm);if(1936286840!=kb(fm)){cm=null;}else{1==gm&&(gm=lb(fm));var hm=jb(fm);nb(fm,3);nb(fm,4);var im=kb(fm);if(0==im){cm=null;}else{var jm,km;0==hm?(jm=kb(fm),km=kb(fm)):(jm=lb(fm),km=lb(fm));nb(fm,2);var lm=fm.b.getUint16(fm.a,fm.c);fm.a+=2;xl=jm;yl=yl+gm+km;for(gm=0;gm<lm;gm++){var mm=kb(fm);km=(mm&2147483648)>>>31;var hm=mm&2147483647,nm=kb(fm);kb(fm);if(1==km){cm=null;break xl;}var om;om=0==gm&&bm?bm:new gh(am,zl,yl,yl+hm-1);em.push(new sh(xl/im,(xl+nm)/im,om));xl+=nm;yl+=hm;}cm=em;}}};}catch(dm){if(!(dm instanceof RangeError))throw dm;}return cm;};function xh(xl){this.a=xl;this.R=0;}xh.prototype.destroy=function(){this.a=null;};j=xh.prototype;j.length=function(){return this.a.length;};function yh(xl){if(0==xl.a.length)throw new RangeError("SegmentIndex: There is no first SegmentReference.");return xl.a[0];}j.w=function(){if(0==this.a.length)throw new RangeError("SegmentIndex: There is no last SegmentReference.");return this.a[this.a.length-1];};j.get=function(xl){if(0>xl||xl>=this.a.length)throw new RangeError("SegmentIndex: The specified index is out of range.");return this.a[xl];};j.ia=function(xl){xl=uh(this.a,xl);return 0<=xl?this.a[xl]:null;};j.Ba=function(xl){zh(this,xl);return true;};function zh(xl,yl){xl.R!=yl.R&&(yl=new xh(vh(yl.a,xl.R-yl.R)));if(0==xl.length()){xl.a=yl.a.slice(0);}else if(0!=yl.length()&&null!=xl.w().a&&!(null!=yl.w().a&&yl.w().a<xl.w().a)){if(xl.w().a<=yh(yl).b){var zl=th(xl.w(),xl.w().b,yh(yl).b),zl=xl.a.slice(0,-1).concat([zl]);}else{var am;for(am=0;am<xl.a.length&&!(xl.a[am].a>=yh(yl).b);++am);xl.a[am].b<yh(yl).b?(zl=th(xl.a[am],xl.a[am].b,yh(yl).b),zl=xl.a.slice(0,am).concat([zl])):(yh(xl).b>yh(yl).b||yh(yl),zl=xl.a.slice(0,am));}xl.a=zl.concat(yl.a);}}j.ha=function(xl){var yl=xl-this.R;if(0==yl)return 0;this.a=vh(this.a,yl);this.R=xl;return yl;};j.ya=function(){return 0<this.length()?{start:yh(this).b,end:this.w().a}:{start:0,end:0};};function ai(xl,yl,zl,am){xh.call(this,xl);this.h=yl;this.v=zl;this.g=am;this.i=this.h.b||this.h.a.reduce(function(bm,cm){return null==cm.a?NaN:bm+cm.a;},0)||0;this.b=this.o=this.f=null;bi(this);}m(ai,xh);ai.prototype.destroy=function(){this.v=this.h=null;xh.prototype.destroy.call(this);};ai.prototype.ia=function(xl){di(this,eb()/1000);return xh.prototype.ia.call(this,xl);};ai.prototype.Ba=function(xl){if(!(xl instanceof ai))return false;zh(this,xl);this.i=Math.max(this.i,xl.i);null==this.f?(this.g=xl.g,bi(this)):ei(this);return true;};function bi(xl){ei(xl);if(0!=xl.length()){xl.length();var yl=null!=xl.w().a?xl.w().a:xl.w().b;if(xl.h.c>xl.g){xl.f=yl;}else{var zl=xl.g-(xl.h.c+xl.v.start);0>zl?xl.f=yl:zl<Math.max(xl.w().b,xl.w().a||0)?(xl.w(),xl.f=yl):xl.f=zl;}xl.o=xl.w().b;xl.b=yh(xl).b;}}ai.prototype.ha=function(xl){xl=xh.prototype.ha.call(this,xl);Math.min.apply(null,this.a.filter(function(yl){return null!=yl.a;}).map(function(yl){return yl.a-yl.b;}));null!=this.f&&(this.o+=xl,this.b+=xl,this.f+=xl);return xl;};ai.prototype.ya=function(){return ci(this,eb()/1000);};function ci(xl,yl){di(xl,yl);if(null==xl.f||null==xl.o||null==xl.b)return {start:0,end:0};var zl=Number.POSITIVE_INFINITY;xl.i&&(zl=xl.i);var am=yl-xl.g,bm=xl.f+am;null!=xl.h.f&&(bm=bm-xl.b-xl.h.f,0<bm&&(xl.b+=bm));xl.b=Math.min(xl.b,zl);am=xl.o+am;if(am<xl.b)return {start:xl.b,end:xl.b};am=0<xl.length()?null!=xl.w().a?Math.min(am,xl.w().a):am:xl.b;am=Math.max(am,xl.b);am=Math.min(am,zl);return {start:xl.b,end:am};}function di(xl,yl){ei(xl);if(null!=xl.h.f)if(null==xl.f){xl.length();}else{for(var zl=xl.f+(yl-xl.g),am=0,bm=0;bm<xl.a.length;++bm){var cm=null;bm<xl.a.length-1?cm=xl.a[bm+1].a:(cm=xl.a[bm],cm=null!=cm.a?cm.a+(cm.a-cm.b):null);if(null!=cm&&cm<zl-xl.h.f){++am;}else break;}0<am&&xl.a.splice(0,am);}}function ei(xl){if(xl.i){for(var yl=0,zl=xl.a.length-1;0<=zl;--zl)if(xl.a[zl].b>xl.i){++yl;}else break;0<yl&&xl.a.splice(-yl);}}function fi(xl,yl,zl,am,bm){var cm=1,dm=0,em;if(xl.c>am){em=null;}else{var fm=xl.i||0,gm=xl.f||0;em=zl.a;em=em.b/em.a;var hm=am-(xl.c+yl.start);0>hm?em=null:(gm=hm-2*em-gm,0>gm&&(gm=0),gm=Math.ceil(gm/em)*em,hm-=em,0>hm?em=null:(fm=Math.floor(hm/em)*em-fm,0>fm&&(fm=0),fm=Math.floor(fm/em)*em,em={Va:gm/em+1,current:(fm>=gm?fm:gm)/em+1}));}em&&(cm=em.Va,dm=em.current-em.Va+1);cm=nh(bm,zl,cm,dm);if(null==cm)throw xl=Error("Failed to generate SegmentReferences."),xl.type="stream",xl;ai.call(this,cm,xl,yl,am);this.u=zl;this.l=this.c=0<this.length()?xl.c+yl.start+this.w().a:null;this.j=em?em.current+1:null;this.H=bm;}m(fi,ai);fi.prototype.destroy=function(){this.H=this.u=null;ai.prototype.destroy.call(this);};fi.prototype.ia=function(xl){var yl=eb()/1000;gi(this,yl);di(this,yl);return xh.prototype.ia.call(this,xl);};fi.prototype.Ba=function(xl){if(null!=this.c||!(xl instanceof fi)||null==xl.c)return false;this.c=xl.c;this.l=xl.l;this.j=xl.j;this.g=xl.g;this.i=xl.i;zh(this,xl);gi(this,eb()/1000);bi(this);return true;};fi.prototype.ha=function(xl){xl=ai.prototype.ha.call(this,xl);null!=this.c&&(this.c+=xl,this.l+=xl);return xl;};fi.prototype.ya=function(){var xl=eb()/1000;gi(this,xl);return ci(this,xl);};function gi(xl,yl){if(null!=xl.c&&null!=xl.l&&null!=xl.j){var zl=xl.u.a,zl=zl.b/zl.a,am=Math.floor((xl.l+(yl-xl.g)-xl.c)/zl);if(0!=am){var bm=nh(xl.H,xl.u,xl.j,am);Array.prototype.push.apply(xl.a,vh(bm,xl.R));xl.c+=am*zl;xl.j+=am;}}}function hi(xl,yl,zl,am,bm){this.f=xl;this.b=yl;this.c=zl;this.h=am;this.a=null;this.g=bm;}hi.prototype.destroy=function(){this.g=this.c=this.b=this.f=null;this.a&&(this.a.destroy(),this.a=null);};hi.prototype.create=function(){if(this.a)return Promise.resolve(this.a);if("dynamic"==this.f.type){try{this.a=new fi(this.f,this.b,this.c,this.h,this.g);}catch(xl){return Promise.reject(xl);}}else{var yl;yl=this.c.a;if(yl=nh(this.g,this.c,1,Math.ceil(this.b.a/(yl.b/yl.a)))){if(0<yl.length){var zl=yl[yl.length-1];yl[yl.length-1]=th(zl,zl.b,this.b.a);}yl=new xh(yl);}else yl=null;this.a=yl;if(!this.a)return yl=Error("Failed to generate SegmentReferences"),yl.type="stream",Promise.reject(yl);}return Promise.resolve(this.a);};function ii(xl,yl,zl,am,bm){this.c=xl;this.b=yl;this.g=zl;this.a=null;this.h=am;this.f=bm;}ii.prototype.destroy=function(){this.f=this.g=this.b=this.c=null;this.a&&(this.a.destroy(),this.a=null);};ii.prototype.create=function(){if(this.a)return Promise.resolve(this.a);var xl=this.g.b,yl=[];xl.f&&(yl=qh(xl.f,xl.a||1,this.b.a||0));var zl=0;xl.c&&xl.i?zl=(xl.i-1)*xl.c:0<yl.length&&(zl=yl[0].start-(xl.g||0));var am=zl,bm=xl.b.length;0<yl.length&&yl.length!=xl.b.length&&(bm=Math.min(yl.length,xl.b.length));for(var cm=[],dm=0;dm<bm;++dm){var em=xl.b[dm],fm=zl/xl.a,gm=null,hm=null;xl.c?(gm=zl+xl.c,hm=gm/xl.a):0<yl.length?(gm=yl[dm].end-(xl.g||0),hm=gm/xl.a):(hm=fm+this.b.a,gm=hm*xl.a);var zl=gm,gm=0,im=null;em.a&&(gm=em.a.ea,im=em.a.end);hm=Math.min(this.b.a+am/xl.a,hm);cm.push(new sh(fm,hm,new gh(this.f,em.b,gm,im)));}"dynamic"==this.c.type?this.a=new ai(cm,this.c,this.b,this.h):this.a=new xh(cm);return Promise.resolve(this.a);};function ji(xl,yl,zl,am,bm){this.b=xl;this.c=yl;this.f=zl;this.h=am;this.a=null;this.g=bm;}ji.prototype.destroy=function(){this.g=this.f=this.c=this.b=null;this.a&&(this.a.destroy(),this.a=null);};ji.prototype.create=function(){if(this.a)return Promise.resolve(this.a);for(var xl=this.f.a,yl=qh(xl.c,xl.a||1,this.c.a||0),zl=[],am=0;am<yl.length;++am){var bm=yl[am].start,cm=bm/xl.a,dm=yl[am].end/xl.a,bm=oh(this.g,this.f,am+xl.j,bm);if(!bm)return xl=Error("Failed to generate media URL."),xl.type="dash",Promise.reject(xl);var em=(xl.i||0)/xl.a;zl.push(new sh(cm-em,dm-em,bm));}"dynamic"==this.b.type?this.a=new ai(zl,this.b,this.c,this.h):this.a=new xh(zl);return Promise.resolve(this.a);};function ki(){this.A=li++;this.id=this.J=this.I=null;this.b=0;this.height=this.width=this.bandwidth=null;this.c=this.a="";this.f=[];this.M=false;this.G=true;}var li=0;ki.prototype.destroy=function(){this.I&&(this.I.destroy(),this.I=null);this.J&&(this.J.destroy(),this.J=null);};function mi(xl){var yl=xl.a||"";xl.c&&(yl+='; codecs="'+xl.c+'"');return yl;}function ni(){this.A=oi++;this.id=null;this.contentType=this.lang="";this.b=false;this.m=[];this.a=[];}var oi=0;ni.prototype.destroy=function(){for(var xl=0;xl<this.m.length;++xl)this.m[xl].destroy();this.a=this.m=null;};function pi(xl){for(var yl=[],zl=0;zl<xl.a.length;++zl){var am=new si();am.id=xl.A;am.a=xl.a[zl];am.contentType=xl.contentType;am.b=xl.m.length?mi(xl.m[0]):"";yl.push(am);}return yl;}function qi(){this.id=null;this.start=0;this.b=null;this.a=[];}qi.prototype.destroy=function(){for(var xl=0;xl<this.a.length;++xl)this.a[xl].destroy();this.a=null;};function ri(){this.b=false;this.i=this.g=this.f=null;this.c=0;this.a=[];this.h=false;}ri.prototype.destroy=function(){for(var xl=0;xl<this.a.length;++xl)this.a[xl].destroy();this.a=null;};function si(){this.id=0;this.a=null;this.b=this.contentType="";}function ti(xl,yl,zl,am,bm){sc.call(this,xl);this.c=yl;this.a=new ed(zl,am,bm);this.L=0;this.u=this.D=this.b=null;this.F=false;this.g=null;this.o=false;this.j=null;this.i=false;this.h=new xc();this.l=this.f=false;this.v=0;this.K=15;this.B=false;}m(ti,sc);ti.prototype.C=function(xl){null!=xl.initialStreamBufferSize&&(this.v=Number(xl.initialStreamBufferSize));null!=xl.streamBufferSize&&(this.K=Number(xl.streamBufferSize));null!=xl.segmentRequestTimeout&&(this.a.o=Number(xl.segmentRequestTimeout));};ti.prototype.destroy=function(){aj(this);this.h.destroy();this.b=this.h=null;this.a.destroy();this.H=this.c=this.a=null;};j=ti.prototype;j.ma=function(){return this.b;};j.Wa=function(){return this.D;};j.eb=function(xl){this.f||xl.then(function(){this.f=true;this.g||zi(this,0);}.bind(this)).catch(function(){});return this.h;};j.Aa=function(){return this.l;};j.oa=function(xl,yl,zl){xl!=this.b&&(this.u=xl.J.create(),xl.I.create().then(dd(this,function(am){if(this.c){var bm=this.b;this.b=xl;this.D=am;this.F=true;this.o||(bm?yl&&ui(this,true,zl):zi(this,0));}})).catch(dd(this,function(am){"aborted"!=am.type&&(this.f?(am=yb(am),this.dispatchEvent(am)):this.h.reject(am));})));};j.ab=function(){return ui(this,false);};function ui(xl,yl,zl){xl.b&&!xl.o&&(xl.o=true,aj(xl),ld(xl.a).then(dd(xl,function(){var am=this.c.currentTime;if(!yl&&0<gd(this.a,am)&&0<=uh(this.a.b,am))return Promise.resolve();if(zl)return kd(this.a,this.c.currentTime+zl);this.B=true;return jd(this.a);})).then(dd(xl,function(){this.o=false;zi(this,0);})).catch(dd(xl,function(am){this.o=false;this.f?(am=yb(am),this.dispatchEvent(am)):this.h.reject(am);})));}j.bb=function(xl){return 0<gd(this.a,xl)&&0<=uh(this.a.b,xl);};j.ra=function(){};j.wa=function(){return true;};j.xb=function(){if(this.i&&!this.f){this.g=null;}else{var xl;if(xl=this.f&&!this.l)xl=1<this.a.c.buffered.length?true:false;if(xl){ui(this,true);}else{this.g=null;xl=this.b;var yl=this.D,zl=this.c.currentTime;gd(this.a,this.i?zl:zl+(this.j||0))>=(this.i?Math.max(this.v,this.K):this.v)?(wi(this),zi(this,1000/(5*(Math.abs(this.c.playbackRate)||1)))):(yl=vi(this,zl,yl))?(yl=id(this.a,yl,xl.b,this.u),this.u=null,this.F&&(this.F=false,xi(this,xl)),this.l=false,yl.then(dd(this,function(am){var bm=am.R;am=am.ib;this.i||(this.L=am);null==this.j&&(this.j=bm);this.B&&0<gd(this.a,zl)&&(this.B=false,this.c.currentTime+=.001);zi(this,0);})).catch(dd(this,function(am){if("aborted"!=am.type){var bm=[0,404,410,502,503,504];"net"==am.type&&-1!=bm.indexOf(am.Ib.status)&&this.b&&zi(this,1000);am=yb(am);this.dispatchEvent(am);}}))):(wi(this),this.f&&!this.l&&(this.l=true,yi(this)),zi(this,200));}}};function vi(xl,yl,zl){xl=xl.a;var am=xl.b.length;xl=0<am?xl.b[am-1]:null;return null!=xl?null!=xl.a?zl.ia(xl.a):null:zl.ia(yl)||(zl.length()?zl.w():null);}function wi(xl){if(!xl.i&&null!=xl.j){xl.i=true;var yl=xl.a,zl=xl.j,am=zl-yl.u;0!=am&&(yl.b=vh(yl.b,am),yl.u=zl);xl.h.resolve(xl.j);}}function xi(xl,yl){var zl;zl=yl.a.split("/")[0];zl=xb({type:"adaptation",bubbles:true,contentType:zl,size:"video"!=zl?null:{width:yl.width,height:yl.height},bandwidth:yl.bandwidth});xl.dispatchEvent(zl);}function yi(xl){var yl=xb({type:"ended"});xl.dispatchEvent(yl);}function zi(xl,yl){xl.g=i.setTimeout(xl.xb.bind(xl),yl);}function aj(xl){null!=xl.g&&(i.clearTimeout(xl.g),xl.g=null);}j.xa=function(){return this.L;};function bj(xl){this.b=xl;this.a=null;}bj.prototype.destroy=function(){this.a&&(this.a.destroy(),this.a=null);};bj.prototype.create=function(){if(this.a)return Promise.resolve(this.a);var xl=new sh(0,null,this.b);this.a=new xh([xl]);return Promise.resolve(this.a);};function cj(xl,yl){sc.call(this,xl);this.b=yl;this.g=true;this.h=this.f=null;this.c=new xc();this.a=null;}m(cj,sc);cj.prototype.C=function(){};cj.prototype.destroy=function(){this.a&&this.b.removeChild(this.a);this.c.destroy();this.H=this.b=this.f=this.h=this.a=this.c=null;};j=cj.prototype;j.ma=function(){return this.f;};j.Wa=function(){return this.h;};j.eb=function(){return this.c;};j.Aa=function(){return true;};j.oa=function(xl){xl.I.create().then(dd(this,function(yl){if(this.b){if(0==yl.length())return Promise.reject(Error("No subtitles URL available."));var zl=this.f;this.f=xl;this.h=yl;yl=yh(yl).url.b[0].toString();var am=this.wa();this.a&&(this.ra(false),this.b.removeChild(this.a));this.a=document.createElement("track");this.b.appendChild(this.a);this.a.src=yl;this.ra(am);yl=xb({type:"adaptation",bubbles:true,contentType:"text",size:null,bandwidth:xl.bandwidth});this.dispatchEvent(yl);zl||this.c.resolve(0);}}));};j.ab=function(){};j.bb=function(){return true;};j.ra=function(xl){this.g=xl;this.a&&(this.a.track.mode=xl?"showing":"disabled");};j.wa=function(){this.a&&(this.g="showing"==this.a.track.mode);return this.g;};function dj(){}dj.prototype.parse=function(xl,yl,zl,am){var bm=null;try{var dm,em=new ob(yl);if(440786851!=qb(em).id){dm=null;}else{var fm=qb(em);if(408125543!=fm.id){dm=null;}else{var gm=fm.a.byteOffset,hm,im=new ob(fm.a);for(yl=null;ib(im.a);){var jm=qb(im);if(357149030==jm.id){yl=jm;break;}}if(yl){for(var km=new ob(yl.a),im=1e+06;ib(km.a);){var lm=qb(km);if(2807729==lm.id){im=tb(lm);break;}}hm=im/1e+09;}else hm=null;dm=hm?{Db:gm,Gb:hm}:null;}}if(dm){var mm=qb(new ob(xl));if(475249515!=mm.id){bm=null;}else{var nm=dm.Db,om=dm.Gb;xl=[];var pm=new ob(mm.a);for(dm=mm=-1;ib(pm.a);){var qm=qb(pm);if(187==qm.id){var rm,sm=new ob(qm.a),tm=qb(sm);if(179!=tm.id){rm=null;}else{var um=tb(tm),vm=qb(sm);if(183!=vm.id){rm=null;}else{for(var wm=new ob(vm.a),gm=0;ib(wm.a);){var xm=qb(wm);if(241==xm.id){gm=tb(xm);break;}}rm={Hb:um,Cb:gm};}}if(rm){var ym=om*rm.Hb,zm=nm+rm.Cb;if(0<=mm){var an=new gh(am,zl,dm,zm-1);xl.push(new sh(mm,ym,an));}mm=ym;dm=zm;}}}0<=mm&&(an=new gh(am,zl,dm,null),xl.push(new sh(mm,null,an)));bm=xl;}}else bm=null;}catch(cm){if(!(cm instanceof RangeError))throw cm;}return bm;};function ej(xl,yl,zl,am,bm,cm,dm,em){this.h=xl;this.j=yl;this.f=zl;this.a=am;this.g=bm;this.b=cm;this.l=dm;this.c=null;this.i=em;}ej.prototype.destroy=function(){this.i=this.j=this.h=null;this.a.f();this.a=null;this.b&&(this.b.f(),this.b=null);this.g&&(this.g.f(),this.g=null);this.c=null;};ej.prototype.create=function(){if("webm"==this.f){var xl=Error("WebM is not supported in this build configuration.");xl.type="app";return Promise.reject(xl);}if(this.c)return this.c;xl=[jh(this.a)];"webm"==this.f&&xl.push(jh(this.g));this.b&&jh(this.b);return this.c=Promise.all(xl).then(dd(this,function(yl){var zl=yl[0];yl=yl[1]||null;var am=null;"mp4"==this.f?(am=new wh(),am=am.parse(new DataView(zl),this.a.h,this.a.b,this.i,this.b)):"webm"==this.f&&(am=new dj(),am=am.parse(new DataView(zl),new DataView(yl),this.a.b,this.i));if(!am)return zl=Error("Failed to parse SegmentReferences from "+this.a.toString()+" (or one of its fallbacks)."),zl.type="stream",Promise.reject(zl);var bm;"dynamic"==this.h.type?bm=new ai(am,this.h,this.j,this.l):bm=new xh(am);return Promise.resolve(bm);}));};function fj(xl){this.a=xl;}function gj(xl,yl,zl){for(var am=eb()/1000,bm=0;bm<yl.a.length;++bm)for(var cm=yl.a[bm],dm=0;dm<cm.b.length;++dm){var em=cm.b[dm];if("text"!=em.contentType)for(var fm=0;fm<em.a.length;++fm){var gm=em.a[fm],hm=0,hm=hm+(gm.g?1:0),hm=hm+(gm.b?1:0),hm=hm+(gm.a?1:0);0==hm?(em.a.splice(fm,1),--fm):1!=hm&&(gm.g?(gm.b=null,gm.a=null):gm.b&&(gm.a=null));}}hj(yl);for(bm=0;bm<yl.a.length;++bm)for(cm=yl.a[bm],dm=0;dm<cm.b.length;++dm){fm=em=cm.b[dm];gm=null;for(hm=0;hm<fm.a.length;++hm){var im=fm.a[hm].f||"";gm?im!=gm&&(fm.a.splice(hm,1),--hm):gm=im;}0==em.a.length&&(cm.b.splice(dm,1),--dm);}"dynamic"==yl.type&&null==yl.c&&(yl.c=am);bm=new ri();"dynamic"==yl.type&&(bm.b=true,bm.f=yl.g,bm.g=new gh(zl,yl.j||yl.url),bm.i=yl.c);bm.c=yl.h||5;for(cm=0;cm<yl.a.length;++cm){dm=yl.a[cm];if(null==dm.start)break;dm=ij(xl,yl,dm,am,zl);bm.a.push(dm);}return bm;}function hj(xl){if(xl.a.length){null==xl.a[0].start&&(xl.a[0].start=0);var yl=function(fm){return 0==fm||!!fm;};"dynamic"==xl.type&&(xl.b=null);yl(xl.b)&&1==xl.a.length&&!yl(xl.a[0].a)&&(xl.a[0].a=xl.b);for(var zl=0,am=true,bm=0;bm<xl.a.length;++bm){var cm=xl.a[bm-1],dm=xl.a[bm],em=xl.a[bm+1]||{start:xl.b};!yl(dm.start)&&cm&&yl(cm.start)&&yl(cm.a)&&(dm.start=cm.start+cm.a);!yl(dm.a)&&yl(em.start)&&(dm.a=em.start-dm.start);null!=dm.start&&null!=dm.a?zl+=dm.a:am=false;}yl(xl.b)||(bm=xl.a[xl.a.length-1],am?xl.b=zl:yl(bm.start)&&yl(bm.a)?xl.b=bm.start+bm.a:"dynamic"!=xl.type&&(xl.b=zl));}}function ij(xl,yl,zl,am,bm){var cm=new qi();cm.id=zl.id;cm.start=zl.start;cm.b=zl.a;var dm=new kc();zl.b.forEach(function(nm){dm.push(nm.contentType||"",nm);});for(var em=nc(dm),fm=0;fm<em.length;++fm){var gm=new kc();dm.get(em[fm]).forEach(function(nm){gm.push(nm.group,nm);});for(var hm=nc(gm),im=0;im<hm.length;++im){var jm=new kc();gm.get(hm[im]).forEach(function(nm){jm.push(nm.lang,nm);});for(var km=nc(jm),lm=0;lm<km.length;++lm){var mm=jm.get(km[lm]),mm=jj(xl,yl,zl,mm,am,bm);cm.a.push(mm);}}}return cm;}function jj(xl,yl,zl,am,bm,cm){n(am.every(function(lm){return lm.group==am[0].group&&(lm.lang||"")==(am[0].lang||"")&&(lm.contentType||"")==(am[0].contentType||"");}));var dm=new ni(),em=am.filter(function(lm){return null!=lm.id;});em.length==am.length&&(dm.id=em.map(function(lm){return lm.id;}).sort().reduce(function(lm,mm){return lm+","+mm;}));dm.lang=am[0].lang||"";dm.contentType=am[0].contentType||"";dm.b=am.some(function(lm){return lm.c;});for(var em={},fm=0;fm<am.length;++fm)for(var gm=am[fm],hm=0;hm<gm.a.length;++hm){var im=gm.a[hm],jm=mj(xl,im),km=dm.a.slice(0);lj(jm,km);0==km.length&&0<dm.a.length||!(im=oj(yl,zl,im,bm,cm))||(dm.m.push(im),dm.a=km,em[im.A]=gm);}if(dm.a.some(function(lm){return ""==lm.a;}))return dm.m.forEach(function(lm){lm.M=true;}),dm;xl=kj(am);for(fm=0;fm<dm.m.length;++fm)im=dm.m[fm],gm=em[im.A],gm==xl&&(im.M=true);return dm;}function kj(xl){for(var yl=null,zl=null,am=0;am<xl.length;++am)for(var bm=xl[am],cm=0;cm<bm.a.length;++cm){var dm=bm.a[cm],dm=(dm.width||1)*(dm.height||1)*(dm.bandwidth||1);if(null==yl||dm<yl)yl=dm,zl=bm;}return zl;}function lj(xl,yl){if(0==yl.length){Array.prototype.push.apply(yl,xl);}else for(var zl=0;zl<yl.length;++zl){for(var am=false,bm=0;bm<xl.length;++bm){var cm=yl[zl],dm=xl[bm];if(cm.a==dm.a&&cm.h==dm.h&&cm.l==dm.l&&cm.g==dm.g&&cm.i==dm.i&&cm.f==dm.f&&cm.j==dm.j&&td(cm.c,dm.c)){am=true;wd(yl[zl],xl[bm].b);break;}}am||(yl.splice(zl,1),--zl);}}function mj(xl,yl){var zl=[];if(0==yl.c.length){zl.push(new ud());}else if(xl.a)for(var am=0;am<yl.c.length;++am)zl.push.apply(zl,nj(xl,yl.c[am]));return zl;}function nj(xl,yl){var zl=[];if(2!=xl.a.length)return [];var am=xl.a(yl.c||"",yl.f);if(!(am&&am instanceof Array))return [];for(var bm=0;bm<am.length;++bm){var cm,dm=am[bm];cm=new ud();if(dm){var em=hc(dm,"keySystem");if(null!=em){cm.a=em;}else throw Error("'keySystem' cannot be null.");var fm=hc(dm,"licenseServerUrl");if(null!=fm){cm.h=fm;}else if(em)throw Error("For encrypted streaming content, 'licenseServerUrl' cannot be null or empty.");em=fc(dm,"withCredentials");null!=em&&(cm.l=em);em=jc(dm,"licensePostProcessor",Function);null!=em&&(cm.o=em);em=jc(dm,"licensePreProcessor",Function);null!=em&&(cm.u=em);em=fc(dm,"distinctiveIdentifierRequired");null!=em&&(cm.g=em);em=fc(dm,"persistentStateRequired");null!=em&&(cm.i=em);em=hc(dm,"audioRobustness");null!=em&&(cm.f=em);em=hc(dm,"videoRobustness");null!=em&&(cm.j=em);em=jc(dm,"serverCertificate",Uint8Array);null!=em&&(cm.c=em);if(em=jc(dm,"initData",Object)){dm=jc(em,"initData",Uint8Array);if(null==dm)throw Error("'initData.initData' cannot be null.");em=hc(em,"initDataType");if(null==em)throw Error("'initData.initDataType' cannot be null.");cm.b.push({initData:new Uint8Array(dm.buffer),initDataType:em});}}0==cm.b.length&&yl.a&&yl.a.psshBox&&wd(cm,[{initData:yl.a.psshBox,initDataType:"cenc"}]);zl.push(cm);}return zl;}function oj(xl,yl,zl,am,bm){if(!zl.s||0===zl.s.length)return null;var cm=null,dm=1,em=0;if(zl.g){cm=zl.f.split("/")[1];if("mp4"!=cm&&"webm"!=cm){cm=null;}else{var fm=zl.g;"webm"!=cm||fm.c?fm.a||fm.b&&fm.b.a?(dm=fm.b,dm||(dm=new zf(),dm.url=zl.s,dm.a=fm.a?fm.a.clone():null),em=qj(dm,bm),dm=fm.c?qj(fm.c,bm):null,fm.f?(fm=fm.f,fm=new gh(bm,zl.s,fm.ea,fm.end)):fm=null,xl=new ej(xl,yl,cm,em,dm,fm,am,bm),yl=new rh(dm),am=new ki(),am.I=xl,am.J=yl,cm=am):cm=null:cm=null;}dm=zl.g.h;em=zl.g.g;}else if(zl.b){cm=zl.b,!cm.c&&!cm.f&&1<cm.b.length?cm=null:cm.c||yl.a||cm.f||1!=cm.b.length?cm.f&&0===cm.f.a.length?cm=null:(cm=cm.h?qj(cm.h,bm):null,xl=new ii(xl,yl,zl,am,bm),yl=new rh(cm),am=new ki(),am.I=xl,am.J=yl,cm=am):cm=null,dm=zl.b.a,em=zl.b.g;}else if(zl.a){xl:if(cm=zl.a,dm=0+(cm.f?1:0),dm+=cm.c?1:0,dm+=cm.b?1:0,0==dm?dm=false:(1!=dm&&(cm.f?(cm.c=null,cm.b=null):cm.c&&(cm.b=null)),dm=true),dm){dm=null;if(cm.g&&(dm=(cm=zl.a.g)?pj(zl,cm,ag):null,!dm)){cm=null;break xl;}cm=dm?qj(dm,bm):null;dm=zl.a;dm.f?(dm=zl.f.split("/")[1],"mp4"!=dm&&"webm"!=dm?xl=null:"webm"!=dm||cm?oh(bm,zl,1,0)?(em=(em=zl.a.f)?pj(zl,em,zf):null)?(em=qj(em,bm),xl=new ej(xl,yl,dm,em,cm,null,am,bm)):xl=null:xl=null:xl=null):xl=dm.h?dm.c?new ji(xl,yl,zl,am,bm):dm.b?"dynamic"!=xl.type&&null==yl.a?null:new hi(xl,yl,zl,am,bm):null:null;xl?(yl=new rh(cm),am=new ki(),am.I=xl,am.J=yl,cm=am):cm=null;}else cm=null;;dm=zl.a.a;em=zl.a.i;}else "text"==zl.f.split("/")[0]&&(cm=new ki(),cm.I=new bj(new gh(bm,zl.s)));if(!cm)return null;cm.id=zl.id;em&&(cm.b=-1*em/dm);cm.bandwidth=zl.bandwidth;cm.width=zl.width;cm.height=zl.height;cm.a=zl.f||"";cm.c=zl.h||"";for(xl=0;xl<zl.c.length;++xl)yl=zl.c[xl],yl.b&&cm.f.push(yl.b);return cm;}function pj(xl,yl,zl){yl=ph(yl,xl.id,null,xl.bandwidth,null);if(!yl)return null;zl=new zl();zl.url=ih(xl.s,yl);return zl;}function qj(xl,yl){var zl=xl.url,am=0,bm=null;xl.a&&(am=xl.a.ea,bm=xl.a.end);return new gh(yl,zl,am,bm);}function rj(){this.streamStats=null;this.droppedFrames=this.decodedFrames=NaN;this.bufferingTime=this.playTime=this.estimatedBandwidth=0;this.playbackLatency=NaN;this.bufferingHistory=[];this.bandwidthHistory=[];this.streamHistory=[];}function sj(xl,yl){var zl=new tj(yl);xl.streamHistory.push(new uj(zl));if(zl.videoHeight||!xl.streamStats)xl.streamStats=zl;}function tj(xl){this.videoWidth=xl.width;this.videoHeight=xl.height;this.videoMimeType=xl.a;this.videoBandwidth=xl.bandwidth;}function uj(xl){this.timestamp=eb()/1000;this.value=xl;}function vj(xl,yl,zl,am,bm){this.b=new gh(null,[new ye(xl)]);this.a=new ah();this.a.body=yl;this.a.method=zl;this.a.a=3;this.a.i=am;this.a.c=0;xl=bm||{};for(var cm in xl)this.a.b[cm]=xl[cm];}function wj(xl){return jh(xl.b,xl.a).then(function(yl){return Promise.resolve(new Uint8Array(yl));});}function xj(xl,yl,zl){sc.call(this,xl);this.c=yl;this.j=zl;this.a=this.h=null;this.i=new oc();this.b=[];this.f=[];this.o=0;this.g=new xc();this.l=null;}m(xj,sc);xj.prototype.destroy=function(){this.H=null;for(var xl=0;xl<this.f.length;++xl)this.f[xl].close().catch(function(){});this.f=[];this.b=this.a=this.h=null;this.g.destroy();this.g=null;this.i.destroy();this.i=null;this.l&&(i.clearTimeout(this.l),this.l=null);this.c=this.j=null;};xj.prototype.initialize=function(){var xl=new kc(),yl;yl=this.j;if(yl.D){yl=yl.a.a[0];for(var zl=[],am=0;am<yl.a.length;++am)zl.push.apply(zl,pi(yl.a[am]));yl=zl;}else yl=[];for(zl=0;zl<yl.length;++zl)am=yl[zl],am.a.a||am.b&&!fk(am.b)||xl.push(am.contentType,am);for(var zl={},am=false,bm=0;bm<yl.length;++bm){var cm=yl[bm];if(cm.a.a&&!xl.a.hasOwnProperty(cm.contentType)){var dm=cm.a.a,em=zl[dm];em||(em=cm.a,em={audioCapabilities:void 0,videoCapabilities:void 0,initDataTypes:void 0,distinctiveIdentifier:em.g?"required":"optional",persistentState:em.i?"required":"optional",sessionTypes:["temporary"]},zl[dm]=em);if(cm.b&&(dm=cm.contentType+"Capabilities",dm in em)){am=true;em[dm]||(em[dm]=[]);var fm;"audio"==cm.contentType?fm=cm.a.f:"video"==cm.contentType&&(fm=cm.a.j);em[dm].push({contentType:cm.b,robustness:fm});}}}if(!am)if(yl.length){this.a=yl[0].a;}else throw xl=Error("No DrmInfo exists!"),xl.type="drm",xl;if(0==Object.keys(zl).length)return cl(this.j,xl),this.g.resolve(),Promise.resolve();fm=new xc();zl=yj(zl,fm);zl=zl.then(this.v.bind(this,yl,xl));fm.reject(null);return zl;};function yj(xl,yl){for(var zl in xl)yl=yl.catch(function(am,bm){return navigator.requestMediaKeySystemAccess(am,[bm]);}.bind(null,zl,xl[zl]));return yl;}xj.prototype.v=function(xl,yl,zl){if(!this.c)return ak();for(var am=zl.keySystem,bm=zl.getConfiguration(),cm=["audio","video"],dm=0;dm<cm.length;++dm){var em=cm[dm];if(!yl.a.hasOwnProperty(em)){var fm=bm[em+"Capabilities"];if(fm){for(var fm=fm[0],gm=[],hm={},im=0;im<xl.length;++im){var jm=xl[im],km=fm?jm.b==fm.contentType:jm.contentType==em;jm.a.a!=am||!km||jm.id in hm||(gm.push(jm),hm[jm.id]=true,this.a=this.a?vd(this.a,jm.a):jm.a);}yl.set(em,gm);}}}cl(this.j,yl);return zl.createMediaKeys().then(function(lm){this.h=lm;}.bind(this));};function zj(xl){return xl.c?xl.h?xl.c.setMediaKeys(xl.h).then(dd(xl,function(){return this.c?this.a.c?this.h.setServerCertificate(this.a.c):Promise.resolve():ak();})).then(dd(xl,function(){if(!this.c)return ak();for(var yl=0;yl<this.a.b.length;++yl){var zl=this.a.b[yl];this.u({type:"encrypted",initDataType:zl.initDataType,initData:zl.initData});}0==this.a.b.length&&pc(this.i,this.c,"encrypted",this.u.bind(this));})):Promise.resolve():ak();}function ak(){var xl=Error("EmeManager destroyed");xl.type="destroy";return Promise.reject(xl);}xj.prototype.u=function(xl){for(var yl=new Uint8Array(xl.initData),zl=0;zl<this.b.length;++zl)if(td(yl,this.b[zl].data))return;try{var bm=bk(this);}catch(am){yl=yb(am);this.dispatchEvent(yl);this.g.reject(am);return;}xl=bm.generateRequest(xl.initDataType,xl.initData);this.b.push({data:yl,Da:bm});xl.catch(dd(this,function(cm){if(this.c){for(var dm=0;dm<this.b.length;++dm)if(this.b[dm].Da==bm){this.b.splice(dm,1);break;}dm=yb(cm);this.dispatchEvent(dm);this.g.reject(cm);}}));this.f.push(bm);};function bk(xl){var yl=null,yl=xl.h.createSession();pc(xl.i,yl,"message",xl.C.bind(xl));pc(xl.i,yl,"keystatuseschange",xl.B.bind(xl));return yl;}xj.prototype.C=function(xl){ck(this,xl.target,this.a,xl.message);};xj.prototype.B=function(xl){xl=xl.target;var yl={};xl.keyStatuses.forEach(function(am,bm){if("string"==typeof am){var cm=am;am=bm;bm=cm;}if("com.microsoft.playready"==this.a.a&&16==am.byteLength){var cm=new DataView(am),dm=cm.getUint32(0,true),em=cm.getUint16(4,true),fm=cm.getUint16(6,true);cm.setUint32(0,dm,false);cm.setUint16(4,em,false);cm.setUint16(6,fm,false);}cm=sd(new Uint8Array(am));yl[cm]=bm;}.bind(this));if(xl.expiration<Date.now()){for(var zl=0;zl<this.b.length;++zl)if(this.b[zl].Da==xl){this.b.splice(zl,1);break;}xl.close();this.f.splice(this.f.indexOf(xl),1);}fl(this.j,yl);};function ck(xl,yl,zl,am){am=dk(zl,am);wj(new vj(am.url,am.body,am.method,zl.l,am.headers)).then(dd(xl,function(bm){zl.o&&(bm=zl.o(bm));return yl.update(bm);})).then(dd(xl,function(){var bm=xb({type:"sessionReady",detail:yl});this.dispatchEvent(bm);this.o++;this.o>=this.f.length&&this.g.resolve();})).catch(dd(xl,function(bm){bm.Da=yl;bm=yb(bm);this.dispatchEvent(bm);}));}function dk(xl,yl){var zl={url:xl.h,body:yl.slice(0),method:"POST",headers:{}};if("com.microsoft.playready"===xl.a){for(var am=String.fromCharCode.apply(null,new Uint16Array(zl.body)),am=(new DOMParser()).parseFromString(am,"application/xml"),bm=am.getElementsByTagName("name"),cm=am.getElementsByTagName("value"),dm=0;dm<bm.length;dm++)zl.headers[bm[dm].childNodes[0].nodeValue]=cm[dm].childNodes[0].nodeValue;zl.body=i.atob(am.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue);}if(!xl.u)return zl;xl.u(zl);zl.url=hc(zl,"url");if(null==zl.url)throw Error("'url' cannot be null.");if(!(zl.body instanceof ArrayBuffer||"string"==typeof zl.body||null==zl.body))throw new TypeError("'body' must be an ArrayBuffer, a string, or null.");zl.method=hc(zl,"method");if("GET"!=zl.method&&"POST"!=zl.method)throw Error("'method' must be either 'GET' or 'POST'.");zl.headers=jc(zl,"headers",Object);if(null==zl.headers)throw Error("'headers' cannot be null.");return zl;}function ek(xl){sc.call(this,null);this.a=xl;this.b=null;this.f=new oc();this.j=this.i=null;this.B=0;this.u=null;this.h=false;this.D=true;this.g=new rj();this.c={enableAdaptation:true,streamBufferSize:15,liveStreamEndTimeout:15,licenseRequestTimeout:0,mpdRequestTimeout:0,segmentRequestTimeout:0,preferredLanguage:"en",restrictions:new v()};this.l=1;this.C=null;}m(ek,sc);l("shaka.player.Player",ek);ek.version="v1.6.4-fb";ek.isBrowserSupported=function(){return !!i.MediaSource&&!!i.Promise&&!!Element.prototype.requestFullscreen&&!!document.exitFullscreen&&"fullscreenElement" in document&&!!i.Uint8Array;};ek.prototype.U=function(xl){this.D=xl;};ek.prototype.setResumeAfterBuffering=ek.prototype.U;function fk(xl){return "text/vtt"==xl?!!i.VTTCue:MediaSource.isTypeSupported(xl);}ek.isTypeSupported=fk;ek.setTextStyle=function(xl){var yl=document.getElementById("ShakaPlayerTextStyle");yl||(yl=document.createElement("style"),yl.id="ShakaPlayerTextStyle",document.head.appendChild(yl));for(yl=yl.sheet;yl.cssRules.length;)yl.deleteRule(0);yl.insertRule("::cue { "+x(xl)+" }",0);};ek.prototype.destroy=function(){return this.o().then(dd(this,function(){this.f.destroy();this.a=this.f=null;})).catch(function(){});};ek.prototype.destroy=ek.prototype.destroy;ek.prototype.o=function(){if(!this.b)return Promise.resolve();this.h&&kk(this);this.a.pause();qc(this.f);jk(this);hk(this);this.i&&(this.i.destroy(),this.i=null);this.a.src="";var xl=this.a.setMediaKeys(null);this.b&&(this.b.destroy(),this.b=null);this.h=false;this.g=new rj();return xl;};ek.prototype.unload=ek.prototype.o;ek.prototype.da=function(xl){yk(xl,this.a);var yl=this.o();this.a.autoplay&&(p("load"),pc(this.f,this.a,"timeupdate",this.mb.bind(this)));xl.Pa(this.c);xl.U=this.C;this.C=null;yl=yl.then(dd(this,function(){return xl.Fa();}));yl.catch(dd(this,function(zl){xl.destroy();return Promise.reject(zl);}));return yl.then(dd(this,function(){if(!this.a)return gk();this.b=xl;pc(this.f,this.b,"seekrangechanged",this.tb.bind(this));this.i=new xj(this,this.a,this.b);return this.i.initialize();})).then(dd(this,function(){if(!this.a)return gk();pc(this.f,this.a,"error",this.Eb.bind(this));pc(this.f,this.a,"playing",this.sb.bind(this));pc(this.f,this.a,"pause",this.rb.bind(this));return zk(this.b,this,this.a);})).then(dd(this,function(){return this.a?zj(this.i):gk();})).then(dd(this,function(){if(!this.a)return gk();ik(this);})).catch(dd(this,function(zl){if(!this.a)return gk();if("destroy"!=zl.type){var am=yb(zl);this.dispatchEvent(am);}return this.o().then(function(){return Promise.reject(zl);});}));};ek.prototype.load=ek.prototype.da;function gk(){var xl=Error("Player destroyed");xl.type="destroy";return Promise.reject(xl);}j=ek.prototype;j.mb=function(){q("load");this.g.playbackLatency=r("load")/1000;this.f.pa(this.a,"timeupdate");};j.Eb=function(){if(this.a.error){var xl=this.a.error.code;xl!=MediaError.MEDIA_ERR_ABORTED&&(xl=Error(lk[xl]||"Unknown playback error."),xl.type="playback",xl=yb(xl),this.dispatchEvent(xl));}};j.sb=function(){p("playing");!this.j&&0>this.l&&(this.a.playbackRate=0,this.v(this.a.currentTime,Date.now(),this.l));this.h&&kk(this);};j.rb=function(){q("playing");var xl=r("playing");if(!isNaN(xl)){var yl=this.g;yl.playTime+=xl/1000;}hk(this);};j.tb=function(xl){this.B=xl.start;};j.cb=function(){if(!this.a.paused){q("playing");var xl=r("playing");if(!isNaN(xl)){var yl=this.g;yl.playTime+=xl/1000;p("playing");}}xl=this.g;yl=this.a;yl.getVideoPlaybackQuality&&(yl=yl.getVideoPlaybackQuality(),xl.decodedFrames=yl.totalVideoFrames,xl.droppedFrames=yl.droppedVideoFrames);return this.g;};ek.prototype.getStats=ek.prototype.cb;ek.prototype.ca=function(){return this.b?this.b.na():[];};ek.prototype.getVideoTracks=ek.prototype.ca;ek.prototype.$=function(){return this.b?this.b.ba():[];};ek.prototype.getAudioTracks=ek.prototype.$;ek.prototype.ba=function(){return this.b?this.b.Qa():[];};ek.prototype.getTextTracks=ek.prototype.ba;ek.prototype.selectVideoTrack=function(xl,yl){return this.b?this.b.selectVideoTrack(xl,void 0==yl?true:yl):false;};ek.prototype.selectVideoTrack=ek.prototype.selectVideoTrack;ek.prototype.ja=function(xl,yl,zl){return this.b?hl(this.b,"audio",xl,void 0==yl?true:yl,zl):false;};ek.prototype.selectAudioTrack=ek.prototype.ja;ek.prototype.ka=function(xl){return this.b?hl(this.b,"text",xl,false):false;};ek.prototype.selectTextTrack=ek.prototype.ka;ek.prototype.Z=function(xl){this.b&&dl(this.b,xl);};ek.prototype.enableTextTrack=ek.prototype.Z;ek.prototype.T=function(xl){hk(this);0<=xl?this.a.playbackRate=xl:this.a.paused||(this.a.playbackRate=0,this.v(this.a.currentTime,Date.now(),xl));this.l=xl;};ek.prototype.setPlaybackRate=ek.prototype.T;ek.prototype.K=function(){return this.l;};ek.prototype.getPlaybackRate=ek.prototype.K;ek.prototype.la=function(xl){this.C=xl;};ek.prototype.setPlaybackStartTime=ek.prototype.la;ek.prototype.F=function(){return this.b?this.b.Ra():false;};ek.prototype.isLive=ek.prototype.F;ek.prototype.Y=function(xl){if(xl){var yl=fc(xl,"enableAdaptation");null!=yl&&(this.c.enableAdaptation=yl);yl=gc(xl,"streamBufferSize");null!=yl&&(this.c.streamBufferSize=yl);yl=gc(xl,"liveStreamEndTimeout");null!=yl&&(this.c.liveStreamEndTimeout=yl);yl=gc(xl,"licenseRequestTimeout");null!=yl&&(this.c.licenseRequestTimeout=yl);yl=gc(xl,"mpdRequestTimeout");null!=yl&&(this.c.mpdRequestTimeout=yl);yl=gc(xl,"minMpdRefreshInterval");null!=yl&&(this.c.minMpdRefreshInterval=yl);yl=gc(xl,"segmentRequestTimeout");null!=yl&&(this.c.segmentRequestTimeout=yl);yl=hc(xl,"preferredLanguage");null!=yl&&(this.c.preferredLanguage=yl);yl=jc(xl,"restrictions",v);null!=yl&&(this.c.restrictions=yl.clone());xl=fc(xl,"disableCacheBustingEvenThoughItMayAffectBandwidthEstimation");null!=xl&&(bh=!xl);this.b&&this.b.Pa(this.c);}};ek.prototype.configure=ek.prototype.Y;ek.prototype.aa=function(){return this.c;};ek.prototype.getConfiguration=ek.prototype.aa;function hk(xl){xl.j&&(i.clearTimeout(xl.j),xl.j=null);}function ik(xl){jk(xl);xl.u=i.setTimeout(xl.L.bind(xl),100);}function jk(xl){xl.u&&(i.clearTimeout(xl.u),xl.u=null);}ek.prototype.v=function(xl,yl,zl){this.j=null;var am=(Date.now()-yl)/1000*zl;this.a.currentTime<this.B+(this.F()?1:.05)?this.a.pause():(am=Math.max(this.B,xl+am),this.a.currentTime=am,this.j=i.setTimeout(this.v.bind(this,xl,yl,zl),250));};function kk(xl){q("buffering");var yl=xl.g;yl.bufferingTime+=r("buffering")/1000;xl.h=false;xl.dispatchEvent(xb({type:"bufferingEnd"}));}ek.prototype.L=function(){ik(this);if(!this.a.ended&&!this.a.seeking){var xl=this.a.buffered,yl=xl.length?xl.end(xl.length-1):0,xl=Math.max(yl-this.a.currentTime,0),zl=this.a.duration,am=this.a.currentTime;if(this.h){if(yl=Number(this.b.B.initialStreamBufferSize),zl=Math.max(zl-am-.05,0),bm||xl>yl||xl>zl)kk(this),this.D&&this.a.play();}else{var zl=isNaN(zl)?0:Math.max(zl-.05,0),bm;!(this.a.paused||yl>=zl||am>=zl)&&.5>xl&&(this.h=true,this.a.pause(),this.g.bufferingHistory.push(eb()/1000),p("buffering"),this.dispatchEvent(xb({type:"bufferingStart"})));}}};var lk={2:"A network failure occured while loading media content.",3:"The browser failed to decode the media content.",4:"The browser does not support the media content."};function mk(xl){for(var yl=0;yl<xl.length;++yl)for(var zl=xl[yl],am=0;am<zl.a.length;++am){for(var bm=zl.a[am],cm=bm,dm=0;dm<cm.m.length;++dm)fk(mi(cm.m[dm]))||(cm.m.splice(dm,1),--dm);0==bm.m.length&&(zl.a.splice(am,1),--am);}}function nk(xl){for(var yl=0;yl<xl.length;++yl)for(var zl=xl[yl],am=0;am<zl.a.length;++am)zl.a[am].m.sort(ok);}function ok(xl,yl){var zl=xl.bandwidth||Number.MAX_VALUE,am=yl.bandwidth||Number.MAX_VALUE;return zl<am?-1:zl>am?1:0;}function pk(xl){this.a=xl;}pk.prototype.destroy=function(){this.a.destroy();this.a=null;};pk.prototype.update=function(xl){var yl=qk(xl),zl=qk(this.a);return Promise.all([yl,zl]).then(dd(this,function(am){var bm=am[0];am=am[1];var cm=this.a.a;mk(cm);nk(cm);xl.b&&!this.a.b&&(xl.h=true);xl.f=this.a.f;xl.g=this.a.g?this.a.g.clone():null;xl.c=this.a.c;cm=[];rk(xl,this.a,bm,am,cm);bm=xl.a;mk(bm);nk(bm);return Promise.resolve(cm);}));};function qk(xl){function yl(am,bm){return am.concat(bm);}var zl=xl.a.map(function(am){return am.a;}).reduce(yl,[]).map(function(am){return am.m;}).reduce(yl,[]);xl=zl.map(function(am){return am.I.create();});return Promise.all(xl).then(function(am){for(var bm={},cm=0;cm<zl.length;++cm)bm[zl[cm].A]=am[cm];return Promise.resolve(bm);});}function rk(xl,yl,zl,am,bm){var cm=new kc();xl.a.forEach(function(gm,hm){cm.push(gm.id||""+hm,gm);});var dm=new kc();yl.a.forEach(function(gm,hm){dm.push(gm.id||""+hm,gm);});xl=nc(cm);for(yl=0;yl<xl.length;++yl){var em=xl[yl],fm=cm.get(em);1<fm.length||(em=dm.get(em))&&0!=em.length&&1==em.length&&(sk(fm[0],em[0],zl,am,bm),fm[0].b=em[0].b);}}function sk(xl,yl,zl,am,bm){var cm=new kc();xl.a.forEach(function(gm,hm){cm.push(gm.id||""+hm,gm);});var dm=new kc();yl.a.forEach(function(gm,hm){dm.push(gm.id||""+hm,gm);});xl=nc(cm);for(yl=0;yl<xl.length;++yl){var em=xl[yl],fm=cm.get(em);1<fm.length||(em=dm.get(em))&&0!=em.length&&1==em.length&&tk(fm[0],em[0],zl,am,bm);}}function tk(xl,yl,zl,am,bm){var cm=new kc();xl.m.forEach(function(im,jm){cm.push(im.id||""+jm,im);});var dm=new kc();yl.m.forEach(function(im,jm){dm.push(im.id||""+jm,im);});yl={};for(var em=nc(cm),fm=0;fm<em.length;++fm){var gm=em[fm];yl[gm]=gm;var hm=cm.get(gm);1<hm.length||((gm=dm.get(gm))&&0!=gm.length?1==gm.length&&(uk(hm[0],gm[0],zl,am),hm[0].J=gm[0].J,gm[0].J=null,hm[0].b=gm[0].b):(bm.push(hm[0]),xl.m.splice(xl.m.indexOf(hm[0]),1)));}em=nc(dm);for(fm=0;fm<em.length;++fm)gm=em[fm],yl[gm]||(yl[gm]=gm,gm=dm.get(gm),xl.m.push(gm[0]));}function uk(xl,yl,zl,am){xl=zl[xl.A];yl=am[yl.A];xl.length();xl.Ba(yl)&&xl.length();}function vk(){this.a=this.b=null;this.f=new oc();this.c=Number.POSITIVE_INFINITY;this.i=true;this.g=false;}l("shaka.media.SimpleAbrManager",vk);vk.prototype.destroy=function(){this.f.destroy();this.a=this.b=this.f=null;};vk.prototype.initialize=function(xl,yl){this.b||this.a||(this.b=xl,this.a=yl);};vk.prototype.start=function(){this.b&&this.a&&!this.g&&(this.c=Date.now()+4000,pc(this.f,this.b,"bandwidth",this.l.bind(this)),pc(this.f,this.a,"adaptation",this.j.bind(this)),pc(this.f,this.a,"trackschanged",this.h.bind(this)),this.g=true);};vk.prototype.enable=function(xl){this.i=xl;};vk.prototype.getInitialVideoTrackId=function(){if(!this.b||!this.a)return null;var xl=wk(this);return xl?xl.id:null;};vk.prototype.getInitialAudioTrackId=function(){return null;};vk.prototype.selectVideoTrack=function(xl,yl,zl){this.g&&this.a.selectVideoTrack(xl.id,yl,zl);};vk.prototype.l=function(){Date.now()<this.c||this.h();};vk.prototype.h=function(){if(this.i){var xl=wk(this);if(xl){if(xl.active){this.c=Date.now()+3000;return;}this.selectVideoTrack(xl,false);}this.c=Number.POSITIVE_INFINITY;}};vk.prototype.j=function(){this.c==Number.POSITIVE_INFINITY&&(this.c=Date.now()+30000);};function wk(xl){var yl=xl.a.na();if(0==yl.length)return null;yl.sort(fa);var zl;xl:{zl=xl.a.ba();for(var am=0;am<zl.length;++am)if(zl[am].active){zl=zl[am];break xl;}zl=null;};zl=zl?zl.bandwidth:0;xl=xl.b.getBandwidth();for(var am=yl[0],bm=0;bm<yl.length;++bm){var cm=yl[bm],dm=bm+1<yl.length?yl[bm+1]:{bandwidth:Number.POSITIVE_INFINITY};if(cm.bandwidth&&(dm=(dm.bandwidth+zl)/.85,xl>=(cm.bandwidth+zl)/.95&&xl<=dm&&(am=cm,am.active)))break;}return am;}function xk(xl,yl,zl){sc.call(this,null);this.a=xl;this.ca=yl;this.i=new oc();this.g=new MediaSource();this.f=null;this.la=this.ua=0;this.ka=3;this.b=new kc();this.o=zl;this.o.initialize(yl,this);this.D=false;this.C="en";this.da=false;this.K=null;this.u=new xc();this.Ua=new xc();this.h=new v();this.v=null;this.Oa=1;this.c={};this.$=new xc();this.Y=0;this.Na=15;this.l=null;this.Ja=this.Ma=false;this.j={};this.U=this.T=this.L=null;this.B={};}m(xk,sc);l("shaka.player.StreamVideoSource",xk);xk.prototype.Pa=function(xl){null!=xl.streamBufferSize&&(this.B.streamBufferSize=xl.streamBufferSize);null!=xl.segmentRequestTimeout&&(this.B.segmentRequestTimeout=xl.segmentRequestTimeout);vl(this);null!=xl.enableAdaptation&&this.o.enable(Boolean(xl.enableAdaptation));null!=xl.mpdRequestTimeout&&(this.la=Number(xl.mpdRequestTimeout));null!=xl.minMpdRefreshInterval&&(this.ka=Number(xl.minMpdRefreshInterval)/1000);null!=xl.liveStreamEndTimeout&&(this.Na=Number(xl.liveStreamEndTimeout));null!=xl.preferredLanguage&&(this.C=cc(String(xl.preferredLanguage)));null!=xl.restrictions&&(this.h=xl.restrictions,this.D&&el(this));};xk.prototype.destroy=function(){this.u.destroy();this.$.destroy();this.$=this.u=null;this.T&&(i.clearTimeout(this.T),this.T=null);this.L&&(i.clearTimeout(this.L),this.L=null);this.j=null;this.i.destroy();this.i=null;ec(this.c).forEach(function(xl){xl.destroy();});this.b=this.c=null;this.a&&(this.a.destroy(),this.a=null);this.o.destroy();this.H=this.h=this.K=this.f=this.g=this.ca=this.o=null;};function yk(xl,yl){pc(xl.i,xl.g,"sourceopen",xl.nb.bind(xl));yl.src=i.URL.createObjectURL(xl.g);}function zk(xl,yl,zl){if(!xl.D)return xl=Error("Cannot call attach() right now."),xl.type="app",Promise.reject(xl);xl.H=yl;xl.f=zl;xl.K=yl.cb();pc(xl.i,xl.ca,"bandwidth",xl.Fb.bind(xl));xl.a.b&&(pc(xl.i,yl,"bufferingStart",xl.lb.bind(xl)),pc(xl.i,yl,"bufferingEnd",xl.kb.bind(xl)));yl=xl.f.setMediaKeys(xl.f.mediaKeys);xl.Ua.then(dd(xl,function(){jl(this).then(dd(this,function(){this.u&&this.u.resolve();})).catch(dd(this,function(am){this.u&&this.u.reject(am);}));}));return Promise.all([xl.u,yl]);}j=xk.prototype;j.Fa=function(){if(this.D){var xl=Error("Cannot call load() right now.");xl.type="app";return Promise.reject(xl);}if(!this.a||0==this.a.a.length)return xl=Error("The manifest does not specify any content."),xl.type="stream",Promise.reject(xl);xl=this.a.a;mk(xl);nk(xl);if(0==this.a.a.length||0==this.a.a[0].a.length)return xl=Error("The manifest specifies content that cannot be displayed on this browser/platform."),xl.type="stream",Promise.reject(xl);this.D=true;this.B.initialStreamBufferSize=this.a.c;vl(this);el(this);return Promise.resolve();};j.Za=function(xl){var yl=Date.now(),zl=this.L=null,am=this.a.g;(xl?this.Xa():this.Ya(am)).then(dd(this,function(bm){zl=new pk(bm);return zl.update(this.a);})).then(dd(this,function(bm){zl.destroy();zl=null;var cm=tl(this,sl(this));cm&&this.f.paused&&cm.end>this.f.currentTime+10&&(this.f.currentTime=cm.end);if(this.a.h&&this.f.currentTime+.5>this.Y)return this.qa();for(cm=0;cm<bm.length;++cm)bl(this,bm[cm]);this.B.initialStreamBufferSize=this.a.c;vl(this);el(this);0==Object.keys(this.c).length?jl(this):al(this,(Date.now()-yl)/1000);})).catch(dd(this,function(bm){zl&&(zl.destroy(),zl=null);"aborted"!=bm.type&&(bm=yb(bm),this.dispatchEvent(bm),this.a&&al(this,0));}));};j.Ya=function(){return Promise.reject("Cannot update manifest with this VideoSource implementation.");};j.Xa=function(){return Promise.reject("Cannot update manifest with this VideoSource implementation.");};function al(xl,yl){if(null!=xl.a.f){var zl=Math.max(xl.a.f,xl.ka),zl=Math.max(zl-yl,0);xl.L=i.setTimeout(xl.Za.bind(xl,false),1000*zl);}}function bl(xl,yl){var zl=yl.a.split("/")[0],am=xl.c[zl];if(am&&am.ma()==yl){var bm=xl.b.get(yl.a.split("/")[0]).map(function(cm){return cm.m;}).reduce(function(cm,dm){return cm.concat(dm);},[]).filter(function(cm){return cm.M&&cm.G;});if(0==bm.length){zl=Error("All usable streams have been removed from the manifest.");zl.type="app";zl=yb(zl);xl.dispatchEvent(zl);return;}xl.j[zl].Ga==yl&&delete xl.j[zl];am.oa(bm[0],true);yl.destroy();}yl.destroy();}j.na=function(){if(!this.b.a.hasOwnProperty("video"))return [];for(var xl=this.c.video,xl=(xl=xl?xl.ma():null)?xl.A:0,yl=[],zl=this.b.get("video"),am=0;am<zl.length;++am)for(var bm=zl[am],cm=0;cm<bm.m.length;++cm){var dm=bm.m[cm];if(dm.M&&dm.G){var em=dm.A,dm=new ea(em,dm.bandwidth,dm.width,dm.height,dm.id);em==xl&&(dm.active=true);yl.push(dm);}}return yl;};xk.prototype.getVideoTracks=xk.prototype.na;xk.prototype.ba=function(){if(!this.b.a.hasOwnProperty("audio"))return [];for(var xl=this.c.audio,xl=(xl=xl?xl.ma():null)?xl.A:0,yl=[],zl=this.b.get("audio"),am=0;am<zl.length;++am)for(var bm=zl[am],cm=bm.lang,dm=0;dm<bm.m.length;++dm){var em=bm.m[dm];if(em.M&&em.G){var fm=em.A,em=new u(fm,em.bandwidth,cm,em.id);fm==xl&&(em.active=true);yl.push(em);}}return yl;};xk.prototype.getAudioTracks=xk.prototype.ba;xk.prototype.Qa=function(){if(!this.b.a.hasOwnProperty("text"))return [];for(var xl=this.c.text,yl=xl?xl.ma():null,yl=yl?yl.A:0,zl=[],am=this.b.get("text"),bm=0;bm<am.length;++bm)for(var cm=am[bm],dm=cm.lang,em=0;em<cm.m.length;++em){var fm=cm.m[em].A,gm=new da(fm,dm);fm==yl&&(gm.active=true,gm.enabled=xl.wa());zl.push(gm);}return zl;};xk.prototype.getTextTracks=xk.prototype.Qa;function cl(xl,yl){if(xl.D){for(var zl={},am=xl.a.a[0],bm=0;bm<am.a.length;++bm){var cm=am.a[bm];zl[cm.A]=cm;}xl.b.a={};am=nc(yl);for(bm=0;bm<am.length;++bm){var cm=am[bm],dm=yl.get(cm);if("video"==cm){var em=dm[0].id;xl.b.push(cm,zl[em]);}else if("audio"==cm){for(var em=dm[0].b.split(";")[0],fm=0;fm<dm.length;++fm){var gm=dm[fm];gm.b.split(";")[0]==em&&xl.b.push(cm,zl[gm.id]);}}else for(fm=0;fm<dm.length;++fm)em=dm[fm].id,xl.b.push(cm,zl[em]);}xl.da=true;if(zl=xl.b.get("audio"))il(xl,zl),xl.b.set("audio",zl),zl=zl[0].lang||xl.C,zb(2,xl.C,zl)&&(xl.da=false);if(zl=xl.b.get("text"))il(xl,zl),xl.b.set("text",zl),zl=zl[0].lang||xl.C,zb(2,xl.C,zl)||(xl.da=false);}}xk.prototype.selectVideoTrack=function(xl,yl,zl){return hl(this,"video",xl,yl,zl);};function dl(xl,yl){var zl=xl.c.text;zl&&zl.ra(yl);}function el(xl){if(xl.h){for(var yl=false,zl=0;zl<xl.a.a.length;++zl)for(var am=xl.a.a[zl],bm=0;bm<am.a.length;++bm){var cm=am.a[bm];if("video"==cm.contentType)for(var dm=0;dm<cm.m.length;++dm){var em=cm.m[dm],fm=em.G;em.G=true;xl.h.maxWidth&&em.width>xl.h.maxWidth&&(em.G=false);xl.h.maxHeight&&em.height>xl.h.maxHeight&&(em.G=false);xl.h.minHeight&&em.height<xl.h.minHeight&&(em.G=false);xl.h.maxBandwidth&&em.bandwidth>xl.h.maxBandwidth&&(em.G=false);xl.h.minBandwidth&&em.bandwidth<xl.h.minBandwidth&&(em.G=false);fm!=em.G&&(yl=true);}}0!=lc(xl.b).length&&yl&&(gl(xl),0<xl.na().length||(yl=Error("The application has restricted all video tracks!"),yl.type="app",yl=yb(yl),xl.dispatchEvent(yl)));}}xk.prototype.Ra=function(){return this.a?this.a.b:false;};xk.prototype.isLive=xk.prototype.Ra;function fl(xl,yl){for(var zl,am=false,bm=new kc(),cm=lc(xl.b),dm=0;dm<cm.length;++dm)for(var em=cm[dm],fm=0;fm<em.m.length;++fm){var gm=em.m[fm];gm.f.forEach(function(hm){bm.push(hm,gm);});}for(zl in yl)if(cm=ub[yl[zl]]||null,em=bm.get(zl)){for(dm=0;dm<em.length;++dm)gm=em[dm],fm=gm.M,gm.M=!cm,fm!=gm.M&&(am=true);}else yc(zl);am&&(gl(xl),am=xl.ba(),zl=xl.na(),am=xl.b.a.hasOwnProperty("audio")&&0==am.length,zl=xl.b.a.hasOwnProperty("video")&&0==zl.length,am||zl)&&(zl=Error("The key system has restricted all "+(am&&zl?"audio and video tracks.":am?"audio tracks.":"video tracks.")),zl.type="drm",zl=yb(zl),xl.dispatchEvent(zl));}function gl(xl){var yl=xb({type:"trackschanged",bubbles:true});xl.dispatchEvent(yl);}function hl(xl,yl,zl,am,bm){if(!xl.b.a.hasOwnProperty(yl)||!xl.c[yl])return false;for(var cm=xl.b.get(yl),dm=0;dm<cm.length;++dm)for(var em=cm[dm],fm=0;fm<em.m.length;++fm){var gm=em.m[fm];if(gm.A==zl){if(!gm.M||!gm.G)return false;if("text"!=yl&&!xl.Ja)return zl=xl.j[yl],xl.j[yl]={Ga:gm,Sa:null!=zl&&zl.Sa||am,Ta:null!=zl&&zl.Ta||bm},true;sj(xl.K,gm);xl.c[yl].oa(gm,am,bm);return true;}}return false;}function il(xl,yl){for(var zl=0;2>=zl;++zl)for(var am=0;am<yl.length;++am){var bm=yl[am];if(zb(zl,xl.C,bm.lang)){yl.splice(am,1);yl.splice(0,0,bm);return;}}for(am=0;am<yl.length;++am)if(bm=yl[am],bm.b){yl.splice(am,1);yl.splice(0,0,bm);break;}}j=xk.prototype;j.nb=function(){this.i.pa(this.g,"sourceopen");this.Ua.resolve();};function jl(xl){for(var yl=[],zl=["audio","video","text"],am=0;am<zl.length;++am){var bm=zl[am];xl.b.a.hasOwnProperty(bm)&&yl.push(xl.b.get(bm)[0]);}for(var cm=kl(xl,yl),am=0;am<zl.length;++am)if(bm=zl[am],xl.b.a.hasOwnProperty(bm)&&!cm[bm])return xl=Error("Unable to select an initial "+bm+" stream: all "+bm+" streams have been restricted (by the application or by the key system)."),xl.type="stream",Promise.reject(xl);yl=ec(cm).map(function(dm){return dm.I.create();});return Promise.all(yl).then(dd(xl,function(dm){if(!dm.every(function(em){return em.length();}))return dm=Error("Some streams are not available."),dm.type="stream",Promise.reject(dm);dm=tl(this,dm);if(!dm)return dm=Error("Some streams are not available."),dm.type="stream",Promise.reject(dm);if(!ll(this,cm))return dm=Error("Failed to create Stream objects."),dm.type="stream",Promise.reject(dm);this.o.start();nl(this,cm,dm);return Promise.resolve();})).catch(dd(xl,function(dm){if("aborted"!=dm.type)return Object.keys(this.c),this.a.b?(eb()<this.a.i?(dm=Math.max(this.a.i-Date.now()/1000,this.ka),this.L=i.setTimeout(this.Za.bind(this,true),1000*dm)):al(this,0),Promise.resolve()):Promise.reject(dm);}));}function kl(xl,yl){for(var zl={},am=0;am<yl.length;++am){var bm=yl[am],cm=null;if("video"==bm.contentType){var dm=xl.o.getInitialVideoTrackId();if(null==dm)continue;cm=bm.m.filter(function(em){return em.A==dm;});if(0==cm.length)continue;cm=cm[0];}else if("audio"==bm.contentType){if(dm=xl.o.getInitialAudioTrackId(),cm=bm.m.filter(function(em){return em.A==dm;}),0==cm.length){cm=bm.m.filter(function(em){return em.M&&em.G;});if(0==cm.length)continue;cm=bm.m[Math.floor(cm.length/2)];}else cm=cm[0];}else 0<bm.m.length&&(cm=bm.m[0]);zl[bm.contentType]=cm;}return zl;}function ll(xl,yl){var zl={},am;for(am in yl){var bm=yl[am],bm="text"==am?new cj(xl,xl.f):ml(xl,bm);if(!bm)return ec(zl).forEach(function(cm){cm.destroy();}),false;zl[am]=bm;}xl.c=zl;return true;}function ml(xl,yl){var zl=new ti(xl,xl.f,xl.g,mi(yl),xl.ca);zl.C(xl.B);return zl;}function nl(xl,yl,zl){xl.Oa=xl.f.playbackRate;xl.f.playbackRate=0;pl(xl,zl);var am;xl.U&&xl.U<=zl.end&&xl.U>=zl.start?am=xl.U:xl.a.b?(am=zl.end,xl.Ma=true):am=zl.start;pc(xl.i,xl.f,"seeking",xl.ub.bind(xl));xl.f.currentTime!=am&&(xl.f.currentTime=am,xl.v=am);ql(xl,zl.start,zl.end);var bm=[],cm;for(cm in xl.c)zl=xl.c[cm],dd(xl,function(dm){bm.push(dm.eb(this.$).then(dd(this,function(em){var fm=dm.xa();fm>this.ua&&(this.ua=fm);return em;})));})(zl),pc(xl.i,zl,"ended",xl.vb.bind(xl)),am=yl[cm],sj(xl.K,am),zl.oa(am,false);Promise.all(bm).then(xl.jb.bind(xl)).catch(dd(xl,function(dm){"destroy"!=dm.type&&(dm=yb(dm),this.dispatchEvent(dm));}));dl(xl,xl.da);}j.jb=function(xl){n(xl&&xl.length==Object.keys(this.c).length);for(var yl=Number.POSITIVE_INFINITY,zl=Number.NEGATIVE_INFINITY,am=0;am<xl.length;++am)var bm=xl[am],yl=Math.min(yl,bm),zl=Math.max(zl,bm);xl=sl(this);for(am=0;am<xl.length;++am)xl[am].ha(zl);ol(this,xl,zl);am=lc(this.b).map(function(cm){return cm.m;}).reduce(function(cm,dm){return cm.concat(dm);},[]).map(function(cm){var dm=[cm.I.create()];cm.J&&dm.push(cm.J.create());return Promise.all(dm);});Promise.all(am).then(dd(this,function(cm){for(var dm=0;dm<cm.length;++dm)cm[dm][0].ha(zl);this.Ja=true;for(var em in this.j)cm=this.j[em],dm=this.c[em],sj(this.K,cm.Ga),dm.oa(cm.Ga,cm.Sa,cm.Ta);this.j={};})).catch(dd(this,function(cm){"aborted"!=cm.type&&(cm=yb(cm),this.dispatchEvent(cm));}));};function ol(xl,yl,zl){if(yl=tl(xl,yl))pl(xl,yl),ql(xl,yl.start,yl.end);0!=zl&&(zl=xl.f.currentTime+zl,xl.f.currentTime=zl,xl.v=zl);xl.Ma&&yl&&(xl.f.currentTime=yl.end);xl.f.playbackRate=xl.Oa;xl.a.b&&null!=xl.a.f&&al(xl,0);ul(xl);xl.$.resolve();}function pl(xl,yl){if(xl.a.b){isNaN(xl.g.duration)&&(xl.g.duration=yl.end+2592000);}else if(isNaN(xl.g.duration)||yl.end>xl.g.duration){xl.g.duration=yl.end;for(var zl=0;zl<xl.g.sourceBuffers.length;++zl)xl.g.sourceBuffers[zl].appendWindowEnd=yl.end;}}j.wb=function(){this.T=null;ul(this);var xl=tl(this,sl(this));xl&&(this.a.b&&this.Y!=xl.w&&(this.Y=xl.w,null!=this.l&&(i.clearTimeout(this.l),this.l=null)),ql(this,xl.start,xl.end),this.f.paused||rl(this,this.f.currentTime,xl.start,xl.end));};function ql(xl,yl,zl){yl=xb({type:"seekrangechanged",bubbles:true,start:yl,end:zl});xl.dispatchEvent(yl);}j.ub=function(){var xl=this.f.currentTime;if(null!=this.v){if(xl>=this.v-.01&&xl<=this.v+.01){this.v=null;return;}this.v=null;}var yl=tl(this,sl(this));if(yl){var zl=yl.end;(yl=rl(this,xl,yl.start,zl))||(xl<=zl+.01?yl=false:(this.f.currentTime=zl,yl=true));if(!yl)for(var am in this.c)this.c[am].ab();}};function rl(xl,yl,zl,am){if(yl>=zl-.01)return false;yl=0;if(xl.a.b){yl=.5;for(var bm in xl.c)if(!xl.c[bm].bb(zl+yl)){yl=xl.a.c;break;}}xl.f.currentTime=Math.min(zl+yl,am);return true;}j.vb=function(){if(!this.a.b){for(var xl in this.c)if(!this.c[xl].Aa())return;this.qa();}};j.lb=function(){if(this.a.h&&this.f.currentTime+.5>this.Y)return this.qa();ec(this.c).every(function(xl){return xl.Aa();})&&(this.l=i.setTimeout(this.qa.bind(this),1000*this.Na));};j.kb=function(){null!=this.l&&(i.clearTimeout(this.l),this.l=null);};j.Fb=function(){var xl=this.K,yl=this.ca.getBandwidth();xl.estimatedBandwidth=yl;xl.bandwidthHistory.push(new uj(yl));};j.qa=function(){this.l=null;this.g.endOfStream();};function sl(xl){return ec(xl.c).map(function(yl){return yl.Wa();}).filter(function(yl){return null!=yl;});}function tl(xl,yl){for(var zl=0,am=Number.POSITIVE_INFINITY,bm=Number.POSITIVE_INFINITY,cm=0;cm<yl.length;++cm){var dm=yl[cm].ya(),zl=Math.max(zl,dm.start);null!=dm.end&&(am=Math.min(am,dm.end));yl[cm].length()&&(bm=Math.min(bm,yl[cm].w().a));}if(am==Number.POSITIVE_INFINITY)if(am=xl.a.a[0],am.b){am=(am.start||0)+am.b;}else return null;xl.a.b&&(am=Math.max(am-xl.a.c,zl));if(zl>am)return null;am=Math.floor(100000*am)/100000;return {start:zl,end:am,w:bm};}function ul(xl){xl.a.b&&(xl.T=i.setTimeout(xl.wb.bind(xl),1000));}function vl(xl){for(var yl in xl.c)xl.c[yl].C(xl.B);}j.xa=function(){return this.ua;};xk.prototype.getLongestInitResponseTime=xk.prototype.xa;function wl(xl,yl,zl,am){zl||(zl=new uc());am||(am=new vk());xk.call(this,null,zl,am);"string"===typeof xl?this.fb=xl:this.Ia=xl;this.Z=null;this.aa=yl;this.ja=[];this.Ka=[];this.La=[];this.F=null;}m(wl,xk);l("shaka.player.DashVideoSource",wl);wl.prototype.gb=function(xl,yl,zl){this.ja.push(xl);this.Ka.push(yl||"");this.La.push(zl||"");};wl.prototype.addExternalCaptions=wl.prototype.gb;wl.prototype.hb=function(xl){this.F=xl;};wl.prototype.setNetworkCallback=wl.prototype.hb;wl.prototype.destroy=function(){this.Z=this.F=this.aa=null;xk.prototype.destroy.call(this);};wl.prototype.Fa=function(){var xl=dd(this,function(zl){this.Z=zl;for(var am=0;am<this.ja.length;am++){var bm=zl,cm=this.ja[am],dm=this.Ka[am],em=this.La[am];if(0!==bm.a.length){var fm=new qf();fm.contentType="text";fm.lang=dm||"en";fm.c=true;dm=new tf();dm.bandwidth=0;dm.f=em||"text/vtt";dm.s=[new ye(cm)];fm.a.push(dm);bm.a[0].b.push(fm);hg(bm.a[0]);}}this.a=gj(new fj(this.aa),zl,this.F);return xk.prototype.Fa.call(this);});if(this.Ia)return xl(this.Ia);var yl=[new ye(this.fb)],yl=new gh(this.F,yl);return mh(new lh(yl,this.la)).then(xl);};wl.prototype.Ya=function(xl){return mh(new lh(xl,this.la)).then(dd(this,function(yl){this.Z=yl;yl=gj(new fj(this.aa),yl,this.F);return Promise.resolve(yl);}));};wl.prototype.Xa=function(){var xl=gj(new fj(this.aa),this.Z,this.F);return Promise.resolve(xl);};}.bind(h,b))();f.exports=h.shaka;},null);
__d('CustomAbrManager',['EventListener','SubscriptionsHandler','Shaka','VideoPlayerShakaExperiments'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('Shaka').player.VideoTrack;i.FIRST_SWITCH_INTERVAL=c('VideoPlayerShakaExperiments').firstSwitchInterval||4000;i.MIN_SWITCH_INTERVAL=c('VideoPlayerShakaExperiments').minSwitchInterval||30000;i.MIN_EVAL_INTERVAL=c('VideoPlayerShakaExperiments').minEvalInterval||3000;i.BANDWIDTH_UPGRADE_TARGET=c('VideoPlayerShakaExperiments').bandwidthUpgradeTarget||.85;i.BANDWIDTH_DOWNGRADE_TARGET=c('VideoPlayerShakaExperiments').bandwidthDowngradeTarget||.95;function i(j){'use strict';this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager3=new (c('SubscriptionsHandler'))();this.$CustomAbrManager4=Number.POSITIVE_INFINITY;this.$CustomAbrManager5=true;this.$CustomAbrManager6=false;this.$CustomAbrManager7=j.maxWidth;this.$CustomAbrManager8=j.maxHeight;this.$CustomAbrManager9=j.forceHighQualityDefault;this.$CustomAbrManager10=j.initiallyForcedRepresentations;}i.prototype.destroy=function(){'use strict';this.$CustomAbrManager3.release();this.$CustomAbrManager3.engage();this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager5=false;};i.prototype.setResolutionConstraint=function(j,k){'use strict';this.$CustomAbrManager7=j;this.$CustomAbrManager8=k;this.$CustomAbrManager11();};i.prototype.initialize=function(j,k){'use strict';if(this.$CustomAbrManager1||this.$CustomAbrManager2)return;this.$CustomAbrManager1=j;this.$CustomAbrManager2=k;};i.prototype.start=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2||this.$CustomAbrManager6)return;this.$CustomAbrManager4=Date.now()+i.FIRST_SWITCH_INTERVAL;this.$CustomAbrManager3.addSubscriptions(c('EventListener').listen(this.$CustomAbrManager1,'bandwidth',this.$CustomAbrManager12.bind(this)),c('EventListener').listen(this.$CustomAbrManager2,'adaptation',this.$CustomAbrManager13.bind(this)),c('EventListener').listen(this.$CustomAbrManager2,'trackschanged',this.$CustomAbrManager14.bind(this)));this.$CustomAbrManager6=true;};i.prototype.$CustomAbrManager14=function(){'use strict';this.$CustomAbrManager11();};i.prototype.forceHighQuality=function(j){'use strict';this.$CustomAbrManager9=j;if(!this.$CustomAbrManager6)return;if(j){var k=this.$CustomAbrManager15();if(k)this.selectVideoTrack(k,true);}else this.$CustomAbrManager11();};i.prototype.enable=function(j){'use strict';this.$CustomAbrManager5=j;};i.prototype.getInitialVideoTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var j=this.$CustomAbrManager15();return j?j.id:null;};i.prototype.getInitialAudioTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var j=this.$CustomAbrManager16();return j?j.id:null;};i.prototype.selectVideoTrack=function(j,k,l){'use strict';if(!this.$CustomAbrManager6)return;this.$CustomAbrManager2.selectVideoTrack(j.id,k,l);};i.$CustomAbrManager17=function(j){'use strict';for(var k=0;k<j.length;++k)if(j[k].active)return j[k];return null;};i.prototype.$CustomAbrManager12=function(event){'use strict';if(Date.now()<this.$CustomAbrManager4)return;this.$CustomAbrManager11(event);};i.prototype.$CustomAbrManager11=function(event){'use strict';if(!this.$CustomAbrManager5)return;var j=this.$CustomAbrManager15();if(j){if(j.active){this.$CustomAbrManager4=Date.now()+i.MIN_EVAL_INTERVAL;return;}this.selectVideoTrack(j,false);}this.$CustomAbrManager4=Number.POSITIVE_INFINITY;};i.prototype.$CustomAbrManager13=function(event){'use strict';if(this.$CustomAbrManager4==Number.POSITIVE_INFINITY)this.$CustomAbrManager4=Date.now()+i.MIN_SWITCH_INTERVAL;};i.prototype.$CustomAbrManager15=function(){'use strict';var j=this.$CustomAbrManager2.getVideoTracks();if(j.length==0)return null;if(!this.$CustomAbrManager6)for(var k=0;k<j.length;k++)if(this.$CustomAbrManager10&&this.$CustomAbrManager10.includes(j[k].streamInfoID))return j[k];j.sort(h.compare);if(this.$CustomAbrManager9)return j.pop();var l=j[0],m=this.$CustomAbrManager8,n=this.$CustomAbrManager7;j=j.filter(function(v){return v.width<=n||v.height<=m;});var o=i.$CustomAbrManager17(this.$CustomAbrManager2.getAudioTracks()),p=o?o.bandwidth:0,q=this.$CustomAbrManager1.getBandwidth();for(var k=0;k<j.length;k++){var r=j[k],s=k+1<j.length?j[k+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!r.bandwidth)continue;var t=(r.bandwidth+p)/i.BANDWIDTH_DOWNGRADE_TARGET,u=(s.bandwidth+p)/i.BANDWIDTH_UPGRADE_TARGET;if(q>=t&&q<=u){l=r;if(l.active)break;}}return l;};i.prototype.$CustomAbrManager16=function(){'use strict';var j=this.$CustomAbrManager2.getAudioTracks();if(j.length==0)return null;if(!this.$CustomAbrManager6)for(var k=0;k<j.length;k++)if(this.$CustomAbrManager10&&this.$CustomAbrManager10.includes(j[k].streamInfoID))return j[k];return null;};f.exports=i;},null);
__d('VideoPlayerHTML5Shaka',['invariant','BlobFactory','CacheStorage','CustomAbrManager','EventEmitter','EventListener','Event','Run','VideoDashPrefetchCache','VideoPlayerShakaExperiments','dispatchEvent','Shaka'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Shaka').player,l=k.Player,m=k.DashVideoSource,n=k.VideoTrack,o=c('Shaka').dash.mpd.parseMpd,p=c('Shaka').util,q=p.EWMACacheBandwidthEstimator,r=p.EWMASignedURLBandwidthEstimator,s=p.FailoverUri,t=window.devicePixelRatio||1,u=new (c('CacheStorage'))('localstorage','_video_'),v=c('VideoPlayerShakaExperiments').enableAdaptation?new q(c('VideoPlayerShakaExperiments').cacheDelay,c('VideoPlayerShakaExperiments').cacheBandwidth,c('VideoPlayerShakaExperiments').useStoredBandwidthEstimate?u.get('bandwidthEstimate'):undefined):new r();s.setPrefetchCacheValueGetter(c('VideoDashPrefetchCache').getCacheValue);c('Run').onUnload(function(){return u.set('bandwidthEstimate',v.getBandwidth());});c('Shaka').polyfill.Fullscreen.install();function w(ca){var da=ca.getVideoTracks();da.sort(n.compare);return da.pop().id;}function x(ca){var da=ca.getVideoTracks();da.sort(n.compare);return da.shift().id;}function y(ca){var da=c('BlobFactory').getBlob([ca]);return URL.createObjectURL(da);}function z(ca,event){var da=c('EventListener').capture(ca.parentNode,event,function(ea){if(ea.target!=ca)return;da.remove();c('Event').kill(ea);});}function aa(ca,da){'use strict';this.$DisabledAbrManager1=ca;this.$DisabledAbrManager2=da;}aa.prototype.initialize=function(ca,da){'use strict';this.$DisabledAbrManager3=da;};aa.prototype.start=function(){'use strict';if(this.$DisabledAbrManager4)return;this.$DisabledAbrManager4=true;if(this.$DisabledAbrManager2&&this.$DisabledAbrManager1)this.$DisabledAbrManager3.selectVideoTrack(w(this.$DisabledAbrManager3),false);};aa.prototype.enable=function(){'use strict';};aa.prototype.getInitialVideoTrackId=function(){'use strict';if(this.$DisabledAbrManager2)return x(this.$DisabledAbrManager3);var ca=this.$DisabledAbrManager1?w(this.$DisabledAbrManager3):x(this.$DisabledAbrManager3);return ca;};aa.prototype.destroy=function(){'use strict';this.$DisabledAbrManager3=null;};i=babelHelpers.inherits(ba,c('EventEmitter'));j=i&&i.prototype;function ba(ca,da,ea){var fa=ea.width,ga=ea.height,ha=ea.manifest,ia=ea.manifestUrl,ja=ea.playHighQualityTrack;'use strict';j.constructor.call(this);this.$VideoPlayerHTML5Shaka1=ja;this.$VideoPlayerHTML5Shaka2=false;this.$VideoPlayerHTML5Shaka3=false;this.$VideoPlayerHTML5Shaka4=fa;this.$VideoPlayerHTML5Shaka5=ga;this.$VideoPlayerHTML5Shaka6=true;var ka=c('EventListener').listen(ca,'playing',function(){this.$VideoPlayerHTML5Shaka6=false;ka.remove();}.bind(this));this.$VideoPlayerHTML5Shaka7=new l(ca);this.$VideoPlayerHTML5Shaka7.addEventListener('bufferingStart',function(){return this.$VideoPlayerHTML5Shaka8();}.bind(this));this.$VideoPlayerHTML5Shaka7.addEventListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Shaka9();}.bind(this));this.$VideoPlayerHTML5Shaka7.addEventListener('error',function(la){return this.$VideoPlayerHTML5Shaka10(la);}.bind(this));this.$VideoPlayerHTML5Shaka7.addEventListener('adaptation',this.$VideoPlayerHTML5Shaka11.bind(this));this.$VideoPlayerHTML5Shaka7.addEventListener('trackschanged',this.$VideoPlayerHTML5Shaka12.bind(this));this.$VideoPlayerHTML5Shaka13=da;if(ha){this.$VideoPlayerHTML5Shaka14=o(ha);}else this.$VideoPlayerHTML5Shaka14=ia;this.$VideoPlayerHTML5Shaka15=this.$VideoPlayerHTML5Shaka16();this.$VideoPlayerHTML5Shaka17=this.$VideoPlayerHTML5Shaka18();this.$VideoPlayerHTML5Shaka19=ca;this.$VideoPlayerHTML5Shaka7.configure({enableAdaptation:c('VideoPlayerShakaExperiments').enableAdaptation,streamBufferSize:c('VideoPlayerShakaExperiments').streamBufferSize,initialStreamBufferSize:c('VideoPlayerShakaExperiments').initialStreamBufferSize,minMpdRefreshInterval:c('VideoPlayerShakaExperiments').minMpdRefreshInterval,disableCacheBustingEvenThoughItMayAffectBandwidthEstimation:true,liveStreamEndTimeout:c('VideoPlayerShakaExperiments').liveStreamEndTimeout/1000});this.$VideoPlayerHTML5Shaka7.load(this.$VideoPlayerHTML5Shaka17);}ba.prototype.selectHighestQualityTrack=function(){'use strict';if(c('VideoPlayerShakaExperiments').enableAdaptation){this.$VideoPlayerHTML5Shaka1=true;this.$VideoPlayerHTML5Shaka15.forceHighQuality(true);return;}this.$VideoPlayerHTML5Shaka7.selectVideoTrack(w(this.$VideoPlayerHTML5Shaka7),true);};ba.prototype.selectLowestQualityTrack=function(){'use strict';if(c('VideoPlayerShakaExperiments').enableAdaptation){this.$VideoPlayerHTML5Shaka1=false;this.$VideoPlayerHTML5Shaka15.forceHighQuality(false);return;}this.$VideoPlayerHTML5Shaka7.selectVideoTrack(x(this.$VideoPlayerHTML5Shaka7),false);};ba.prototype.pause=function(){'use strict';if(this.$VideoPlayerHTML5Shaka20){this.$VideoPlayerHTML5Shaka21=true;this.$VideoPlayerHTML5Shaka22=true;c('dispatchEvent')(this.$VideoPlayerHTML5Shaka19,'pause');this.$VideoPlayerHTML5Shaka7.setResumeAfterBuffering(false);}else this.$VideoPlayerHTML5Shaka19.pause();};ba.prototype.play=function(){'use strict';if(this.$VideoPlayerHTML5Shaka20){this.$VideoPlayerHTML5Shaka21=false;this.$VideoPlayerHTML5Shaka22=true;c('dispatchEvent')(this.$VideoPlayerHTML5Shaka19,'play');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka19,'waiting');this.$VideoPlayerHTML5Shaka7.setResumeAfterBuffering(true);}else this.$VideoPlayerHTML5Shaka19.play();};ba.prototype.$VideoPlayerHTML5Shaka8=function(){'use strict';z(this.$VideoPlayerHTML5Shaka19,'pause');this.$VideoPlayerHTML5Shaka20=true;this.$VideoPlayerHTML5Shaka21=false;this.$VideoPlayerHTML5Shaka22=false;this.$VideoPlayerHTML5Shaka7.setResumeAfterBuffering(true);this.emit('bufferingStart');};ba.prototype.$VideoPlayerHTML5Shaka9=function(){var ca=this;'use strict';if(!this.$VideoPlayerHTML5Shaka21)z(this.$VideoPlayerHTML5Shaka19,'play');if(!this.$VideoPlayerHTML5Shaka22)(function(){var da=c('EventListener').capture(ca.$VideoPlayerHTML5Shaka19.parentNode,'playing',function(ea){if(ea.target!=this.$VideoPlayerHTML5Shaka19)return;da.remove();if(this.$VideoPlayerHTML5Shaka6){this.$VideoPlayerHTML5Shaka6=false;return;}c('Event').kill(ea);}.bind(ca));})();this.$VideoPlayerHTML5Shaka20=false;this.emit('bufferingEnd');};ba.prototype.$VideoPlayerHTML5Shaka10=function(ca){'use strict';var da=ca.detail||{},ea=da.type||'undefined',fa=da.message;if(this.$VideoPlayerHTML5Shaka3&&this.$VideoPlayerHTML5Shaka2&&ea=='net')return;this.emit('error',{error:'SHAKA_'+ea.toUpperCase(),message:fa});};ba.prototype.hasSelectableVideoTracks=function(){'use strict';var ca=this.$VideoPlayerHTML5Shaka7.getVideoTracks();return ca.length>1;};ba.prototype.unload=function(){'use strict';this.$VideoPlayerHTML5Shaka3=this.$VideoPlayerHTML5Shaka17&&this.$VideoPlayerHTML5Shaka17.isLive();this.$VideoPlayerHTML5Shaka7.unload();this.$VideoPlayerHTML5Shaka2=true;};ba.prototype.$VideoPlayerHTML5Shaka16=function(){'use strict';var ca=this.$VideoPlayerHTML5Shaka1,da={forceHighQualityDefault:ca,maxWidth:this.$VideoPlayerHTML5Shaka23(),maxHeight:this.$VideoPlayerHTML5Shaka24(),initiallyForcedRepresentations:this.$VideoPlayerHTML5Shaka13};return c('VideoPlayerShakaExperiments').enableAdaptation?new (c('CustomAbrManager'))(da):new aa(ca,c('VideoPlayerShakaExperiments').switchFromLowQuality);};ba.prototype.$VideoPlayerHTML5Shaka18=function(){'use strict';!this.$VideoPlayerHTML5Shaka15?h(0):void 0;!this.$VideoPlayerHTML5Shaka14?h(0):void 0;var ca=new m(this.$VideoPlayerHTML5Shaka14,null,v,this.$VideoPlayerHTML5Shaka15);return ca;};ba.prototype.reload=function(ca){'use strict';if(!this.$VideoPlayerHTML5Shaka2)return;this.$VideoPlayerHTML5Shaka15=this.$VideoPlayerHTML5Shaka16();this.$VideoPlayerHTML5Shaka17=this.$VideoPlayerHTML5Shaka18();return this.$VideoPlayerHTML5Shaka7.load(this.$VideoPlayerHTML5Shaka17).then(function(){if(this.$VideoPlayerHTML5Shaka3!=this.$VideoPlayerHTML5Shaka17.isLive())return this.$VideoPlayerHTML5Shaka25();this.$VideoPlayerHTML5Shaka2=false;this.$VideoPlayerHTML5Shaka19.currentTime=ca;}.bind(this))['catch'](function(da){if(this.$VideoPlayerHTML5Shaka3)return this.$VideoPlayerHTML5Shaka25();}.bind(this));};ba.prototype.$VideoPlayerHTML5Shaka25=function(){'use strict';c('dispatchEvent')(this.$VideoPlayerHTML5Shaka19,'seeked');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka19,'playing');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka19,'ended');this.unload();};ba.prototype.getLongestInitResponseTime=function(){'use strict';return this.$VideoPlayerHTML5Shaka17.getLongestInitResponseTime();};ba.$VideoPlayerHTML5Shaka26=function(){'use strict';return (c('VideoPlayerShakaExperiments').resolutionConstraintFactor*t);};ba.prototype.$VideoPlayerHTML5Shaka23=function(){'use strict';if(!c('VideoPlayerShakaExperiments').useResolutionConstraints)return Infinity;return this.$VideoPlayerHTML5Shaka4*ba.$VideoPlayerHTML5Shaka26();};ba.prototype.$VideoPlayerHTML5Shaka24=function(){'use strict';if(!c('VideoPlayerShakaExperiments').useResolutionConstraints)return Infinity;return this.$VideoPlayerHTML5Shaka5*ba.$VideoPlayerHTML5Shaka26();};ba.prototype.setDimensions=function(ca,da){'use strict';this.$VideoPlayerHTML5Shaka4=ca;this.$VideoPlayerHTML5Shaka5=da;this.$VideoPlayerHTML5Shaka15.setResolutionConstraint(this.$VideoPlayerHTML5Shaka23(),this.$VideoPlayerHTML5Shaka24());};ba.isSupported=function(){'use strict';return l.isBrowserSupported();};ba.prototype.$VideoPlayerHTML5Shaka12=function(){'use strict';this.emit('tracksChanged');};ba.prototype.$VideoPlayerHTML5Shaka11=function(){'use strict';this.emit('adaptation');};f.exports=ba;},null);